openapi: 3.0.0
info:
  title: NetBackup Recovery API
  version: '12.0'
  description: >
    The NetBackup Recovery API provides the ability to perform a recovery from
    previous backups.
externalDocs:
  description: Getting Started Guide
  url: >-
    http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started/
servers:
  - url: 'https://<masterserver>:1556/netbackup'
    description: NetBackup Master
paths:
  /recovery/workloads/mssql/scenarios/database-complete-recovery/recover:
    post:
      description: >
        Restores a completely recovered Microsoft SQL Server database to a
        requested recovery point.


        **Access Control**\
          To initiate a recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MSSQL|RECOVER|`


        A restore to an alternate location requires:\

        Requires Operation: `|OPERATIONS|MSSQL|ALT_RECOVER|`


        Overwriting the original asset requires:\

        Requires Operation: `|OPERATIONS|MSSQL|OVERWRITE_RECOVER|`\

        A restore from an instant access database requires:\

        Requires Operation: `|OPERATIONS|MSSQL|INSTANT_ACCESS_RECOVER|`


        A restore using credentialId requires:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MANAGE|CREDENTIALS|ASSIGNABLE|`
      tags:
        - Microsoft SQL Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery schema for a Microsoft SQL Server recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to 'recoveryRequest.'
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryObject: &ref_1
                          type: object
                          oneOf:
                            - type: object
                              description: Represents the database being recovered.
                              required:
                                - assetId
                                - credentialId
                              properties:
                                assetId:
                                  type: string
                                  description: >-
                                    Asset ID from the asset service for the
                                    database to be restored.
                                credentialId:
                                  type: string
                                  description: The unique ID of the credential.
                            - type: object
                              description: Represents the database being recovered.
                              required:
                                - assetId
                                - credentials
                              properties:
                                assetId:
                                  type: string
                                  description: >-
                                    Asset ID from the asset service for the
                                    database to be restored.
                                credentials:
                                  type: object
                                  description: >-
                                    Credentials for the restored database
                                    instance.
                                  required:
                                    - domain
                                    - userName
                                    - password
                                  properties:
                                    domain:
                                      type: string
                                      description: Domain
                                    userName:
                                      type: string
                                      description: User
                                    password:
                                      type: string
                                      format: password
                                      description: Password
                        recoveryPoint:
                          type: string
                          description: The recovery point ID.
                        recoveryOptions: &ref_2
                          type: object
                          description: Recovery options.
                          properties:
                            consistencyCheck:
                              type: string
                              description: >-
                                Consistency check after the
                                recovery(NONE/FULLINCLUDINGINDICES/FULLEXCLUDINGINDICES/CHECKCATALOG/PHYSICALCHECKONLY).
                              default: NONE
                            maxTransferSize:
                              type: string
                              description: Maximum transfer size in bytes.
                              enum:
                                - 64K
                                - 128K
                                - 256K
                                - 512K
                                - 1M
                                - 2M
                                - 4M
                              default: 4M
                            numBuffs:
                              type: integer
                              description: Client buffers per DBMS stripe.
                              minimum: 1
                              maximum: 32
                              default: 2
                              example: 3
                            recoveredState:
                              type: string
                              description: >-
                                State of the database after
                                recovery(Recovered/NotRecovered/Standby).
                              default: Recovered
                            instantAccessAction:
                              type: string
                              description: >-
                                Action for the mssql database based on instant
                                access livemount(NotEnable/Attach/Detach).
                              default: Disable
                            replaceDatabase:
                              type: boolean
                              description: >-
                                Replace an existing database with this recovery.
                                This operation is a destructive recovery.
                              default: false
                            traceLevel:
                              type: string
                              description: Client trace level(Minimum/Medium/Maximum).
                              default: Minimum
                            mssqlRecoveryCopyInfo: &ref_39
                              type: object
                              description: >-
                                Recovery copy information. If the
                                fullRecoveryCollection, incrRecoveryCollection,
                                or trxLogRecoveryCollection are empty, we will
                                use the primaryCopy for the backupId in the
                                recovery set.
                              properties:
                                fullRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the full recovery objects in this recovery
                                    set.
                                  items:
                                    $ref: '#definitions/mssqlImageCopyInfo'
                                incrRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the incremental recovery objects in this
                                    recovery set.
                                  items:
                                    $ref: '#definitions/mssqlImageCopyInfo'
                                trxLogRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the transaction log recovery objects in this
                                    recovery set.
                                  items:
                                    $ref: '#definitions/mssqlImageCopyInfo'
                            trxLogRecoveryOptions:
                              type: object
                              description: >-
                                Recovery options for transaction log backup
                                recovery. The default transaction log option is
                                "toPointInTime" with default time. Only one of
                                the following transaction log recovery options
                                should be provided.
                              properties:
                                toPointInTime:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Recovers the transaction log to a point in
                                    time.
                                  default: >-
                                    NetBackup image creation time for this
                                    transaction log backup.
                                toTrxLogMark:
                                  type: string
                                  description: >-
                                    Recovers the transaction log to a
                                    transaction log mark.
                                toTrxLogMarkButAfter:
                                  type: object
                                  description: >-
                                    Recovers the transaction log to a
                                    transaction log mark but after a point in
                                    time.
                                  required:
                                    - mark
                                    - time
                                  properties:
                                    mark:
                                      type: string
                                      description: The transaction log mark.
                                    time:
                                      type: string
                                      format: date-time
                                      description: The timestamp preceding the log mark.
                                beforeTrxLogMark:
                                  type: string
                                  description: >-
                                    Recovers the transaction log to a point
                                    before the occurrence of a transaction log
                                    mark.
                                beforeTrxLogMarkButAfter:
                                  type: object
                                  description: >-
                                    Recovers the transaction log to a point
                                    before the occurrence of a transaction log
                                    mark but after a point in time.
                                  required:
                                    - mark
                                    - time
                                  properties:
                                    mark:
                                      type: string
                                      description: The transaction log mark.
                                    time:
                                      type: string
                                      format: date-time
                                      description: The time stamp preceding the log mark.
                            verifyOnly:
                              type: boolean
                              description: Only verify the backup. Do not restore.
                              default: false
                            disconnectUsers:
                              type: boolean
                              description: >-
                                Disconnect Users before restore of database.
                                Requires replaceDatabase to be true.
                              default: false
                            livemountPath:
                              type: string
                              description: The unc path for the livemount.
                            vdiTimeout:
                              type: integer
                              description: >-
                                Timeout value in seconds for Sql Server Virtual
                                Device Interface.
                              minimum: 300
                              maximum: 2147483647
                              default: 600
                              example: 3600
                        alternateRecoveryOptions: &ref_3
                          type: object
                          description: Restore to an alternate location.
                          properties:
                            databaseName:
                              type: string
                              description: >-
                                Target database name for the restore. File
                                location must be provided.
                              required:
                                - alternateFileLocation
                            instanceName:
                              type: string
                              description: >-
                                Target instance name for the restore. File
                                location must be provided.
                              required:
                                - alternateFileLocation
                            client:
                              type: string
                              description: Target client name for the restore.
                            alternateFileLocation:
                              type: object
                              description: >-
                                Information specifying the alternate file
                                location for restore. Only one of the following
                                two options should be used.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: string
                                  description: >-
                                    The directory path that is used to rename
                                    the file path.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    File names and the alternate file paths that
                                    are used for the restore.
                                  items:
                                    type: object
                                    description: File name and the alternate file path.
                                    required:
                                      - name
                                      - path
                                    properties:
                                      name:
                                        type: string
                                        description: Source database logical file name.
                                      path:
                                        type: string
                                        description: Alternate file path.
        description: >-
          The request body for the recovery of the Microsoft SQL Server
          database.
        required: true
      responses:
        '201':
          description: Database recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_4
                description: The recovery response.
                type: object
                required:
                  - data
                  - relationships
                properties:
                  data:
                    description: Contains the recovery response data.
                    type: object
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      type:
                        description: The response type.
                        type: string
                        default: recoveryResponse
                      id:
                        description: The response identifier.
                        type: integer
                        format: int64
                      attributes:
                        description: Contains the recovery response attributes.
                        type: object
                        required:
                          - msg
                        properties:
                          msg:
                            description: The response message.
                            type: string
                  relationships:
                    description: >-
                      Contains the resources related to the recovery operation,
                      such as `recoveryJob`.
                    type: object
                    required:
                      - recoveryJob
                    properties:
                      recoveryJob:
                        description: Represents the job created by this recovery operation.
                        type: object
                        required:
                          - links
                          - data
                        properties:
                          links:
                            description: Contains the links to get the job details.
                            type: object
                            required:
                              - self
                              - related
                            properties:
                              self:
                                description: Gets the details about this recovery job.
                                type: string
                              related:
                                description: Gets a list of recent jobs.
                                type: string
                          data:
                            type: object
                            description: Contains the recovery job data.
                            required:
                              - type
                              - id
                            properties:
                              type:
                                description: The resource type. Set to `job`.
                                type: string
                              id:
                                description: The job identifier.
                                type: integer
                                format: int64
                example:
                  data:
                    type: recoveryResponse
                    id: 0
                    attributes:
                      msg: Recovery job started successfully
                  relationships:
                    recoveryJob:
                      links:
                        related: /admin/jobs
                        self: /admin/jobs/0
                      data:
                        type: job
                        id: 0
        '400': &ref_5
          description: Bad request.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_0
                type: object
                properties:
                  errorCode:
                    type: integer
                    format: int64
                    description: The NetBackup error code.
                  errorMessage:
                    type: string
                    description: The NetBackup error code description.
                  attributeErrors:
                    type: object
                    description: >
                      Maps the attributes with the invalid values to an error
                      that describes why the value is invalid, to provide more
                      context to the nature of the error.
                  errorDetails:
                    type: array
                    description: >-
                      A list that contains additional information about the
                      error.
                    items:
                      type: string
                  fileUploadErrors:
                    type: array
                    description: >
                      If an API is supporting content-type multipart/form-data,
                      then this holds a list of objects that contains names of
                      failed files and associated error messages.
                    items:
                      type: object
                required:
                  - errorCode
                  - errorMessage
        '401': &ref_6
          description: >
            The `Authorization` header is missing, the token is invalid, or you
            do not have permission for this action.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': &ref_7
          description: Method not allowed. The specified HTTP operation is invalid.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': &ref_8
          description: >-
            Invalid `Accept` type. Make sure your `Accept` header matches what
            this API produces.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '415': &ref_9
          description: >
            Unsupported Media Type. The media type specified in the
            `Content-Type` header is not supported by this API.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/mssql/scenarios/database-specific-rec-point/recover:
    post:
      description: >
        Restore a Microsoft SQL Server database with the given set of recovery
        points.


        **Access Control**\
          To initiate a recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MSSQL|RECOVER|`


        A restore to an alternate location requires:\

        Requires Operation: `|OPERATIONS|MSSQL|ALT_RECOVER|`


        Overwriting the original asset requires:\

        Requires Operation: `|OPERATIONS|MSSQL|OVERWRITE_RECOVER|`\

        A restore from an instant access database requires:\

        Requires Operation: `|OPERATIONS|MSSQL|INSTANT_ACCESS_RECOVER|`


        A restore using credentialId requires:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MANAGE|CREDENTIALS|ASSIGNABLE|`
      tags:
        - Microsoft SQL Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery schema for SQL Server recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to 'recoveryRequest'.
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryObject: *ref_1
                        recoveryPoint:
                          type: array
                          description: List of recovery points.
                          items:
                            type: string
                            description: The recovery point ID.
                        recoveryOptions: *ref_2
                        alternateRecoveryOptions: *ref_3
        description: >-
          The request body for the recovery of the Microsoft SQL Server
          database.
        required: true
      responses:
        '201':
          description: Database recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/postgresql/scenarios/instance-complete-recovery/recover:
    post:
      description: >
        Restores a Postgresql Server instance from a requested recovery point.


        **Access Control**\
          To initiate a recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|POSTGRESQL|`\


        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|POSTGRESQL|RECOVER|`
      tags:
        - Postgresql Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery schema for a Postgresql instance recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to 'recoveryRequest.'
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryObject: &ref_10
                          type: object
                          description: Represents the database being recovered.
                          required:
                            - assetId
                          properties:
                            assetId:
                              type: string
                              description: >-
                                Asset ID from the asset service for the database
                                to be restored.
                            isRecoveryEnabled:
                              type: boolean
                              description: >-
                                Flag represents whether to perform restore or
                                recovery.
                            credName:
                              type: string
                              description: >-
                                Credential Name required for recovery of
                                workload.
                            writeAheadLogDirectory:
                              type: string
                              description: >-
                                Absolute path of Write Ahead Logging directory
                                for restore.
                            pointInTime:
                              type: string
                              format: date-time
                              description: >-
                                Recovers the PostgreSQL instance to a point in
                                time.
                              default: >-
                                NetBackup image creation time of Incremental
                                backup.
                        recoveryPoint: &ref_11
                          type: object
                          description: Represents the backup image Id.
                          required:
                            - backupId
                          properties:
                            backupId:
                              type: string
                              description: Backup ID of images to be restored.
                        recoveryOptions:
                          type: object
                          description: Recovery options.
                          properties:
                            recoveredState:
                              type: string
                              description: >-
                                State of the database after
                                recovery(Recovered/NotRecovered/Standby).
                              default: Recovered
                            postgresqlRecoveryCopyInfo:
                              type: object
                              description: >-
                                Recovery copy information. If the
                                fullRecoveryCollection or incrRecoveryCollection
                                are empty, we will use the primaryCopy for the
                                backupId in the recovery set.
                              properties:
                                fullRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the full recovery objects in this recovery
                                    set.
                                  items:
                                    $ref: '#definitions/postgresqlImageCopyInfo'
                                incrRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the incremental recovery objects in this
                                    recovery set.
                                  items:
                                    $ref: '#definitions/postgresqlImageCopyInfo'
                        alternateRecoveryOptions:
                          type: object
                          description: Restore to an alternate location.
                          properties:
                            instanceName:
                              type: string
                              description: >-
                                Target instance name for the restore. File
                                location must be provided.
                              required:
                                - alternateFileLocation
                            client:
                              type: string
                              description: Target client name for the restore.
                            alternateFileLocation:
                              type: object
                              description: >-
                                Information specifying the alternate file
                                location for restore. Only one of the following
                                two options should be used.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: string
                                  description: >-
                                    The directory path that is used to rename
                                    the file path.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    File names and the alternate file paths that
                                    are used for the restore.
                                  items:
                                    type: object
                                    description: File name and the alternate file path.
                                    required:
                                      - name
                                      - path
                                    properties:
                                      name:
                                        type: string
                                        description: Source database logical file name.
                                      path:
                                        type: string
                                        description: Alternate file path.
        description: The request body for the recovery of the Postgresql Server instance.
        required: true
      responses:
        '201':
          description: Instance recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/postgresql/scenarios/database-complete-recovery/recover:
    post:
      description: >
        Restores a Postgresql Server database from a requested recovery point.


        **Access Control**\
          To initiate a recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|POSTGRESQL|`\


        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|POSTGRESQL|RECOVER|`
      tags:
        - Postgresql Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery schema for a Postgresql database recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to 'recoveryRequest.'
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryObject: *ref_10
                        recoveryPoint: *ref_11
                        recoveryOptions:
                          type: object
                          description: Recovery options.
                          properties:
                            recoveredState:
                              type: string
                              description: >-
                                State of the database after
                                recovery(Recovered/NotRecovered/Standby).
                              default: Recovered
                            postgresqlRecoveryCopyInfo:
                              type: object
                              description: >-
                                Recovery copy information. If the
                                fullRecoveryCollection or incrRecoveryCollection
                                are empty, we will use the primaryCopy for the
                                backupId in the recovery set.
                              properties:
                                fullRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the full recovery objects in this recovery
                                    set.
                                  items:
                                    $ref: '#definitions/postgresqlImageCopyInfo'
                        alternateRecoveryOptions:
                          type: object
                          description: Restore to an alternate location.
                          properties:
                            databaseName:
                              type: string
                              description: >-
                                Target database name for the restore. File
                                location must be provided.
                              required:
                                - alternateFileLocation
                            instanceName:
                              type: string
                              description: >-
                                Target instance name for the restore. File
                                location must be provided.
                              required:
                                - alternateFileLocation
                            client:
                              type: string
                              description: Target client name for the restore.
                            alternateFileLocation:
                              type: object
                              description: >-
                                Information specifying the alternate file
                                location for restore. Only one of the following
                                two options should be used.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: string
                                  description: >-
                                    The directory path that is used to rename
                                    the file path.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    File names and the alternate file paths that
                                    are used for the restore.
                                  items:
                                    type: object
                                    description: File name and the alternate file path.
                                    required:
                                      - name
                                      - path
                                    properties:
                                      name:
                                        type: string
                                        description: Source database logical file name.
                                      path:
                                        type: string
                                        description: Alternate file path.
        description: The request body for the recovery of the Postgresql Server database.
        required: true
      responses:
        '201':
          description: Database recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/mysql/scenarios/instance-complete-recovery/recover:
    post:
      description: >
        Restores a Mysql Server instance from a requested recovery point.


        **Access Control**\
          To initiate a recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|MYSQL|`\


        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|MYSQL|RECOVER|`
      tags:
        - Mysql Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery schema for a Mysql instance recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to 'recoveryRequest.'
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryObject: &ref_12
                          type: object
                          description: Represents the database being recovered.
                          required:
                            - assetId
                          properties:
                            assetId:
                              type: string
                              description: >-
                                Asset ID from the asset service for the database
                                to be restored.
                            isRecoveryEnabled:
                              type: boolean
                              description: >-
                                Flag represents whether to perform restore or
                                recovery.
                            credName:
                              type: string
                              description: >-
                                Credential Name required for recovery of
                                workload.
                            binLogDirectory:
                              type: string
                              description: >-
                                Absolute path of Binary Log Directory for
                                restore.
                        recoveryPoint: &ref_13
                          type: object
                          description: Represents the backup image Id.
                          required:
                            - backupId
                          properties:
                            backupId:
                              type: string
                              description: Backup ID of images to be restored.
                        recoveryOptions:
                          type: object
                          description: Recovery options.
                          properties:
                            recoveredState:
                              type: string
                              description: >-
                                State of the database after
                                recovery(Recovered/NotRecovered/Standby).
                              default: Recovered
                            mysqlRecoveryCopyInfo:
                              type: object
                              description: >-
                                Recovery copy information. If the
                                fullRecoveryCollection or incrRecoveryCollection
                                are empty, we will use the primaryCopy for the
                                backupId in the recovery set.
                              properties:
                                fullRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the full recovery objects in this recovery
                                    set.
                                  items:
                                    $ref: '#definitions/mysqlImageCopyInfo'
                                incrRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the incremental recovery objects in this
                                    recovery set.
                                  items:
                                    $ref: '#definitions/mysqlImageCopyInfo'
                        alternateRecoveryOptions:
                          type: object
                          description: Restore to an alternate location.
                          properties:
                            instanceName:
                              type: string
                              description: >-
                                Target instance name for the restore. File
                                location must be provided.
                              required:
                                - alternateFileLocation
                            client:
                              type: string
                              description: Target client name for the restore.
                            alternateFileLocation:
                              type: object
                              description: >-
                                Information specifying the alternate file
                                location for restore. Only one of the following
                                two options should be used.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: string
                                  description: >-
                                    The directory path that is used to rename
                                    the file path.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    File names and the alternate file paths that
                                    are used for the restore.
                                  items:
                                    type: object
                                    description: File name and the alternate file path.
                                    required:
                                      - name
                                      - path
                                    properties:
                                      name:
                                        type: string
                                        description: Source database logical file name.
                                      path:
                                        type: string
                                        description: Alternate file path.
        description: The request body for the recovery of the Mysql Server instance.
        required: true
      responses:
        '201':
          description: Instance recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/mysql/scenarios/database-complete-recovery/recover:
    post:
      description: >
        Restores a Mysql Server database from a requested recovery point.


        **Access Control**\
          To initiate a recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|MYSQL|`\


        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|MYSQL|RECOVER|`
      tags:
        - Mysql Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery schema for a Mysql database recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to 'recoveryRequest.'
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryObject: *ref_12
                        recoveryPoint: *ref_13
                        recoveryOptions:
                          type: object
                          description: Recovery options.
                          properties:
                            recoveredState:
                              type: string
                              description: >-
                                State of the database after
                                recovery(Recovered/NotRecovered/Standby).
                              default: Recovered
                            mysqlRecoveryCopyInfo:
                              type: object
                              description: >-
                                Recovery copy information. If the
                                fullRecoveryCollection or incrRecoveryCollection
                                are empty, we will use the primaryCopy for the
                                backupId in the recovery set.
                              properties:
                                fullRecoveryCollection:
                                  type: array
                                  description: >-
                                    Collection of backup copy information for
                                    the full recovery objects in this recovery
                                    set.
                                  items:
                                    $ref: '#definitions/mysqlImageCopyInfo'
                        alternateRecoveryOptions:
                          type: object
                          description: Restore to an alternate location.
                          properties:
                            databaseName:
                              type: string
                              description: >-
                                Target database name for the restore. File
                                location must be provided.
                              required:
                                - alternateFileLocation
                            instanceName:
                              type: string
                              description: >-
                                Target instance name for the restore. File
                                location must be provided.
                              required:
                                - alternateFileLocation
                            client:
                              type: string
                              description: Target client name for the restore.
                            alternateFileLocation:
                              type: object
                              description: >-
                                Information specifying the alternate file
                                location for restore. Only one of the following
                                two options should be used.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: string
                                  description: >-
                                    The directory path that is used to rename
                                    the file path.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    File names and the alternate file paths that
                                    are used for the restore.
                                  items:
                                    type: object
                                    description: File name and the alternate file path.
                                    required:
                                      - name
                                      - path
                                    properties:
                                      name:
                                        type: string
                                        description: Source database logical file name.
                                      path:
                                        type: string
                                        description: Alternate file path.
        description: The request body for the recovery of the Mysql Server database.
        required: true
      responses:
        '201':
          description: Database recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/oracle/scenarios/database-complete-clone/recover:
    post:
      description: >
        Recovers a complete Oracle database to a new location using the
        requested recovery point.


        **Access Control**\
          To initiate recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|RECOVER|`


        A clone to an alternate location requires:\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|ALT_RECOVER|`


        A clone using credentialId requires:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MANAGE|CREDENTIALS|ASSIGNABLE|`
      tags:
        - Oracle Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: &ref_20
              description: The recovery schema for an Oracle recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to 'recoveryRequest.'
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryObject: &ref_18
                          type: object
                          description: The recovery object for an Oracle recovery request.
                          required:
                            - instanceCredentials
                          properties:
                            instanceCredentials:
                              type: object
                              description: Credentials for the cloned database instance.
                              oneOf:
                                - &ref_14
                                  type: object
                                  description: 'Credentials for: domain/username/password'
                                  required:
                                    - credentialType
                                    - domain
                                    - username
                                    - password
                                  properties:
                                    credentialType:
                                      type: string
                                      enum:
                                        - CREDENTIAL_DETAILS
                                    domain:
                                      type: string
                                      description: Domain
                                    username:
                                      type: string
                                      description: User
                                    password:
                                      type: string
                                      format: password
                                      description: Password
                                - &ref_15
                                  type: object
                                  description: Credential ID
                                  required:
                                    - credentialType
                                    - credentialId
                                  properties:
                                    credentialType:
                                      type: string
                                      enum:
                                        - CREDENTIAL_ID
                                    credentialId:
                                      type: string
                                      description: Credential ID
                            serviceCredentials:
                              type: object
                              description: >-
                                Credentials to be used with the -RUNAS argument
                                when an instance is created using ORADIM for
                                cloning the database to a Microsoft Windows
                                system.
                              oneOf:
                                - *ref_14
                                - *ref_15
                        recoveryPoint:
                          type: string
                          description: The recovery point ID.
                        recoveryOptions: &ref_19
                          type: object
                          description: Recovery options.
                          properties:
                            streams:
                              type: integer
                              description: Number of streams to use when recovering.
                              minimum: 1
                              default: 1
                            scn:
                              type: number
                              description: >-
                                The SCN value for the point-in-time recovery.
                                Specify either recoveryDate or scn but not both.
                            recoveryDate:
                              type: string
                              description: >-
                                A single date YYYY-MM-DD HH24:MI:SS format for
                                recovery point-in-time. Specify either
                                recoveryDate or scn but not both.
                            createDirectories:
                              type: boolean
                              description: >-
                                Defines if destination directories are
                                automatically created during clone.
                              default: false
                            runCrosscheck:
                              type: boolean
                              description: >-
                                Specifies if an RMAN crosscheck is run after a
                                control file is restored.
                              default: false
                        alternateRecoveryOptions:
                          type: object
                          description: Restore to an alternate location.
                          required:
                            - oracleSID
                            - oracleHome
                            - databaseName
                            - client
                          properties:
                            databaseName:
                              type: string
                              description: Destination database name for the clone.
                            client:
                              type: string
                              description: Destination client name for the clone.
                            oracleSID:
                              type: string
                              description: Destination instance name for the clone.
                            oracleHome:
                              type: string
                              description: Location of the destination Oracle home.
                            oracleBaseConfig:
                              type: string
                              description: Location of the destination Oracle base config.
                            controlFilePaths:
                              type: object
                              description: The method of relocating the control files.
                              properties:
                                renameAllFilesToSameLocation: &ref_16
                                  type: object
                                  description: >-
                                    The destination directory that all files are
                                    cloned to.
                                  properties:
                                    destination:
                                      type: string
                                      description: >-
                                        The destination directory that all files
                                        are cloned to.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    A list of file source and destination
                                    location paths.
                                  items:
                                    type: object
                                    description: Source and destination file paths.
                                    properties:
                                      destination:
                                        type: string
                                        description: Alternate file path.
                            oracleManagedFiles:
                              type: object
                              description: >-
                                The method of setting destination Oracle Managed
                                Files directory.
                              properties:
                                omfPath:
                                  type: string
                                  description: >-
                                    The destination directory that spfile
                                    parameters are set to for use with Oracle
                                    Managed Files.
                                forceNewOmfDatabase:
                                  type: boolean
                                  description: >-
                                    Defines if RMAN forces a new management of
                                    files using Oracle Managed Files
                                    configuration at time of clone.
                            databaseFilePaths:
                              type: object
                              description: The method of relocating the database files.
                              properties:
                                renameAllFilesToSameLocation: *ref_16
                                renameEachFileToDifferentLocation: &ref_17
                                  type: array
                                  description: >-
                                    A list of file source and destination
                                    location paths.
                                  items:
                                    type: object
                                    description: Source and destination file paths.
                                    properties:
                                      source:
                                        type: string
                                        description: Source file path.
                                      destination:
                                        type: string
                                        description: Alternate file path.
                            tempFilePaths:
                              type: object
                              description: The method of relocating the temp files.
                              properties:
                                renameAllFilesToSameLocation: *ref_16
                                renameEachFileToDifferentLocation: *ref_17
                            redoFilePaths:
                              type: object
                              description: The method of relocating the redo files.
                              properties:
                                renameAllFilesToSameLocation: *ref_16
                                renameEachFileToDifferentLocation: *ref_17
        description: The request body for the recovery of the Oracle database.
        required: true
      responses:
        '201':
          description: Database recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/oracle/scenarios/pdb-complete-clone/recover:
    post:
      description: >
        Clones a complete Oracle pluggable database to an existing container
        using the requested recovery point.


        **Access Control**\
          To initiate recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|RECOVER|`


        A clone to an alternate location requires:\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|ALT_RECOVER|`


        A clone using credentialId requires:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MANAGE|CREDENTIALS|ASSIGNABLE|`
      tags:
        - Oracle Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: &ref_21
              description: The recovery schema for an Oracle recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to 'recoveryRequest.'
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryObject: *ref_18
                        recoveryPoint:
                          type: string
                          description: The recovery point ID.
                        recoveryOptions: *ref_19
                        alternateRecoveryOptions:
                          type: object
                          description: Restore to an alternate location.
                          required:
                            - oracleSID
                            - oracleHome
                            - databaseName
                            - client
                          properties:
                            databaseName:
                              type: string
                              description: >-
                                Destination pluggable database name for the
                                clone.
                            client:
                              type: string
                              description: Destination client name for the clone.
                            oracleSID:
                              type: string
                              description: Destination instance name for the clone.
                            oracleHome:
                              type: string
                              description: Location of the destination Oracle home.
                            controlFilePaths:
                              type: object
                              description: The method of relocating the control files.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: object
                                  description: >-
                                    The destination directory that contains all
                                    cloned files to set up an auxiliary
                                    instance.
                                  properties:
                                    auxiliary:
                                      type: string
                                      description: >-
                                        Intermediate auxiliary file path for a
                                        single pluggable database clone.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    A list of file source and destination
                                    location paths.
                                  items:
                                    type: object
                                    description: >-
                                      Intermediate auxiliary file path for a
                                      single pluggable database clone.
                                    properties:
                                      auxiliary:
                                        type: string
                                        description: Auxiliary file path.
                            databaseFilePaths:
                              type: object
                              description: The method of relocating the database files.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: object
                                  description: >-
                                    The destination and auxiliary directory that
                                    all files are cloned to.
                                  properties:
                                    auxiliary:
                                      type: string
                                      description: >-
                                        The auxiliary directory that all files
                                        are cloned to.
                                    destination:
                                      type: string
                                      description: >-
                                        The destination directory that all files
                                        are cloned to.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    A list of the PDB and the CDB$ROOT source,
                                    auxiliary, and destination location paths.
                                    The PDB filepaths require a source,
                                    auxiliary, and destination. The CDB$ROOT
                                    filepaths require source and auxiliary.
                                  items:
                                    type: object
                                    description: Source and destination file paths.
                                    properties:
                                      source:
                                        type: string
                                        description: Source file path.
                                      auxiliary:
                                        type: string
                                        description: Auxiliary file path.
                                      destination:
                                        type: string
                                        description: Destination file path.
                            tempFilePaths:
                              type: object
                              description: The method of relocating the temp files.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: object
                                  description: >-
                                    The destination directory that all files are
                                    cloned to.
                                  properties:
                                    auxiliary:
                                      type: string
                                      description: Auxiliary file path.
                                    destination:
                                      type: string
                                      description: >-
                                        The destination directory that all files
                                        are cloned to.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    A list of file source and destination
                                    location paths.
                                  items:
                                    type: object
                                    description: Source and destination file paths.
                                    properties:
                                      source:
                                        type: string
                                        description: Source file path.
                                      auxiliary:
                                        type: string
                                        description: Auxiliary file path.
                                      destination:
                                        type: string
                                        description: Destination file path.
                            redoFilePaths:
                              type: object
                              description: The method of relocating the redo log files.
                              properties:
                                renameAllFilesToSameLocation:
                                  type: object
                                  description: >-
                                    The destination directory that contains all
                                    cloned files to set up an auxiliary
                                    instance.
                                  properties:
                                    auxiliary:
                                      type: string
                                      description: >-
                                        The auxiliary directory that all files
                                        are cloned to.
                                renameEachFileToDifferentLocation:
                                  type: array
                                  description: >-
                                    A list of file source and destination
                                    location paths.
                                  items:
                                    type: object
                                    description: Source and destination file paths.
                                    properties:
                                      source:
                                        type: string
                                        description: Source file path.
                                      auxiliary:
                                        type: string
                                        description: Auxiliary file path.
        description: The request body for the recovery of the Oracle database.
        required: true
      responses:
        '201':
          description: Database recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/oracle/scenarios/database-complete-clone/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for the complete Oracle database recovery.


        **Access Control**\
          To initiate recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|RECOVER|`
      tags:
        - Oracle Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: *ref_20
        description: The request body for the pre-recovery check of the Oracle database.
        required: true
      responses:
        '201':
          description: Pre-recovery check successful.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The pre-recovery check job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The pre-recovery check job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/oracle/scenarios/pdb-complete-clone/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for the complete Oracle pluggable database
        clone.


        **Access Control**\
          To initiate recovery, the principal must have VIEW and RECOVER permissions on the asset.

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|RECOVER|`
      tags:
        - Oracle Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: *ref_21
        description: The request body for the pre-recovery check of the Oracle database.
        required: true
      responses:
        '201':
          description: Pre-recovery check successful.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The pre-recovery check job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The pre-recovery check job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/oracle/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified backup image of the
        oracle copilot backup.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|INSTANT_ACCESS_RECOVER|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|RECOVER|`
      tags:
        - Oracle Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the instant access mount from oracle
                copilot images.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantAccessOracleMount' as a type.
                      type: string
                      enum:
                        - instantAccessOracleMount
                    attributes:
                      type: object
                      required:
                        - targetServers
                        - recoveryPoint or fullBackupIds
                      properties:
                        fullBackupIds:
                          description: >
                            The list of image IDs for the full backups that is
                            used to create the instant access mount. it's
                            required if there is no recoveryPoint
                          type: array
                          items:
                            type: string
                        recoveryPoint:
                          type: string
                          description: >
                            The recovery point ID for the full backup that is
                            used to create the instant access mount. it's
                            required if there is no fullBackupIds
                        copyNumber:
                          type: integer
                          description: >
                            The copy number to use for recovery. If not
                            specified, the first copy that supports instant
                            access is used.
                        isDirectNFS:
                          type: boolean
                          default: false
                          description: >-
                            If set to `false`, the NFS option is in secure
                            status.
                        targetServers:
                          description: >-
                            The target servers that will have access to the
                            instant access mount.
                          type: array
                          items:
                            type: string
                        retention:
                          description: >-
                            The time that the mount is available. Default is 30
                            Days.
                          type: object
                          required: &ref_22
                            - value
                            - unit
                          properties: &ref_23
                            value:
                              type: integer
                            unit:
                              type: string
                              enum:
                                - HOURS
                                - DAYS
                                - WEEKS
                                - MONTHS
                                - YEARS
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_26
                type: object
                required:
                  - data
                properties:
                  data: &ref_25
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: &ref_24
                            type: object
                            properties:
                              href:
                                type: string
                      id:
                        type: string
                        description: A unique identifier for instant access mount.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - instantAccessOracleMount
                      attributes:
                        required:
                          - fullBackupIds
                          - exportPathList
                        type: object
                        properties:
                          fullBackupIds:
                            type: array
                            items:
                              type: string
                            description: >-
                              The list of image IDs for the full backups that is
                              used to create the instant access mount.
                          nfsServerList:
                            type: array
                            items:
                              type: string
                            description: The hostname of the NFS servers.
                          exportPathList:
                            description: The file path list to which the mount is exported.
                            type: array
                            items:
                              type: string
                          targetServers:
                            description: >-
                              The target servers that will have access to the
                              instant access mount.
                            type: array
                            items:
                              type: string
                          timestamp:
                            description: >-
                              The time the mount was created, in ISO 8601
                              format.
                            type: string
                            format: date-time
                          recoveryPointTime:
                            description: >-
                              The recovery point time used to create the instant
                              access mount.
                            type: string
                            format: date-time
                          databaseName:
                            description: >-
                              The name of the databse which the instant access
                              mount created from.
                            type: string
                          instanceName:
                            description: >-
                              The name of the instance which the instant access
                              mount created from.
                            type: string
                          mountPathList:
                            description: >-
                              The nfs server and export path list which used to
                              mount in client
                            type: array
                            items:
                              type: string
                          mountPathForNfsV4List:
                            description: >-
                              The nfs server and nfs4 export path which used to
                              mount in client, if have multiple path, use "," as
                              seperate
                            type: array
                            items:
                              type: string
                          storageServerList:
                            description: The storage servers
                            type: array
                            items:
                              type: string
                          errorMessage:
                            type: string
                            description: >-
                              The error message to display if the status is
                              'INACTIVE'.
                          status: &ref_29
                            type: string
                            enum:
                              - ACTIVE
                              - INACTIVE
                              - EXPIRED
                              - ATTACHED
                              - DETACHED
                              - INPROGRESS
                            description: >
                              The status indicates the health of the instant
                              access mount or VM.

                              ACTIVE - In good health.

                              INACTIVE - Issue exists with the instant access
                              mount, may be corrupted.

                              EXPIRED - Is expired and can be deleted any time.

                              ATTACHED - Database files from mount are attached
                              to the target Microsoft SQL Server.

                              DETACHED - Database files from mount are detached
                              from the target Microsoft SQL Server.

                              INPROGRESS - Instant access mount creation is in
                              progress.
                          state: &ref_30
                            type: string
                            enum:
                              - CREATED
                              - EXPORTED
                            description: >
                              The state of the instant access mount or VM.

                              CREATED - Instant access mount is available.

                              EXPORTED -  Instant access mount is exported to a
                              client.
                          retention:
                            description: The time that the mount is available.
                            type: object
                            required: *ref_22
                            properties: *ref_23
                          assetId:
                            type: string
                            description: Asset ID associated with recovery point.
                      relationships: &ref_31
                        type: object
                        required:
                          - image
                        properties:
                          image:
                            description: >-
                              The backup images that are associated with this
                              instant access mount.
                            type: object
                            properties:
                              links:
                                type: object
                                properties:
                                  related: *ref_24
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    id:
                                      type: string
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|INSTANT_ACCESS_RECOVER|`
      tags:
        - Oracle Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |targetServer|eq, ne, contains, startswith, endswith|The target
            server that will have access to the instant access mount.|string|

            |databaseName|eq, ne, contains, startswith, endswith|Name of
            database which the instant access mount created from.|string|

            |instanceName|eq, ne, contains, startswith, endswith|Name of
            instance which the instant access mount created from.|string|

            |liveMountCloneOf|eq, ne, contains, startswith, endswith|Name of
            database or PDB which the instant access mount created from.|string|

            |mountId|eq, ne, contains, startswith, endswith|mount id of the
            instant access livemount.|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: *ref_25
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/oracle/instant-access-mounts/{mountId}':
    parameters:
      - &ref_33
        name: mountId
        in: path
        description: Instant access mount id.
        required: true
        schema:
          type: string
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|INSTANT_ACCESS_RECOVER|`
      tags:
        - Oracle Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_26
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|ASSETS|ORACLE|INSTANT_ACCESS_RECOVER|`
      tags:
        - Oracle Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/rhv/scenarios/full-vm/recover:
    post:
      description: >
        Recovers a full RHV virtual machine.


        **Access Control**\

        Server

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified rhvmgr_identifier namespace in the API
        response. GET /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|RHV|RESTORE_DESTINATION|`


        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\


        A restore to an alternate location requires:\

        Requires Operation: `|OPERATIONS|ASSETS|RHV|VM|RECOVER|`


        Overwriting the original asset requires both operations:\

        Requires Operation: `|OPERATIONS|ASSETS|RHV|VM|RECOVER|`\

        Requires Operation: `|OPERATIONS|ASSETS|RHV|VM|RESTORE_OVERWRITE|`
      tags:
        - Red Hat Virtualization Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for RHV full VM recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type that must be set to `recoveryRequest`.
                      type: string
                      enum:
                        - recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options. Required.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required, if `backupId` is not
                                specified. Cannot be used along with `backupId`.
                                If a `filter` is not specified along with
                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required, if `client` is not
                                specified. Cannot be used along with `client`
                                and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to be used for recovery. If not
                                specified, primary copy will be used.
                        recoveryObject:
                          type: object
                          description: Represents the virtual machine being recovered.
                          properties:
                            vmDisplayName:
                              type: string
                              description: >
                                The display name of the virtual machine. Must
                                not contain more than 64 characters and if not
                                specified, the default is the one used at the
                                time of backup.
                            vmDisks:
                              type: array
                              description: >
                                Represents one or more virtual machine disks. If
                                not specified, the default is the disk or disks
                                used at the time of backup.
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The source path of the virtual machine
                                      disk. This should be of the format
                                      `/storage_domain/disk_uuid`.
                                  destination:
                                    type: string
                                    description: >
                                      The destination path of the virtual
                                      machine disk. This should be of the format
                                      `/storage_domain`.
                            vmEnvironment:
                              type: object
                              description: >
                                Describes the RHV environment where this virtual
                                machine is to be recovered. If not specified,
                                the default is the one used at the time of
                                backup.
                              properties:
                                rhvServer:
                                  type: string
                                  description: >
                                    The RHV server name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                cluster:
                                  type: string
                                  description: >
                                    The cluster name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform this recovery. If not specified,
                                the default is the one used at the time of
                                backup.
                            defaultVmDiskProvisioning:
                              type: string
                              enum:
                                - THICK
                                - THIN
                              description: >
                                The default disk provisioning format that is to
                                be used for all of the virtual disks created
                                during recovery. If not specified, the default
                                is the one used at the time of backup.
                            powerOnAfterRecovery:
                              type: boolean
                              default: false
                              description: >
                                If `true`, the VM is powered on after the
                                recovery. If `false`, the VM remains powered off
                                after the recovery. If not specified, the VM
                                remains powered off after the recovery.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name. If not specified, does not
                                overwrite the VM and its associated resources,
                                if they already exist with the same name. This
                                option is not applicable for instant recovery.
                            removeNetworkInterfaces:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any network interfaces
                                attached to the VM after recovery. If `false`,
                                retains the network interfaces attached to the
                                VM after recovery. If not specified, retains the
                                network interfaces attached to the VM after
                                recovery.
                            retainVmGuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same VM GUID
                                as it had at the time of backup. If `false`,
                                recovers the VM with a newly assigned VM GUID.
                                If not specified, recovers the VM with the same
                                VM GUID as it had at the time of backup.
                            removeTagAssociations:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any associated tags from this
                                VM. If `false`, retains the associated tags for
                                this VM. If not specified, retains the
                                associated tags for this VM.
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                      copyNumber: 2
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmDisks:
                        - source: /storage-domain/b3197956-1ab4-4586-bf7b-71fd463788b9
                          destination: /storage-domain
                        - source: /storage-domain/b3197956-1ab4-4586-bf7b-71fd363788b9
                          destination: /storage-domain
                      vmEnvironment:
                        rhvServer: rhv-server.example.com
                        cluster: example-cluster-name
                    recoveryOptions:
                      recoveryHost: recovery-proxy.example.com
                      defaultVmDiskProvisioning: THICK
                      powerOnAfterRecovery: true
                      overwriteExistingVm: true
                      removeNetworkInterfaces: true
                      retainVmGuid: true
                      removeTagAssociations: true
        description: The request for a full RHV VM recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/rhv/scenarios/full-vm/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for the full RHV virtual machine restore.


        **Access Control**\

        Server

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified rhvmgr_identifier in the API response. GET
        /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|RHV|RESTORE_DESTINATION|`
      tags:
        - Red Hat Virtualization Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                Schema for the pre-recovery check request for RHV full VM
                recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the data for the pre-recovery check request.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The pre-recovery-check request type
                      type: string
                    attributes:
                      description: Contains the pre-recovery-check request attributes.
                      type: object
                      required:
                        - recoveryObject
                      properties:
                        recoveryObject:
                          type: object
                          description: Represents the virtual machine being recovered.
                          required:
                            - vmDisplayName
                            - vmEnvironment
                            - vmDisks
                          properties:
                            vmDisplayName:
                              type: string
                              description: >-
                                The display name of the virtual machine. Must
                                not contain more than 255 characters.
                            vmEnvironment:
                              type: object
                              description: >
                                Describes the RHV environment where this virtual
                                machine is to be recovered. If not specified,
                                the default is the one used at the time of
                                backup.
                              required:
                                - rhvServer
                                - cluster
                              properties:
                                rhvServer:
                                  type: string
                                  description: The RHV server name.
                                cluster:
                                  type: string
                                  description: The cluster name.
                            vmDisks:
                              type: array
                              description: List of virtual machine disks to be restored.
                              items:
                                type: object
                                required:
                                  - name
                                  - storageDomains
                                  - sizeMBytes
                                properties:
                                  name:
                                    type: string
                                    description: Name of the disk.
                                  storageDomains:
                                    type: array
                                    description: >-
                                      The storage domain associated with the
                                      disk.
                                    items:
                                      type: object
                                      required:
                                        - name
                                        - storageType
                                      properties:
                                        name:
                                          type: string
                                          description: The name of the storage domain.
                                        storageType:
                                          type: string
                                          enum:
                                            - CINDER
                                            - FCP
                                            - GLANCE
                                            - GLUSTERFS
                                            - ISCSI
                                            - LOCALFS
                                            - MANAGED_BLOCK_STORAGE
                                            - NFS
                                            - POSIXFS
                                          description: The type of the storage domain.
                                  sizeMBytes:
                                    type: integer
                                    format: int64
                                    description: >-
                                      Size of the virtual machine disk (in Mega
                                      Bytes).
                        recoveryOptions:
                          type: object
                          description: >-
                            Describe the recovery options to be used for the
                            recovery.
                          required:
                            - recoveryHost
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform the pre-recovery-check.
                            overwriteExistingVm:
                              type: boolean
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name. If not specified, does not
                                overwrite the VM and its associated resources,
                                if they already exist with the same name.
              example:
                data:
                  type: preRecoveryCheckRequest
                  attributes:
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmEnvironment:
                        rhvServer: rhv-server.example.com
                        cluster: example-cluster
                      vmDisks:
                        - name: 3gbdisk
                          storageDomains:
                            - name: perf_191
                              storageType: ISCSI
                          sizeMBytes: 1024
                    recoveryOptions:
                      recoveryHost: recovery-proxy.example.com
                      overwriteExistingVm: false
        description: Pre-recovery check request for a full RHV VM recovery.
        required: true
      responses:
        '200':
          description: List of recovery validation items.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: >-
                  The pre-recovery-check response schema for RHV full VM
                  recovery.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: Describes the recovery validation item.
                      properties:
                        type:
                          type: string
                          description: The type of the recovery validation.
                        id:
                          type: string
                          description: The ID of the recovery validation.
                        attributes:
                          type: object
                          description: Describes the validation item.
                          properties:
                            name:
                              type: string
                              description: Name of the validation item.
                            result:
                              type: string
                              description: >-
                                Result of the validation item
                                (Passed/Failed/Skipped).
                            description:
                              type: string
                              description: Description of the validation item.
                          required:
                            - name
                            - result
                      required:
                        - type
                        - id
                        - attributes
                example:
                  data:
                    - type: recoveryValidationItem
                      id: 2
                      attributes:
                        name: Verify cluster exists
                        result: Passed
                    - type: recoveryValidationItem
                      id: 4
                      attributes:
                        name: RHV server credentials test
                        result: Passed
        '400': *ref_6
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/hyperv/scenarios/full-vm/recover:
    post:
      description: >
        Recovers a full Hyper-V virtual machine.


        **Access Control**\

        Enforcement Type:
        API-Level(http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|HYPER-V|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|HYPER-V|VM|RECOVER|`\

        Requires Operation: `|OPERATIONS|ASSETS|HYPER-V|RESTORE_DESTINATION|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_DESTINATION|` - Required
        for staging option.\

        Requires Operation: `|OPERATIONS|ASSETS|HYPER-V|VM|RESTORE_OVERWRITE|` -
        Required to overwrite an existing VM.
      tags:
        - Hyper-V Workloads
      parameters:
        - name: X-NetBackup-Skip-Validation
          in: header
          description: >
            A comma separated list of validation checks which should be skipped.
            The value to use will be returned as the key of the key/value pair
            in the `attributeErrors` object of the response after a validation
            failure.\ Examples: `directoryNotExist`, `invalidDestination`,
            `overwriteFiles`, `overwriteVM`, `vmInternalError`.
          required: false
          schema:
            type: string
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for Hyper-V full VM recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type that must be set to `recoveryRequest`.
                      type: string
                      enum:
                        - recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options.
                          properties:
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery.
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to be used for recovery. If not
                                specified, primary copy will be used.
                          required:
                            - backupId
                        recoveryObject:
                          type: object
                          description: Represents the virtual machine being recovered.
                          properties:
                            vmDisplayName:
                              type: string
                              description: >
                                The display name of the virtual machine. Must
                                not contain more than 100 characters and if not
                                specified, the default is the one used at the
                                time of backup.
                              maxLength: 100
                            vmDisks:
                              type: array
                              description: >
                                Represents one or more virtual machine disks. If
                                not specified, the default is the disk or disks
                                used at the time of backup.
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The source path of the virtual machine
                                      disk. This should be of the format
                                      `/C/ProgramData/Microsoft/Windows/Hyper-V/Virtual
                                      Machines/D91DC2DE-4890-4B61-A0D7-91DF87E20F45.vmcx`
                                  destination:
                                    type: string
                                    description: >
                                      The destination path of the virtual
                                      machine disk. This should be of the format
                                      `/C/AlternatePath/Hyper-V/Virtual
                                      Machines/D91DC2DE-4890-4B61-A0D7-91DF87E20F45.vmcx`
                            vmEnvironment:
                              type: object
                              description: >
                                Describes the Hyper-V environment where this
                                virtual machine is to be recovered. If not
                                specified, the default is the one used at the
                                time of backup.
                              properties:
                                hypervServer:
                                  type: string
                                  description: >
                                    The Hyper-V server name. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                vmGUID:
                                  type: string
                                  description: >
                                    The Hyper-V VM GUID. If not specified, the
                                    default is the one used at the time of
                                    backup.
                            vmRecoveryDestinationServer:
                              type: string
                              description: >
                                The destination Hyper-V server where the vm
                                needs to be deployed. Applies to alternate
                                location restore option only.
                            stagingMachine:
                              type: string
                              description: >
                                The staging client machine where the VM disk
                                files needs to be restored. Applies to staging
                                location restore option only.
                            alternateLocationDirectory:
                              type: string
                              description: >
                                Restores all files or folders to an alternate
                                location directory maintaining existing
                                structures. Applies to alternate location and
                                staging restore options only.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryMethod:
                              type: string
                              description: >
                                This is the method used to generate original
                                backup image.
                              enum:
                                - VSS
                                - WMI
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform this recovery. If not specified,
                                the default is the one used at the time of
                                backup.
                            retainVmGuid:
                              type: boolean
                              default: false
                              description: >
                                Only applicable for alternate location restores
                                from WMI backups. If `true`, recovers the VM
                                with the same VM GUID as it had at the time of
                                backup. If `false`, recovers the VM with a newly
                                assigned VM GUID.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources if they already exist with the same
                                name.  If `false`, does not overwrite the VM and
                                its associated resources if they already exist
                                with the same name. For a staging location
                                restore this is used to indicate overwriting
                                disk files instead of the entire VM.
                            priority:
                              type: integer
                              description: >
                                Specifies a number to new priority for the
                                restore job that overrides the default job
                                priority. Higher the number, greater the
                                priority of the job.
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      backupId: example-vm_1684354680
                      copyNumber: 0
                    recoveryObject:
                      vmNewDisplayName: copy-of-example-vm
                      vmDisplayName: example-vm
                      vmDisks:
                        - source: >-
                            /C/ProgramData/Microsoft/Windows/Hyper-V/Virtual
                            Machines/D91DC2DE-4890-4B61-A0D7-91DF87E20F45.vmcx
                          destination: >-
                            /C/AlternatePath/Hyper-V/Virtual
                            Machines/D91DC2DE-4890-4B61-A0D7-91DF87E20F45.vmcx
                        - source: >-
                            /C/ProgramData/Microsoft/Windows/Hyper-V/Virtual
                            Machines/D91DC2DE-4890-4B61-A0D7-91DF87E20F45.VMRS
                          destination: >-
                            /C/AlternatePath/Hyper-V/Virtual
                            Machines/D91DC2DE-4890-4B61-A0D7-91DF87E20F45.VMRS
                      alternateLocationDirectory: /C/nb_data/hyperv
                      stagingMachine: vrahyperv9037
                      vmEnvironment:
                        hypervServer: hyperv-server.example.com
                        vmGUID: D91DC2DE-4890-4B61-A0D7-91DF87E20F45
                    recoveryOptions:
                      recoveryMethod: WMI
                      recoveryHost: recovery-host.example.com
                      overwriteExistingVm: true
                      retainVmGuid: true
                      priority: 16
        description: The request for a full Hyper-V VM recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500': &ref_27
          description: An unexpected system error occurred.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503': &ref_28
          description: The server is busy.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/ahv/scenarios/full-vm/recover:
    post:
      description: >
        Recovers a full AHV virtual machine.


        **Access Control**\

        Source Asset

        Enforcement Type: [Object-Level]\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A restore of an asset requires following permissions:\

        Requires Operation:\

        `|OPERATIONS|VIEW|` \

        `|OPERATIONS|ASSETS|AHV|VM|RECOVER|`\

        A restore to an original location with "overwriteExistingVm" as "true"
        also requires following permissions:\

        Requires Operation:\

        `|OPERATIONS|ASSETS|AHV|VM|RESTORE_OVERWRITE|`


        Destination Container (Virtual machine disk)\

        Enforcement Type: [Object-Level]\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A restore to an alternate container requires:\

        Requires Operation:\

        `|OPERATIONS|VIEW|` \

        `|OPERATIONS|ASSETS|AHV|RESTORE_DESTINATION|`
      tags:
        - AHV Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for AHV full VM recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type that must be set to `recoveryRequest`.
                      type: string
                      enum:
                        - recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required if `backupId` is not
                                specified. Cannot be used along with `backupId`.
                                If a `filter` is not specified along with
                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required if `client` is not specified.
                                Cannot be used along with `client` and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to be used for recovery. If not
                                specified, primary copy will be used.
                        recoveryObject:
                          type: object
                          description: Represents the virtual machine being recovered.
                          properties:
                            vmDisplayName:
                              type: string
                              description: >
                                The display name of the virtual machine. Must
                                not contain more than 64 characters and if not
                                specified, the default is the one used at the
                                time of backup.
                            vmDisks:
                              type: array
                              description: >
                                Represents one or more virtual machine disks. If
                                not specified, the default is the disk or disks
                                used at the time of backup.
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The source path of the virtual machine
                                      disk. This should be of the format
                                      `/storage_container/disk_uuid`
                                  destination:
                                    type: string
                                    description: >
                                      The destination path of the virtual
                                      machine disk. This should be of the format
                                      `/storage_container`
                            vmEnvironment:
                              type: object
                              description: >
                                Describes the AHV environment where this virtual
                                machine is to be recovered. If not specified,
                                the default is the one used at the time of
                                backup.
                              properties:
                                ahvCluster:
                                  type: string
                                  description: >
                                    The AHV cluster name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform this recovery. If not specified,
                                the default is the one used at the time of
                                backup.
                            powerOnAfterRecovery:
                              type: boolean
                              default: false
                              description: >
                                If `true`, the VM is powered on after the
                                recovery. If `false`, the VM remains powered off
                                after the recovery. If not specified, the VM
                                remains powered off after the recovery.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name. If not specified, does not
                                overwrite the VM and its associated resources,
                                if they already exist with the same name.
                            removeNetworkInterfaces:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any network interfaces
                                attached to the VM after recovery. If `false`,
                                retains the network interfaces attached to the
                                VM after recovery. If not specified, retains the
                                network interfaces attached to the VM after
                                recovery.
                            retainVmGuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same VM GUID
                                as it had at the time of backup. If `false`,
                                recovers the VM with a newly assigned VM GUID.
                                If not specified, recovers the VM with the same
                                VM GUID as it had at the time of backup.
                            retainNicMacAddress:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with same MAC address
                                as it had at the time of backup. If `false`,
                                recovers the VM with a newly assigned MAC
                                address. If not specified, retains MAC address
                                associated with VM as it had at the time of
                                backup.
                            isSnapshotRestore:
                              type: boolean
                              default: true
                              description: >
                                If `true`, checks for snapshot availability and
                                if the snapshot is available, then skips the
                                data transfer and recovers VM using snapshot. If
                                `false`, recovers VM from backup-image. If not
                                specified, checks for snapshot availability and
                                if the snapshot is available, then skips the
                                data transfer and recovers VM using snapshot.
                            priority:
                              type: integer
                              description: >
                                Specifies a number to new priority for the
                                restore job that overrides the default job
                                priority. Higher the number, greater the
                                priority of the job.
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                      copyNumber: 2
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmDisks:
                        - source: >-
                            /storage-container/b3197956-1ab4-4586-bf7b-71fd463788b9
                          destination: /storage-container1
                        - source: >-
                            /storage-container/b3197956-1ab4-4586-bf7b-71fd463788b8
                          destination: /storage-container2
                      vmEnvironment:
                        ahvCluster: ahv-cluster.example.com
                    recoveryOptions:
                      recoveryHost: recovery-host.example.com
                      powerOnAfterRecovery: true
                      overwriteExistingVm: true
                      removeNetworkInterfaces: true
                      retainVmGuid: true
                      retainNicMacAddress: true
                      isSnapshotRestore: true
                      priority: 16
        description: The request for a full AHV VM recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500': *ref_27
        '503': *ref_28
  /recovery/workloads/ahv/scenarios/full-vm/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for the full AHV virtual machine.


        **Access Control**\

        Destination Container (Virtual machine disk)\

        Enforcement Type: [Object-Level]\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A restore to an alternate container requires:\

        Requires Operation: 

        `|OPERATIONS|VIEW|` \

        `|OPERATIONS|ASSETS|AHV|RESTORE_DESTINATION|`
      tags:
        - AHV Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                Schema for the pre-recovery check request for AHV full VM
                recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the data for the pre-recovery check request.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The pre-recovery-check resource type.
                      type: string
                      enum:
                        - ahvPreRecoveryCheckRequest
                    attributes:
                      description: Contains the pre-recovery-check request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryObject
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required if `backupId` is not
                                specified. Cannot be used along with `backupId`.
                                If a `filter` is not specified along with
                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required if `client` is not specified.
                                Cannot be used along with `client` and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                        recoveryObject:
                          type: object
                          description: Represents the virtual machine being recovered.
                          required:
                            - vmDisplayName
                            - vmDisks
                          properties:
                            vmDisplayName:
                              type: string
                              description: >
                                The display name of the virtual machine. Must
                                not contain more than 64 characters.
                            vmDisks:
                              type: array
                              description: |
                                Represents one or more virtual machine disks.
                              required:
                                - source
                                - destination
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The source path of the virtual machine
                                      disk. This should be of the format
                                      `/storage_container`
                                  destination:
                                    type: string
                                    description: >
                                      The destination path of the virtual
                                      machine disk. This should be of the format
                                      `/storage_container`
                            vmEnvironment:
                              type: object
                              description: >
                                Describes the AHV environment where this virtual
                                machine is to be recovered.
                              properties:
                                ahvCluster:
                                  type: string
                                  description: >
                                    The AHV cluster name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform this recovery. If not specified,
                                the default is the one used at the time of
                                backup.
                            powerOnAfterRecovery:
                              type: boolean
                              default: false
                              description: >
                                If `true`, the VM is powered on after the
                                recovery. If `false`, the VM remains powered off
                                after the recovery.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name.
                            removeNetworkInterfaces:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any network interfaces
                                attached to the VM after recovery. If `false`,
                                retains the network interfaces attached to the
                                VM after recovery.
                            retainVmGuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same VM GUID
                                as it had at the time of backup. If `false`,
                                recovers the VM with a newly assigned VM GUID.
                            retainNicMacAddress:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with same MAC address
                                as it had at the time of backup. If `false`,
                                recovers the VM with a newly assigned MAC
                                address.
              example:
                data:
                  type: ahvPreRecoveryCheckRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmDisks:
                        - source: /storage-container1
                          destination: /storage-container2
                        - source: /storage-container2
                          destination: /storage-container1
                      vmEnvironment:
                        ahvCluster: ahv-cluster.example.com
                    recoveryOptions:
                      recoveryHost: recovery-host.example.com
                      powerOnAfterRecovery: true
                      overwriteExistingVm: true
                      removeNetworkInterfaces: true
                      retainVmGuid: true
                      retainNicMacAddress: true
        description: Pre-recovery check request for a full AHV VM recovery.
        required: true
      responses:
        '200':
          description: List of recovery validation items.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: >-
                  The pre-recovery-check response schema for AHV full VM
                  recovery.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: Describes the recovery validation item.
                      properties:
                        type:
                          type: string
                          description: The type of the recovery validation.
                        id:
                          type: string
                          description: The ID of the recovery validation.
                        attributes:
                          type: object
                          description: Describes the validation item.
                          properties:
                            name:
                              type: string
                              description: Name of the validation item.
                            result:
                              type: string
                              description: >-
                                Result of the validation item
                                (Passed/Failed/Warning).
                            description:
                              type: string
                              description: Description of the validation item.
                          required:
                            - name
                            - result
                      required:
                        - type
                        - id
                        - attributes
                example:
                  data:
                    - type: recoveryValidationItem
                      id: 3
                      attributes:
                        name: MAC Validation
                        result: Passed
                        description: MAC address validation - Passed
                    - type: recoveryValidationItem
                      id: 9
                      attributes:
                        name: UUID Validation
                        result: Passed
                        description: Network UUID validation - Passed
        '400': *ref_5
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500': *ref_27
        '503': *ref_28
  /recovery/workloads/vmware/scenarios/full-vm/recover:
    post:
      description: >
        Recovers a full VMware virtual machine.


        **Access Control**\

        Server

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcenter_identifier or esx_identifier or
        restore_esx_identifier namespace in the API response. GET
        /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A restore to an alternate location requires:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RECOVER|`


        Overwriting the original asset requires both operations:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RECOVER|`\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_OVERWRITE|`


        A restore from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for VMware full VM recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: >-
                        The resource type that must be set to `recoveryRequest`
                        or `instantRecoveryRequest`.
                      type: string
                      enum:
                        - recoveryRequest
                        - instantRecoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options. Required.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required, if `backupId` is not
                                specified. Cannot be used along with `backupId`.
                                If a `filter` is not specified along with
                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required, if `client` is not
                                specified. Cannot be used along with `client`
                                and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to be used for recovery. If not
                                specified, primary copy will be used.
                        recoveryObject:
                          type: object
                          description: Represents the virtual machine being recovered.
                          properties:
                            vmDisplayName:
                              type: string
                              description: >
                                The display name of the virtual machine. Must
                                not contain more than 80 characters. If not
                                specified, the default is the one used at the
                                time of backup.
                            vmDisks:
                              type: array
                              description: >
                                Represents one or more virtual machine disks. If
                                not specified, the default is the disk or disks
                                used at the time of backup.
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >-
                                      The source path of the virtual machine
                                      disk.
                                  destination:
                                    type: string
                                    description: >-
                                      The destination path of the virtual
                                      machine disk.
                                  storagePolicy:
                                    type: string
                                    description: >-
                                      Storage policy name for the virtual
                                      machine disk.
                            vmHomeStoragePolicy:
                              type: string
                              description: >
                                The storage policy name to use for virtual
                                machine configuration files.
                            vmEnvironment:
                              type: object
                              description: >
                                Describes the VMware environment where this
                                virtual machine is to be recovered. If not
                                specified, the default is the one used at the
                                time of backup.
                              properties:
                                vCenter:
                                  type: string
                                  description: >
                                    The vCenter server name. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                esxiServer:
                                  type: string
                                  description: >
                                    The ESXi server name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                datacenter:
                                  type: string
                                  description: >
                                    The datacenter path. Must begin with a
                                    forward slash '/'. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                vmFolder:
                                  type: string
                                  description: >
                                    The VM folder path. Must begin with a
                                    forward slash '/'. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                resourcePoolOrVapp:
                                  type: string
                                  description: >
                                    The resource pool or vApp path. Must begin
                                    with a forward slash '/'. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                vmxDatastore:
                                  type: string
                                  description: >
                                    The name of the datastore to restore the VMX
                                    file to. If not specified, the default is
                                    the one used at the time of backup.
                                temporaryDatastore:
                                  type: string
                                  description: >
                                    The temporary datastore on the VM host
                                    server where all the writes occur until the
                                    Storage vMotion is complete or until you are
                                    done with the virtual machine. This option
                                    is applicable for instant recovery.
                                network:
                                  type: string
                                  description: >
                                    The VM network name. Multiple VM networks
                                    can be specified using comma-separated
                                    values. If multiple VM networks are
                                    specified, they are attached to the
                                    recovered VM in the specified order. The
                                    default is the VM network or networks that
                                    were used at the time of backup.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform this recovery. If not specified,
                                the default is the one used at the time of
                                backup.
                            defaultVmDiskProvisioning:
                              type: string
                              enum:
                                - thin
                                - thick-lazy-zeroed
                                - thick-eager-zeroed
                              description: >
                                The default disk provisioning format that is to
                                be used for all of the virtual disks created
                                during recovery. If not specified, the default
                                is the one used at the time of backup.
                            diskMediaServer:
                              type: string
                              description: >
                                The media server that is to be used to perform
                                this recovery. If not specified, the default is
                                the one used at the time of backup.
                            transportMode:
                              type: string
                              default: 'san:hotadd:nbd:nbdssl'
                              description: >
                                The transport mode combination that is to be
                                used to perform this recovery. The string must
                                be specified all in lowercase, with colon
                                separated values such as
                                `hotadd:nbd:nbdssl:san`. The order of the
                                specified modes is significant, as NetBackup
                                attempts each mode in that order until the
                                recovery is successful. If none of the modes are
                                successful, the recovery fails. If not
                                specified, the default is the one used at the
                                time of backup. If not found in the backup as
                                well,  the default is `san:hotadd:nbd:nbdssl`.
                            powerOnAfterRecovery:
                              type: boolean
                              default: false
                              description: >
                                If `true`, the VM is powered on after the
                                recovery. If `false`, the VM remains powered off
                                after the recovery. If not specified, the VM
                                remains powered off after the recovery.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name. If not specified, does not
                                overwrite the VM and its associated resources,
                                if they already exist with the same name. This
                                option is not applicable for instant recovery.
                            retainBiosUuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same BIOS
                                UUID as it had at the time of backup. If
                                `false`, recovers the VM with a newly assigned
                                BIOS UUID. If not specified, recovers the VM
                                with the same BIOS UUID as it had at the time of
                                backup.
                            retainInstanceUuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same
                                instance UUID (vCenter-specific unique
                                identifier) as it had at the time of backup. If
                                `false`, recovers the VM with a newly assigned
                                instance UUID. If not specified, recovers the VM
                                with the same instance UUID as it had at the
                                time of backup. If the VM is being recovered to
                                a standalone ESXi host, this option is ignored.
                                If another VM with the same instance UUID exists
                                at the destination, vCenter server assigns a new
                                UUID to the VM.
                            retainHardwareVersion:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same
                                hardware version as it had at the time of
                                backup. If `false`, recovers the VM with the
                                default hardware version for the destination
                                ESXi server. If not specified, recovers the VM
                                with the same hardware version as it had at the
                                time of backup.
                            removeNetworkInterfaces:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any network interfaces
                                attached to the VM after recovery. If `false`,
                                retains the network interfaces attached to the
                                VM after recovery. If not specified, retains the
                                network interfaces attached to the VM after
                                recovery.
                            removeBackingInformation:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any mounted removable devices
                                (such as CD-ROM or DVD-ROM images) attached to
                                the VM. If `false`, retains the mounted
                                removable devices attached to the VM. If not
                                specified, retains the mounted removable devices
                                attached to the VM.
                            removeTagAssociations:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any associated VMware tags
                                from this VM. If `false`, retains the associated
                                VMware tags for this VM. If not specified,
                                retains the associated VMware tags for this VM.
                            recoverToVmxDatastore:
                              type: boolean
                              default: false
                              description: >
                                If `true`, recovers the VMDK files to the same
                                datastore as the VMX file. If `false`, recovers
                                the VMDK files to their original location at the
                                time of backup. If not specified, recovers the
                                VMDK files to their original location at the
                                time of backup. If a different virtual disk
                                destination path is assigned in vmEnvironment
                                section, it overrides this option.
                            removeStoragePolicies:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes storage policies of VM disks
                                and VM home (the configuration files location)
                                at the time of backup or storage policies
                                specified with the storagePolicy and
                                vmHomeStoragePolicy in the recoveryObject. If
                                `false`, recovers/updates storage policies of VM
                                disks and VM home.
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                      copyNumber: 2
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmDisks:
                        - source: /example-DS1/example-vm/example-disk1.vmdk
                          destination: /example-DS2/example-vm/example-disk1.vmdk
                          storagePolicy: test-storage-policy-1
                        - source: /example-DS1/example-vm/example-disk2.vmdk
                          destination: /example-DS2/example-vm/example-disk2.vmdk
                          storagePolicy: test-storage-policy-1
                      vmHomeStoragePolicy: test-storage-policy-1
                      vmEnvironment:
                        vCenter: vcenter-server.example.com
                        esxiServer: esx-server.example.com
                        datacenter: /example-DC
                        vmFolder: /example-DC/vm
                        resourcePoolOrVapp: >-
                          /example-DC/host/esx.example.com/Resources/example-res-pool
                        vmxDatastore: example-DS
                        temporaryDatastore: datastore1
                        network: VM Network
                    recoveryOptions:
                      defaultVmDiskProvisioning: thin
                      recoveryHost: recovery-proxy.example.com
                      diskMediaServer: media-server.example.com
                      transportMode: 'san:hotadd:nbd:nbdssl'
                      overwriteExistingVm: true
                      powerOnAfterRecovery: true
                      recoverToVmxDatastore: true
                      removeBackingInformation: true
                      removeNetworkInterfaces: true
                      removeTagAssociations: true
                      retainHardwareVersion: true
                      retainInstanceUuid: true
                      retainBiosUuid: true
                      removeStoragePolicies: false
        description: The request for a full VMware VM recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_6
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/full-vm/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for the full VMware virtual machine
        restore.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcenter_identifier or esx_identifier or
        restore_esx_identifier in the API response. GET
        /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                Schema for the pre-recovery check request for VMware full VM
                recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the data for the pre-recovery check request.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The pre-recovery-check request type.
                      type: string
                    attributes:
                      description: Contains the pre-recovery-check request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryOptions
                      properties:
                        recoveryObject:
                          type: object
                          required:
                            - vmDisplayName
                            - vmEnvironment
                            - vmDisks
                          properties:
                            vmDisplayName:
                              type: string
                              description: >-
                                The display name of the virtual machine. Must
                                not contain more than 80 characters.
                            vmEnvironment:
                              type: object
                              description: >-
                                Describes the VMware environment where the
                                virtual machine is to be recovered.
                              required:
                                - esxiServer
                                - vCenter
                                - datacenter
                                - vmFolder
                                - resourcePoolOrVapp
                                - vmxDatastore
                              properties:
                                esxiServer:
                                  type: string
                                  description: The ESXi server name.
                                vCenter:
                                  type: string
                                  description: >-
                                    The name of the vCenter hosting the virtual
                                    machine.
                                datacenter:
                                  type: string
                                  description: >-
                                    The datacenter path. Must begin with a
                                    forward slash '/'.
                                vmFolder:
                                  type: string
                                  description: >-
                                    The VM folder path. Must begin with a
                                    forward slash '/'.
                                resourcePoolOrVapp:
                                  type: string
                                  description: >-
                                    The name of the resource pool or vApp that
                                    needs to be assigned to the VM.
                                network:
                                  type: string
                                  description: >-
                                    Network name of the virtual machine to be
                                    restored.
                                vmxDatastore:
                                  type: string
                                  description: >-
                                    The name of the datastore to restore the VMX
                                    file to.
                            vmDisks:
                              type: array
                              description: List of virtual machine disks to be restored.
                              items:
                                type: object
                                required:
                                  - source
                                  - destination
                                  - sizeMBytes
                                properties:
                                  source:
                                    type: string
                                    description: >-
                                      Full path of the source virtual machine
                                      disk (VMDK).
                                  destination:
                                    type: string
                                    description: >-
                                      Full path of the destination virtual
                                      machine disk (VMDK).
                                  storagePolicy:
                                    type: string
                                    description: >-
                                      Storage policy name for the virtual
                                      machine disk (VMDK).
                                  sizeMBytes:
                                    type: integer
                                    format: int64
                                    description: >-
                                      Size of the virtual machine disk (in Mega
                                      Bytes).
                            vmHomeStoragePolicy:
                              type: string
                              description: >
                                The storage policy name for virtual machine
                                configuration files.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for the
                            recovery.
                          required:
                            - recoveryHost
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform the pre-recovery-check.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name. If not specified, does not
                                overwrite the VM and its associated resources,
                                if they already exist with the same name.
                            transportMode:
                              type: string
                              default: 'san:hotadd:nbd:nbdssl'
                              description: >
                                The transport mode combination that is to be
                                used to perform the recovery. The string must be
                                specified all in lowercase, with colon separated
                                values such as `hotadd:nbd:nbdssl:san`. The
                                order of the specified modes is significant, as
                                NetBackup attempts each mode in that order until
                                the recovery is successful. If none of the modes
                                are successful, the recovery fails. If not
                                specified, the default is
                                `san:hotadd:nbd:nbdssl`.
                            validateStoragePolicies:
                              type: boolean
                              default: false
                              description: >
                                If `true`, validate the storage policies for the
                                virtual machine disk with available storage
                                policies.
              example:
                data:
                  type: preRecoveryCheckRequest
                  attributes:
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmEnvironment:
                        esxiServer: esx-server.example.com
                        vCenter: vcenter-server.example.com
                        datacenter: /example-DC
                        vmFolder: /example-DC/vm
                        resourcePoolOrVapp: >-
                          /example-DC/host/esx.example.com/Resources/example-res-pool
                        network: VM Network
                        vmxDatastore: example-DS
                      vmDisks:
                        - source: /example-DS1/example-vm/example-disk1.vmdk
                          destination: /example-DS3/
                          storagePolicy: test-storage-policy-1
                          sizeMBytes: 16384
                        - source: /example-DS2/example-vm/example-disk2.vmdk
                          destination: /example-DS3/
                          sizeMBytes: 1024
                          storagePolicy: test-storage-policy-1
                      vmHomeStoragePolicy: test-storage-policy-1
                    recoveryOptions:
                      recoveryHost: recovery-proxy.example.com
                      overwriteExistingVm: false
                      transportMode: 'hotadd:nbd:nbdssl:san'
                      validateStoragePolicies: true
        description: Pre-recovery check request for a full VMware VM recovery.
        required: true
      responses:
        '200':
          description: List of recovery validation items.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: >-
                  The pre-recovery-check response schema for VMware full VM
                  recovery.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: Describes the recovery validation item.
                      properties:
                        type:
                          type: string
                          description: The type of the recovery validation.
                        id:
                          type: string
                          description: The ID of the recovery validation.
                        attributes:
                          type: object
                          description: Describes the validation item.
                          properties:
                            name:
                              type: string
                              description: Name of the validation item.
                            result:
                              type: string
                              description: >-
                                Result of the validation item
                                (Passed/Failed/Skipped).
                            description:
                              type: string
                              description: Description of the validation item.
                          required:
                            - name
                            - result
                      required:
                        - type
                        - id
                        - attributes
                example:
                  data:
                    - type: recoveryValidationItem
                      id: 80
                      attributes:
                        name: Verify datacenter path
                        result: Passed
                    - type: recoveryValidationItem
                      id: 2
                      attributes:
                        name: Datastore space available
                        result: Passed
                        description: >-
                          16384 megabytes requested on datastore datastore1,
                          30624 available
        '400': *ref_6
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/vcloud-full-vm/recover:
    post:
      description: >
        Recovers a full VMware Cloud virtual machine.


        **Access Control**\

        Server\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcloud_director_identifier namespace in the
        API response. GET /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        VMware Cloud objects\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the organization and vApp namespaces)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        Asset\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A restore to an alternate location requires:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RECOVER|`


        Overwriting the original asset requires both operations:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RECOVER|`\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_OVERWRITE|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VCLOUD_VAPP|RESTORE_OVERWRITE|`


        A restore from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for VMware Cloud full VM recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type that must be set to `recoveryRequest`
                      type: string
                      enum:
                        - recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryObject
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options. Required.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required, if `backupId` is not
                                specified. Cannot be used along with `backupId`.
                                If a `filter` is not specified along with
                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required, if `client` is not
                                specified. Cannot be used along with `client`
                                and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to be used for recovery. If not
                                specified, primary copy will be used.
                        recoveryObject:
                          type: object
                          description: Represents the virtual machine being recovered.
                          properties:
                            vmDisplayName:
                              type: string
                              description: >
                                The display name of the virtual machine. Must
                                not contain more than 80 characters. If not
                                specified, the default is the one used at the
                                time of backup.
                            vmDisks:
                              type: array
                              description: >
                                Represents one or more virtual machine disks. If
                                not specified, the default is the disk or disks
                                used at the time of backup.
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >-
                                      The source path of the virtual machine
                                      disk.
                                  destination:
                                    type: string
                                    description: >-
                                      The destination path of the virtual
                                      machine disk.
                                  storagePolicy:
                                    type: string
                                    description: >-
                                      Storage policy name for the virtual
                                      machine disk.
                            vmHomeStoragePolicy:
                              type: string
                              description: >
                                The storage policy name to use for virtual
                                machine configuration files.
                            vCloudEnvironment:
                              type: object
                              description: >
                                Describes the VMware Cloud environment where
                                this virtual machine is to be recovered. If not
                                specified, the default is the one used at the
                                time of backup.
                              properties:
                                vCloudServer:
                                  type: string
                                  description: >
                                    The VMware Cloud server name. If not
                                    specified, the default is the one used at
                                    the time of backup.
                                vCenter:
                                  type: string
                                  description: >
                                    The vCenter server name. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                esxiServer:
                                  type: string
                                  description: >
                                    The ESXi server name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                datacenter:
                                  type: string
                                  description: >
                                    The datacenter path. Must begin with a
                                    forward slash '/'. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                vmFolder:
                                  type: string
                                  description: >
                                    The VM folder path. Must begin with a
                                    forward slash '/'. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                resourcePoolOrVapp:
                                  type: string
                                  description: >
                                    The resource pool or vApp path. Must begin
                                    with a forward slash '/'. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                vmxDatastore:
                                  type: string
                                  description: >
                                    The name of the datastore to restore the VMX
                                    file to. If not specified, the default is
                                    the one used at the time of backup.
                                network:
                                  type: string
                                  description: >
                                    The VM network name. Multiple VM networks
                                    can be specified using comma-separated
                                    values. If multiple VM networks are
                                    specified, they are attached to the
                                    recovered VM in the specified order. The
                                    default is the VM network or networks that
                                    were used at the time of backup.
                                vCloudOrg:
                                  type: string
                                  description: >
                                    The name of the VMware Cloud organization.
                                    If not specified, the default is the one
                                    used at the time of backup.
                                vCloudOrgvDC:
                                  type: string
                                  description: >
                                    The name of the VMware Cloud organization
                                    virtual data centers. If not specified, the
                                    default is the one used at the time of
                                    backup
                                vCloudvApp:
                                  type: string
                                  description: >
                                    The name of the VMware Cloud vApp to restore
                                    the vm into. If not specified, the default
                                    is the one used at the time of backup
                                vCloudCatalog:
                                  type: string
                                  description: >
                                    The name of the VMware Cloud catalog when
                                    capturing vApp as template in a catalog.
                                vCloudvAppTemplate:
                                  type: string
                                  description: >
                                    The name of the VMware Cloud vApp template
                                    when capturing vApp as template in a
                                    catalog.
                                vCloudVmName:
                                  type: string
                                  description: >
                                    The name of the VMware Cloud vm when the
                                    name is changed from original name.
                        vCloudRecoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform this recovery. If not specified,
                                the default is the one used at the time of
                                backup.
                            defaultVmDiskProvisioning:
                              type: string
                              enum:
                                - thin
                                - thick-lazy-zeroed
                                - thick-eager-zeroed
                              description: >
                                The default disk provisioning format that is to
                                be used for all of the virtual disks created
                                during recovery. If not specified, the default
                                is the one used at the time of backup.
                            diskMediaServer:
                              type: string
                              description: >
                                The media server that is to be used to perform
                                this recovery. If not specified, the default is
                                the one used at the time of backup.
                            transportMode:
                              type: string
                              default: 'san:hotadd:nbd:nbdssl'
                              description: >
                                The transport mode combination that is to be
                                used to perform this recovery. The string must
                                be specified all in lowercase, with colon
                                separated values such as
                                `hotadd:nbd:nbdssl:san`. The order of the
                                specified modes is significant, as NetBackup
                                attempts each mode in that order until the
                                recovery is successful. If none of the modes are
                                successful, the recovery fails. If not
                                specified, the default is the one used at the
                                time of backup. If not found in the backup as
                                well,  the default is `san:hotadd:nbd:nbdssl`.
                            powerOnAfterRecovery:
                              type: boolean
                              default: false
                              description: >
                                If `true`, the VM is powered on after the
                                recovery. If `false`, the VM remains powered off
                                after the recovery. If not specified, the VM
                                remains powered off after the recovery.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name. If not specified, does not
                                overwrite the VM and its associated resources,
                                if they already exist with the same name. This
                                option is not applicable for instant recovery.
                            retainBiosUuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same BIOS
                                UUID as it had at the time of backup. If
                                `false`, recovers the VM with a newly assigned
                                BIOS UUID. If not specified, recovers the VM
                                with the same BIOS UUID as it had at the time of
                                backup.
                            retainInstanceUuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same
                                instance UUID (vCenter-specific unique
                                identifier) as it had at the time of backup. If
                                `false`, recovers the VM with a newly assigned
                                instance UUID. If not specified, recovers the VM
                                with the same instance UUID as it had at the
                                time of backup. If the VM is being recovered to
                                a standalone ESXi host, this option is ignored.
                                If another VM with the same instance UUID exists
                                at the destination, vCenter server assigns a new
                                UUID to the VM.
                            retainHardwareVersion:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same
                                hardware version as it had at the time of
                                backup. If `false`, recovers the VM with the
                                default hardware version for the destination
                                ESXi server. If not specified, recovers the VM
                                with the same hardware version as it had at the
                                time of backup.
                            removeNetworkInterfaces:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any network interfaces
                                attached to the VM after recovery. If `false`,
                                retains the network interfaces attached to the
                                VM after recovery. If not specified, retains the
                                network interfaces attached to the VM after
                                recovery.
                            removeBackingInformation:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any mounted removable devices
                                (such as CD-ROM or DVD-ROM images) attached to
                                the VM. If `false`, retains the mounted
                                removable devices attached to the VM. If not
                                specified, retains the mounted removable devices
                                attached to the VM.
                            removeTagAssociations:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any associated VMware tags
                                from this VM. If `false`, retains the associated
                                VMware tags for this VM. If not specified,
                                retains the associated VMware tags for this VM.
                            recoverToVmxDatastore:
                              type: boolean
                              default: false
                              description: >
                                If `true`, recovers the VMDK files to the same
                                datastore as the VMX file. If `false`, recovers
                                the VMDK files to their original location at the
                                time of backup. If not specified, recovers the
                                VMDK files to their original location at the
                                time of backup. If a different virtual disk
                                destination path is assigned in vmEnvironment
                                section, it overrides this option.
                            vCloudRestoreRedirected:
                              type: boolean
                              default: false
                              description: >
                                Option to indicate it is a redirected vcloud
                                restore.
                            vCloudRestoreIntoExistingvApp:
                              type: boolean
                              default: false
                              description: |
                                Option to restore the vm into an existing vApp.
                            vCloudCapturevAppAsTemplateInCatalog:
                              type: boolean
                              default: false
                              description: |
                                Option to capture vApp as template in catalog.
                            vCloudRemovevAppAfterCapture:
                              type: boolean
                              default: false
                              description: |
                                Option to remove vApp after capture.
                            vCloudRemovevAppTemplateAndRecreate:
                              type: boolean
                              default: false
                              description: >
                                Option to remove existing vApp template and
                                recreate the template.
                            vCloudDeleteVmsToRecreatevAppTemplate:
                              type: boolean
                              default: false
                              description: >
                                Delete all virtual machines to recreate the vApp
                                template..
                            removeStoragePolicies:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes storage policies of VM disks
                                and VM home (the configuration files location)
                                at the time of backup or storage policies
                                specified with the storagePolicy and
                                vmHomeStoragePolicy in the recoveryObject. If
                                `false`, recovers/updates storage policies of VM
                                disks and VM home.
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                      copyNumber: 2
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmDisks:
                        - source: /example-DS1/example-vm/example-disk1.vmdk
                          destination: /example-DS2/example-vm/example-disk1.vmdk
                          storagePolicy: test-storage-policy-1
                        - source: /example-DS1/example-vm/example-disk2.vmdk
                          destination: /example-DS2/example-vm/example-disk2.vmdk
                          storagePolicy: test-storage-policy-1
                      vmHomeStoragePolicy: test-storage-policy-1
                      vCloudEnvironment:
                        vCloud: vcloud-server.example.com
                        vCenter: vcenter-server.example.com
                        esxiServer: esx-server.example.com
                        datacenter: /example-DC
                        vmFolder: /example-DC/vm
                        resourcePoolOrVapp: >-
                          /example-DC/host/esx.example.com/Resources/example-res-pool
                        vmxDatastore: example-DS
                        temporaryDatastore: datastore1
                        network: VM Network
                        vCloudOrg: vcloud org
                        vCloudOrgvDC: vcloud orgvDC
                        vCloudvApp: vcloud vApp
                        vCloudCatalog: vcloud catalog
                        vCloudvAppTemplate: vcloud vapp template
                        vCloudVmName: vcloud vm name
                    vCloudRecoveryOptions:
                      defaultVmDiskProvisioning: thin
                      recoveryHost: recovery-proxy.example.com
                      diskMediaServer: media-server.example.com
                      transportMode: 'san:hotadd:nbd:nbdssl'
                      overwriteExistingVm: true
                      powerOnAfterRecovery: true
                      recoverToVmxDatastore: true
                      removeBackingInformation: true
                      removeNetworkInterfaces: true
                      removeTagAssociations: true
                      retainHardwareVersion: true
                      retainInstanceUuid: true
                      retainBiosUuid: true
                      vCloudRestoreRedirected: false
                      vCloudRestoreIntoExistingvApp: true
                      vCloudCapturevAppAsTemplateInCatalog: false
                      vCloudRemovevAppAfterCapture: false
                      vCloudRemovevAppTemplateiAndRecreate: true
                      vCloudDeleteVmsToRecreatevAppTemplate: false
                      removeStoragePolicies: false
        description: The request for a full VMware Cloud VM recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_6
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/vcloud-full-vm/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for the full VMware Cloud virtual machine
        restore.


        **Access Control**\

        Server\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcloud_director_identifier in the API
        response. GET /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        VMware Cloud objects\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the organization and vApp object
        namespaces)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                Schema for the pre-recovery check request for VMware Cloud full
                VM recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the data for the pre-recovery check request.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The pre-recovery-check request type.
                      type: string
                    attributes:
                      description: Contains the pre-recovery-check request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - vCloudRecoveryOptions
                      properties:
                        recoveryObject:
                          type: object
                          required:
                            - vmDisplayName
                            - vCloudEnvironment
                            - vmDisks
                          properties:
                            vmDisplayName:
                              type: string
                              description: >-
                                The display name of the virtual machine. Must
                                not contain more than 80 characters.
                            vCloudEnvironment:
                              type: object
                              description: >-
                                Describes the VMware Cloud environment where the
                                virtual machine is to be recovered.
                              required:
                                - vCloudServer
                                - vCenter
                                - esxiServer
                                - datacenter
                                - vmFolder
                                - resourcePoolOrVapp
                                - vmxDatastore
                                - vCloudOrg
                                - vCloudOrgvDC
                                - vCloudvApp
                              properties:
                                vCloudServer:
                                  type: string
                                  description: >-
                                    The name of the VMware Cloud server hosting
                                    the virtual machine.
                                vCenter:
                                  type: string
                                  description: >-
                                    The name of the vCenter hosting the virtual
                                    machine.
                                esxiServer:
                                  type: string
                                  description: The ESXi server name.
                                datacenter:
                                  type: string
                                  description: >-
                                    The datacenter path. Must begin with a
                                    forward slash '/'.
                                vmFolder:
                                  type: string
                                  description: >-
                                    The VM folder path. Must begin with a
                                    forward slash '/'.
                                resourcePoolOrVapp:
                                  type: string
                                  description: >-
                                    The resource pool or vApp path. Must begin
                                    with a forward slash '/'.
                                network:
                                  type: string
                                  description: >-
                                    Network name of the virtual machine to be
                                    restored.
                                vmxDatastore:
                                  type: string
                                  description: >-
                                    The name of the datastore to restore the VMX
                                    file to.
                                vCloudOrg:
                                  type: string
                                  description: The name of the VMware Cloud organization.
                                vCloudOrgvDC:
                                  type: string
                                  description: >-
                                    The name of the VMware Cloud organization
                                    virtual data centers.
                                vCloudvApp:
                                  type: string
                                  description: The name of the VMware Cloud vApp.
                                vCloudVmName:
                                  type: string
                                  description: The name of the virtual machine.
                                vCloudCatalog:
                                  type: string
                                  description: The name of the catalog name.
                                vCloudvAppTemplate:
                                  type: string
                                  description: The name of the VMware Cloud vApp template.
                            vmDisks:
                              type: array
                              description: List of virtual machine disks to be restored.
                              items:
                                type: object
                                required:
                                  - source
                                  - destination
                                  - sizeMBytes
                                properties:
                                  source:
                                    type: string
                                    description: >-
                                      Full path of the source virtual machine
                                      disk (VMDK).
                                  destination:
                                    type: string
                                    description: >-
                                      Full path of the destination virtual
                                      machine disk (VMDK).
                                  storagePolicy:
                                    type: string
                                    description: >-
                                      Storage policy name for the virtual
                                      machine disk (VMDK).
                                  sizeMBytes:
                                    type: integer
                                    format: int64
                                    description: >-
                                      Size of the virtual machine disk (in Mega
                                      Bytes).
                            vmHomeStoragePolicy:
                              type: string
                              description: >
                                The storage policy name for virtual machine
                                configuration files.
                            instanceUuid:
                              type: string
                              description: The instance UUID of the original VM.
                        vCloudRecoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for the
                            recovery.
                          required:
                            - recoveryHost
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform the pre-recovery-check.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name. If not specified, does not
                                overwrite the VM and its associated resources,
                                if they already exist with the same name.
                            transportMode:
                              type: string
                              default: 'san:hotadd:nbd:nbdssl'
                              description: >
                                The transport mode combination that is to be
                                used to perform the recovery. The string must be
                                specified all in lowercase, with colon separated
                                values such as `hotadd:nbd:nbdssl:san`. The
                                order of the specified modes is significant, as
                                NetBackup attempts each mode in that order until
                                the recovery is successful. If none of the modes
                                are successful, the recovery fails. If not
                                specified, the default is
                                `san:hotadd:nbd:nbdssl`.
                            vCloudRestoreIntoExistingvApp:
                              type: boolean
                              default: false
                              description: >
                                Option to indicate if restoring a VM to an
                                existing vApp.
                            validateStoragePolicies:
                              type: boolean
                              default: false
                              description: >
                                If `true`, validate the storage policies for the
                                virtual machine disk with available storage
                                policies.
              example:
                data:
                  type: preRecoveryCheckRequest
                  attributes:
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vCloudEnvironment:
                        vCloudServer: vcloud-server.example.com
                        vCenter: vcenter-server.example.com
                        esxiServer: esx-server.example.com
                        datacenter: /example-DC
                        vmFolder: /example-DC/vm
                        resourcePoolOrVapp: >-
                          /example-DC/host/esx.example.com/Resources/example-res-pool
                        network: VM Network
                        vmxDatastore: example-DS
                        vCloudOrg: example-org-name
                        vCloudOrgvDC: example-orgvdc-name
                        vCloudvApp: example-vapp-name
                        vCloudVmName: example-vcloud-vmname
                        vCloudCatalog: example-catalog-name
                        vCloudvAppTemplate: example-template-name
                      vmDisks:
                        - source: /example-DS1/example-vm/example-disk1.vmdk
                          destination: /example-DS3/
                          storagePolicy: test-storage-policy-1
                          sizeMBytes: 16384
                        - source: /example-DS2/example-vm/example-disk2.vmdk
                          destination: /example-DS3/
                          storagePolicy: test-storage-policy-1
                          sizeMBytes: 1024
                      vmHomeStoragePolicy: test-storage-policy-1
                      instanceUuid: 55555555-5555-5555-5555-555555555555
                    vCloudRecoveryOptions:
                      recoveryHost: recovery-proxy.example.com
                      overwriteExistingVm: false
                      transportMode: 'hotadd:nbd:nbdssl:san'
                      vCloudRestoreIntoExistingvApp: false
                      validateStoragePolicies: true
        description: Pre-recovery check request for a full VMware Cloud VM recovery.
        required: true
      responses:
        '200':
          description: List of recovery validation items.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: >-
                  The pre-recovery-check response schema for VMware Cloud full
                  VM recovery.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: Describes the recovery validation item.
                      properties:
                        type:
                          type: string
                          description: The type of the recovery validation.
                        id:
                          type: string
                          description: The ID of the recovery validation.
                        attributes:
                          type: object
                          description: Describes the validation item.
                          properties:
                            name:
                              type: string
                              description: Name of the validation item.
                            result:
                              type: string
                              description: >-
                                Result of the validation item
                                (Passed/Failed/Skipped).
                              enum:
                                - Passed
                                - Failed
                                - Skipped
                            description:
                              type: string
                              description: Description of the validation item.
                          required:
                            - name
                            - result
                      required:
                        - type
                        - id
                        - attributes
                example:
                  data:
                    - type: recoveryValidationItem
                      id: 80
                      attributes:
                        name: Verify datacenter path
                        result: Passed
                    - type: recoveryValidationItem
                      id: 2
                      attributes:
                        name: Datastore space available
                        result: Passed
                        description: >-
                          16384 megabytes requested on datastore datastore1,
                          30624 available
        '400': *ref_6
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/vcloud-full-vm/query-vapp-info:
    post:
      description: >
        Query VMware Cloud vApp information.


        **Access Control**\

        Server\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcloud_director_identifier in the API
        response. GET /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        VMware Cloud objects\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response for orgnization, organization vDC, and vApp
        object namespaces)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The request to query vApp information in VMware Cloud Director
                server.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type for vApp query request.
                      type: string
                      enum:
                        - vCloudvAppQueryRequest
                    attributes:
                      description: Contains the request attributes.
                      type: object
                      required:
                        - vCDServer
                        - vCDOrg
                        - vCDOrgvDC
                        - vCDvApp
                        - vCDCatalog
                        - recoveryHost
                      properties:
                        vCDServer:
                          type: string
                          description: |
                            The name of the VMware Cloud Director server.
                        vCDOrg:
                          type: string
                          description: |
                            The name of the VMware Cloud organization.
                        vCDOrgvDC:
                          type: string
                          description: >
                            The name of the VMware Cloud organization virtual
                            data centers.
                        vCDvApp:
                          type: string
                          description: |
                            The name of the VMware Cloud vApp.
                        vCDCatalog:
                          type: string
                          description: |
                            The name of the VMware Cloud catalog.
                        recoveryHost:
                          type: string
                          description: |
                            The name of the recovery host.
              example:
                data:
                  type: vCloudvAppQueryRequest
                  attributes:
                    vCDServer: vcloud-server.example.com
                    vCDOrg: VMware Cloud Org
                    vCDOrgvDC: VMware Cloud Org vDC
                    vCDvApp: VMware Cloud vApp
                    vCDCatalog: VMware Cloud catalog
                    recoveryHost: server.example.com
        description: Request for a vApp query information.
        required: true
      responses:
        '200':
          description: vApp query response returned successfully.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: The response for a vApp query information.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      type:
                        description: The response type for the vApp query response.
                        type: string
                        enum:
                          - vCloudvAppQueryResponse
                      id:
                        description: Id for the vApp query response.
                        type: string
                      attributes:
                        description: Contains the vApp query response attributes.
                        type: object
                        required:
                          - vAppInfo
                        properties:
                          vAppInfo:
                            description: vApp information.
                            type: object
                            required:
                              - vAppName
                              - isTemplate
                              - isExpired
                              - vmList
                            properties:
                              vAppName:
                                description: Name of the VMware Cloud vApp.
                                type: string
                              isTemplate:
                                description: Flag to know if vApp is a Template
                                type: boolean
                                default: false
                              isExpired:
                                description: Flag to know if vApp has expired
                                type: boolean
                                default: false
                              vmList:
                                description: List of VMs in a vApp
                                type: array
                                items:
                                  description: VM in a vApp
                                  type: object
                                  required:
                                    - vmName
                                  properties:
                                    vmName:
                                      type: string
                                      description: The name of the VM.
        '400': *ref_5
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to query vApp information.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to query vApp information.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/guestfs-agentbased/recover:
    post:
      description: >
        Recovers individual files and folders from a VMware virtual machine
        using the NetBackup client.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|FILESYSTEM-CLIENT`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_DESTINATION|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_OVERWRITE| - Required to
        overwrite existing files or folders.`


        Note that this operation will allow a user to restore images to **ANY**
        NetBackup client.


        Asset Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.attributes.providerGeneratedId`
        attribute in the /catalog/images response, for the object-level
        namespace)\

        A file/folder recovery requires:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RECOVER|` - Required
        on source asset.
      tags:
        - VMware Workloads
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - recoveryRequest
                - selectionsFile
              properties:
                recoveryRequest:
                  description: The recovery request schema for VMware files/folders.
                  type: object
                  required:
                    - data
                  properties:
                    data:
                      type: object
                      required:
                        - type
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - vmwareAgentBasedRecoveryRequest
                        attributes:
                          type: object
                          required:
                            - recoveryPoint
                            - recoveryOptions
                          properties:
                            recoveryPoint:
                              description: >-
                                Selects the recovery point for this recovery
                                based on the specified options.
                              type: object
                              required:
                                - client
                                - policyType
                                - startDate
                                - endDate
                              properties:
                                client:
                                  description: >-
                                    The client identifier that was used at the
                                    time of backup.
                                  type: string
                                policyType:
                                  description: >-
                                    The policy type that was used at the time of
                                    backup.
                                  type: string
                                  enum:
                                    - VMWARE
                                startDate:
                                  description: >-
                                    Specifies a start date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                endDate:
                                  description: >-
                                    Specifies an end date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                            recoveryOptions:
                              description: >-
                                Describes the recovery options to be used for
                                this recovery.
                              type: object
                              required:
                                - destinationClient
                                - server
                              properties:
                                accessControlAttributes:
                                  description: >-
                                    If `true`, restores the files with
                                    access-control attributes.
                                  type: boolean
                                  default: true
                                destinationClient:
                                  description: >-
                                    The client where the files/folders will
                                    restored to.
                                  type: string
                                jobPriorityOverride:
                                  description: >-
                                    Overrides the recovery job priority with the
                                    specified value.
                                  type: integer
                                  default: -1
                                mediaServer:
                                  description: >-
                                    Specifies the media server to be used for
                                    the restore operation.
                                  type: string
                                overwriteExistingFiles:
                                  description: >
                                    If `true`, overwrites the files/folders if
                                    they exist in the destination location with
                                    the same name.
                                  type: boolean
                                  default: false
                                renameHardLinks:
                                  description: >-
                                    If `true`, renames UNIX hard links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                renameSoftLinks:
                                  description: >-
                                    If `true`, renames UNIX soft links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                restrictMountPoints:
                                  description: >-
                                    If `true`, restores directories without
                                    crossing mount-points.
                                  type: boolean
                                  default: false
                                server:
                                  description: >-
                                    Specifies the name of the NetBackup primary
                                    server.
                                  type: string
                                cleanFileRestore:
                                  description: >-
                                    If `true`, restores clean files only,
                                    malware infected files will be skipped.
                                  type: boolean
                                  default: true
                  example:
                    data:
                      type: vmwareAgentBasedRecoveryRequest
                      attributes:
                        recoveryPoint:
                          client: host1.example.com
                          policyType: VMWARE
                          startDate: 2017-11-20T23:20:50.000Z
                          endDate: 2018-12-20T23:20:50.000Z
                        recoveryOptions:
                          destinationClient: host1.example.com
                          server: nbuserver.example.com
                          overwriteExistingFiles: true
                          cleanFileRestore: true
                selectionsFile:
                  description: >
                    A file containing a JSON array of the files to be restored
                    with their path and backup time in ISO

                    8601 format.


                    Example:

                    ```

                    [
                      {
                        "path": "/C/Users/john/Desktop/report1.doc",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      },
                      {
                        "path": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      }
                    ]

                    ```
                  type: string
                  format: binary
                renameFile:
                  description: >
                    A file containing a JSON array of the file to restore to a
                    different location with the original and

                    destination paths.


                    Example:

                    ```

                    [
                      {
                        "from": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "to": "/C/Users/john/Downloads/Office365_64bit.exe"
                      }
                    ]

                    ```
                  type: string
                  format: binary
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/guestfs-agentless/recover:
    post:
      description: >
        Recovers individual files and folders from a VMware virtual machine
        without a NetBackup client.


        **Access Control**\

        Server

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcenter_identifier or esx_identifier or
        restore_esx_identifier namespace in the API response. GET
        /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A file/folder recovery requires:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|GRANULAR_RESTORE|`


        Overwriting existing files/folders requires both operations:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|GRANULAR_RESTORE|`\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_OVERWRITE|`


        A restore using vmCredentialId requires the following permissions on the
        credential ID:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MANAGE|CREDENTIALS|ASSIGNABLE|`


        A restore from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The recovery request schema for an agentless VMware file and
                folder recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - vmAgentlessFileRecoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options. Required.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required, if `backupId` is not
                                specified. Cannot be used along with `backupId`.
                                If a `filter` is not specified along with
                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required, if `client` is not
                                specified. Cannot be used along with `client`
                                and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup includes all
                                of the images within the range. All the filters
                                are based on the OData standard and filtering on
                                the following attributes is supported.

                                +++ <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table> +++

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                        recoveryObject:
                          type: object
                          description: >-
                            Represents the files/folders to be recovered and the
                            destination.
                          required:
                            - vmFiles
                            - vmRecoveryDestination
                          properties:
                            vmFiles:
                              type: array
                              description: >-
                                Represents one or more files/folders to be
                                restored to the guest virtual machine.
                              items:
                                type: object
                                required:
                                  - source
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The source path of the file/folder to be
                                      restored. The path is case sensitive and
                                      must be in Unix format. Directories must
                                      end with a '/'.
                                  destination:
                                    type: string
                                    description: >
                                      The destination path of the file/folder to
                                      be restored. If not specified, the default
                                      is the original location or
                                      `alternateLocationDirectory` if set. The
                                      path is case sensitive and must be in Unix
                                      format. Directories must end with a '/'.
                            alternateLocationDirectory:
                              type: string
                              description: >
                                If set, restores all files/folders to an
                                alternate location directory maintaining
                                existing structures. Overrides the `vmFiles`
                                destination parameter. If not specified, the
                                destination path is determined by the `vmFiles`
                                destination parameter. The path is case
                                sensitive.
                            flattenDirectoryStructure:
                              type: boolean
                              default: false
                              description: >
                                If `true`, only the last element of the source
                                file path will be kept in the destination path.
                                If `false`, the restored file will keep the same
                                directory structure. Can only be used when
                                `alternateLocationDirectory` is specified. Only
                                applies to files.
                            appendString:
                              type: string
                              description: >-
                                Appends the specified string to the destination
                                file names before any file extension. Only
                                applies to files.
                            vmRecoveryDestination:
                              type: object
                              description: >-
                                Describes the destination VM environment where
                                the files/folders will be recovered to.
                              oneOf:
                                - required:
                                    - vmUsername
                                    - vmPassword
                                - required:
                                    - vmCredentialId
                              properties:
                                recoveryHost:
                                  type: string
                                  description: >-
                                    The server that is to be used as the VM
                                    recovery host to perform this recovery. If
                                    not specified, the default is the one used
                                    at the time of backup.
                                vCenter:
                                  type: string
                                  description: >-
                                    The vCenter where the destination VM
                                    resides. If not specified, the default is
                                    the one used at the time of backup.
                                esxiServer:
                                  type: string
                                  description: >-
                                    The ESXi server name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                instanceUuid:
                                  type: string
                                  description: >-
                                    The instance UUID of the VM where the
                                    files/folders will be restored to. If not
                                    specified, the default is the one used at
                                    the time of backup.
                                datastore:
                                  type: string
                                  description: >-
                                    The datastore where the files/folders to be
                                    recovered will be temporarily mounted. If
                                    not specified, the default is the one used
                                    at the time of backup. This field is not
                                    applicable when `restrictedRestoreMode` is
                                    true.
                                transportMode:
                                  type: string
                                  description: >-
                                    The transport mode combination that is to be
                                    used to perform this recovery. The string
                                    must be specified all in lowercase, with
                                    colon separated values such as
                                    `hotadd:nbd:nbdssl:san`. The order of the
                                    specified modes is significant, as NetBackup
                                    attempts each mode in that order until the
                                    recovery is successful. If none of the modes
                                    are successful, the recovery fails. If not
                                    specified, the default is the modes used at
                                    the time of backup. This field is not
                                    applicable when `restrictedRestoreMode` is
                                    true.
                                vmUsername:
                                  type: string
                                  description: >-
                                    The user name of the VM where the
                                    files/folders are to be restored. This is a
                                    mandatory parameter.
                                vmPassword:
                                  type: string
                                  description: >-
                                    The password of the VM where the
                                    files/folders are to be restored. This is a
                                    mandatory parameter.
                                vmCredentialId:
                                  type: string
                                  description: >-
                                    The unique ID of the VMware Guest VM
                                    credential.
                                stagingLocation:
                                  type: string
                                  description: >-
                                    The file system location inside the guest VM
                                    where the recovery tool will be temporarily
                                    staged. If not specified, NetBackup will
                                    create a temporary directory on the
                                    filesystem. This field is not applicable
                                    when `restrictedRestoreMode` is true.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            restrictedRestoreMode:
                              type: boolean
                              default: false
                              description: >
                                If `true`, this mode allows file restores in
                                certain restrictive environments such as Windows
                                User Account Control, where no
                                administrative/privileged operation can be
                                performed without user interaction. Not all
                                types of files can be recovered. ACLs, file
                                ownership, and some other metadata may not be
                                restored. The `datastore`, `transportMode`,
                                `stagingLocation`, `restrictMountPoints`, and
                                `renameSoftLinks` fields are not applicable.
                            overwriteExistingFiles:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the files/folders if they
                                exist in the destination location with the same
                                name.
                            restrictMountPoints:
                              type: boolean
                              default: false
                              description: >
                                If `true`, restores directories without crossing
                                mount-points. This field is not applicable when
                                `restrictedRestoreMode` is true.
                            renameHardLinks:
                              type: boolean
                              default: false
                              description: >
                                If `true`, renames hard links. This field is set
                                to true when `restrictedRestoreMode` is true
                            renameSoftLinks:
                              type: boolean
                              default: false
                              description: >
                                If `true`, renames soft links. This field is not
                                applicable when `restrictedRestoreMode` is true.
                            cleanFileRestore:
                              description: >-
                                If `true`, restores clean files only, malware
                                infected files will be skipped.
                              type: boolean
                              default: true
              example:
                data:
                  type: vmAgentlessFileRecoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                    recoveryObject:
                      vmFiles:
                        - source: /tmp/example-file.txt
                          destination: /tmp/example-file-restored.txt
                        - source: /tmp/example-notes.txt
                          destination: /var/example-notes.txt
                      alternateLocationDirectory: /root/tmp
                      flattenDirectoryStructure: false
                      appendString: _new
                      vmRecoveryDestination:
                        recoveryHost: vcenter-proxy.example.com
                        vCenter: vcenter-server.example.com
                        esxiServer: esx-server.example.com
                        instanceUuid: 5034deb6-afdc-2612-0591-fb350cf74ce4
                        datastore: datastore1
                        transportMode: 'san:hotadd:nbd:nbdssl'
                        vmUsername: root
                        vmPassword: password
                        stagingLocation: /recovery
                    recoveryOptions:
                      restrictedRestoreMode: false
                      overwriteExistingFiles: true
                      restrictMountPoints: true
                      renameHardLinks: true
                      renameSoftLinks: true
                      cleanFileRestore: true
        description: The request for a VMware agentless file and folder recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_6
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/guestfs-agentless/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for an agentless VMware file and folder
        recovery.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcenter_identifier or esx_identifier or
        restore_esx_identifier in the API response. GET
        /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        A pre-recovery check using vmCredentialId requires the following
        permissions on the credential ID:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MANAGE|CREDENTIALS|ASSIGNABLE|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                Schema for the pre-recovery check request for an agentless
                VMware file and folder recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the data for the pre-recovery check request.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The pre-recovery-check request type.
                      type: string
                      enum:
                        - vmAgentlessFilePreRecoveryCheckRequest
                    attributes:
                      description: Contains the pre-recovery-check request attributes.
                      type: object
                      required:
                        - recoveryOptions
                      properties:
                        recoveryOptions:
                          type: object
                          required:
                            - recoveryHost
                            - vCenter
                            - esxiServer
                            - instanceUuid
                            - sizeKB
                          oneOf:
                            - required:
                                - vmUsername
                                - vmPassword
                            - required:
                                - vmCredentialId
                          properties:
                            recoveryHost:
                              type: string
                              description: >-
                                The server that is to be used as the VM recovery
                                host to perform this recovery.
                            vCenter:
                              type: string
                              description: The vCenter where the destination VM resides.
                            esxiServer:
                              type: string
                              description: The ESXi server name.
                            instanceUuid:
                              type: string
                              description: >-
                                The instance UUID of the VM where the
                                files/folders will be restored to.
                            datastore:
                              type: string
                              description: >-
                                The datastore where the files/folders to be
                                recovered will be temporarily mounted. This
                                field is not applicable when
                                `restrictedRestoreMode` is true.
                            vmUsername:
                              type: string
                              description: >-
                                The user name of the VM where the files/folders
                                are to be restored.
                            vmPassword:
                              type: string
                              description: >-
                                The password of the VM where the files/folders
                                are to be restored.
                            vmCredentialId:
                              type: string
                              description: The unique ID of the VMware guest VM credential.
                            stagingLocation:
                              type: string
                              description: >-
                                The file system location inside the guest VM
                                where the recovery tool will be temporarily
                                staged. If not specified, NetBackup will create
                                a temporary directory on the filesystem. This
                                field is not applicable when
                                `restrictedRestoreMode` is true.
                            sizeKB:
                              type: integer
                              format: int64
                              description: >-
                                The total size of the files to be restored (in
                                kilobytes).
                            restrictedRestoreMode:
                              type: boolean
                              default: false
                              description: >-
                                If `true`, this mode allows file restores in
                                certain restrictive environments such as Windows
                                User Account Control, where no
                                administrative/privileged operation can be
                                performed without user interaction. Not all
                                types of files can be recovered. ACLs, file
                                ownership, and some other metadata may not be
                                restored. The `datastore` and `stagingLocation`
                                fields are not applicable.
              example:
                data:
                  type: vmAgentlessFilePreRecoveryCheckRequest
                  attributes:
                    recoveryOptions:
                      recoveryHost: vcenter-proxy.example.com
                      vCenter: vcenter-server.example.com
                      esxiServer: esx-server.example.com
                      instanceUuid: 5034deb6-afdc-2612-0591-fb350cf74ce4
                      datastore: datastore1
                      vmUsername: root
                      vmPassword: password
                      stagingLocation: /recovery
                      sizeKB: 64
                      restrictedRestoreMode: false
        description: >-
          Pre-recovery check request for an agentless VMware file and folder
          recovery.
        required: true
      responses:
        '200':
          description: List of recovery validation items.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: >-
                  The pre-recovery-check response schema for an agentless VMware
                  file and folder recovery.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: Describes the recovery validation item.
                      required:
                        - type
                        - id
                        - attributes
                      properties:
                        type:
                          type: string
                          description: The type of the recovery validation.
                          enum:
                            - vmAgentlessFileRecoveryValidationItem
                        id:
                          type: string
                          description: The ID of the recovery validation.
                        attributes:
                          type: object
                          description: Describes the validation item.
                          required:
                            - resource
                            - name
                            - result
                          properties:
                            resource:
                              type: string
                              default: GENERAL
                              description: >
                                The resource being validated by the validation
                                item. If a validation item does not correspond
                                to a specific resource, defaults to `GENERAL`.
                              enum:
                                - GENERAL
                                - RECOVERY_HOST
                                - VCENTER
                                - ESXI_SERVER
                                - INSTANCE_UUID
                                - DATASTORE
                                - VM_USERNAME
                                - VM_PASSWORD
                                - STAGING_LOCATION
                                - SIZE_KB
                                - RESTRICTED_RESTORE_MODE
                            name:
                              type: string
                              description: Name of the validation item.
                            result:
                              type: string
                              description: Result of the validation item.
                              enum:
                                - PASSED
                                - FAILED
                                - SKIPPED
                            description:
                              type: string
                              description: Description of the validation item result.
                example:
                  data:
                    - type: vmAgentlessFileRecoveryValidationItem
                      id: 10
                      attributes:
                        resource: VM_USERNAME
                        name: Verify guest VM credentials
                        result: Passed
                    - type: vmAgentlessFileRecoveryValidationItem
                      id: 5
                      attributes:
                        resource: DATASTORE
                        name: Datastore space available
                        result: Passed
                        description: >-
                          16384 kilobytes requested on datastore datastore1,
                          30624 available
        '400': *ref_6
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/vmdk/recover:
    post:
      description: >
        Recovers a vmdk VMware virtual machine.


        **Access Control**\

        Server

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcenter_identifier or esx_identifier or
        restore_esx_identifier namespace in the API response. GET
        /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A restore to an alternate location requires:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RECOVER|`


        A restore from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for VMware full VM recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryObject
                        - recoveryOptions
                      properties:
                        recoveryPoint:
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options. Required.
                          type: object
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required, if `backupId` is not
                                specified. Cannot be used along with `backupId`.
                                If a `filter` is not specified along with
                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required, if `client` is not
                                specified. Cannot be used along with `client`
                                and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                        recoveryObject:
                          description: Represents the virtual machine being recovered.
                          type: object
                          required:
                            - vmDisplayName
                            - vmDisks
                            - vmEnvironment
                          properties:
                            vmDisplayName:
                              description: >
                                The display name of the virtual machine. Must
                                not contain more than 80 characters.
                              type: string
                            vmDisks:
                              description: |
                                Represents one or more virtual machine disks.
                              type: array
                              items:
                                type: object
                                properties:
                                  source:
                                    description: >-
                                      The source path of the virtual machine
                                      disk.
                                    type: string
                                  destination:
                                    description: >-
                                      The destination full path of the virtual
                                      machine disk, if applicable.
                                    type: string
                                  overwriteExistingVmdk:
                                    description: >-
                                      The existing disk should be overwritten or
                                      not.
                                    type: boolean
                                  diskProvisioning:
                                    description: The disk provisioning.
                                    type: string
                                  datastore:
                                    description: >-
                                      The destination datastore of the virtual
                                      machine disk.
                                    type: string
                                  controller:
                                    description: Virtual disk controller.
                                    type: string
                            vmEnvironment:
                              description: >
                                Describes the VMware environment where this
                                virtual machine is to be recovered.
                              type: object
                              properties:
                                vCenter:
                                  description: >
                                    The vCenter server name. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                  type: string
                                esxiServer:
                                  description: >
                                    The ESXi server name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                  type: string
                                datacenter:
                                  description: >
                                    The datacenter path. Must begin with a
                                    forward slash '/'. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                  type: string
                                vmFolder:
                                  description: >
                                    The VM folder path. Must begin with a
                                    forward slash '/'. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                  type: string
                                resourcePoolOrVapp:
                                  description: >
                                    The resource pool or vApp path. Must begin
                                    with a forward slash '/'. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                  type: string
                                vmxDatastore:
                                  description: >
                                    The name of the datastore to restore the VMX
                                    file to. If not specified, the default is
                                    the one used at the time of backup.
                                  type: string
                        recoveryOptions:
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          type: object
                          properties:
                            recoveryHost:
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform this recovery. If not specified,
                                the default is the one used at the time of
                                backup.
                              type: string
                            diskMediaServer:
                              description: >
                                The media server that is to be used to perform
                                this recovery. If not specified, the default is
                                the one used at the time of backup.
                              type: string
                            transportMode:
                              description: >
                                The transport mode combination that is to be
                                used to perform this recovery. The string must
                                be specified all in lowercase, with colon
                                separated values such as
                                `hotadd:nbd:nbdssl:san`. The order of the
                                specified modes is significant, as NetBackup
                                attempts each mode in that order until the
                                recovery is successful. If none of the modes are
                                successful, the recovery fails. If not
                                specified, the default is the one used at the
                                time of backup. If not found in the backup as
                                well,  the default is `san:hotadd:nbd:nbdssl`.
                              type: string
                              default: 'san:hotadd:nbd:nbdssl'
                            attachDisksToExistingVM:
                              description: >
                                If `false`, new (temporary) virtual machine will
                                be created and restore the disk(s) to it.
                              type: boolean
                              default: true
                            powerOnAfterRecovery:
                              description: >
                                If `true`, the VM is powered on after the
                                recovery. If `false`, the VM remains powered off
                                after the recovery. If not specified, the VM
                                remains powered off after the recovery.
                              type: boolean
                              default: false
                            deleteRestoredVMOnError:
                              description: Delete restored staging VM on error or not.
                              type: boolean
                              default: false
                            vmShutdownWaitSeconds:
                              description: Wait time in seconds for VM shutdown.
                              type: integer
                              default: 900
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmDisks:
                        - source: /example-DS1/example-vm/example-disk1.vmdk
                          destination: '\[example-DS2\] /example-vm/example-disk1.vmdk'
                          overwriteExistingVmdk: false
                          diskProvisioning: thick
                          datastore: example-DS2
                          controller: scsi0-0
                        - source: /example-DS1/example-vm/example-disk2.vmdk
                          destination: ''
                          overwriteExistingVmdk: true
                          diskProvisioning: thick
                          datastore: example-DS2
                          controller: scsi0-1
                      vmEnvironment:
                        vCenter: vcenter-server.example.com
                        esxiServer: esx-server.example.com
                        datacenter: /example-DC
                        vmFolder: /example-DC/vm
                        resourcePoolOrVapp: >-
                          /example-DC/host/esx.example.com/Resources/example-res-pool
                        vmxDatastore: example-DS
                    recoveryOptions:
                      recoveryHost: recovery-proxy.example.com
                      diskMediaServer: media-server.example.com
                      transportMode: 'san:hotadd:nbd:nbdssl'
                      attachDisksToExistingVM: true
                      powerOnAfterRecovery: false
                      deleteRestoredVMOnError: false
                      vmShutdownWaitSeconds: 900
        description: The request for a vmdk VMware VM recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/instant-access-mounts:
    post:
      description: >
        Creates a new instant access mount.

         **Access Control**\
        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_DOWNLOAD|`\

        OR\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_RESTORE|`


        Creating a mount from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the instant access mount from a VMware
                backup image.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - instantAccessMountV3
                    attributes:
                      type: object
                      properties:
                        backupId:
                          type: string
                          description: >
                            The backup image identifier to use to create the
                            instant access mount. Only backup images for the
                            policy type 'VMware' are supported.
                        copyNumber:
                          type: integer
                          description: >
                            The copy number to use for recovery. If not
                            specified, the first copy that supports instant
                            access is used.
                      required:
                        - backupId
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to newly created instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_34
                type: object
                required:
                  - data
                properties:
                  data: &ref_32
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: *ref_24
                      id:
                        type: string
                        description: A unique identifier for instant access mount.
                      type:
                        type: string
                        description: Specify 'instantAccessMountV3' as a type.
                        enum:
                          - instantAccessMountV3
                      attributes:
                        required:
                          - backupId
                        type: object
                        properties:
                          backupId:
                            description: >-
                              The backup image identifier to use to create the
                              instant access mount.
                            type: string
                          nfsServer:
                            description: The hostname of the NFS server.
                            type: string
                          exportPath:
                            description: The file path to which the mount is exported.
                            type: string
                          clientName:
                            description: >
                              The primary identifier of the backup client or
                              asset from which the mount was created. e.g. VM
                              instance uuid in case of VMware backup.
                            type: string
                          clientDisplayName:
                            description: >-
                              The display name of the backup client or asset
                              from which the mount was created.
                            type: string
                          policy:
                            description: The name of the backup policy.
                            type: string
                          timestamp:
                            description: >-
                              Instant access mount creation time in ISO 8601
                              format.
                            type: string
                            format: date-time
                          errorMessage:
                            type: string
                            description: >-
                              The error message to display if the status is
                              'INACTIVE'.
                          status: *ref_29
                          state: *ref_30
                          activity:
                            type: array
                            items:
                              type: object
                              required:
                                - jobId
                                - status
                                - filePath
                                - restorePath
                                - vmName
                                - startTime
                                - endTime
                              properties:
                                jobId:
                                  type: string
                                  description: file restore job id in UUID format.
                                status:
                                  type: string
                                  description: Restore activity status.
                                  enum:
                                    - SUCCESSFUL
                                    - FAILED
                                    - INPROGRESS
                                filePath:
                                  type: string
                                  description: Source file path to be restored.
                                restorePath:
                                  type: string
                                  description: Target file path to be restored.
                                vmName:
                                  type: string
                                  description: >-
                                    Name of the virtual machine where file will
                                    be restored.
                                errorMessage:
                                  type: string
                                  description: Detailed error message in case of failure.
                                startTime:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Start time of file restore activity in ISO
                                    8601 timestamp format.
                                endTime:
                                  type: string
                                  format: date-time
                                  description: >-
                                    End time of file restore activity in ISO
                                    8601 timestamp format.
                      relationships: *ref_31
        '400': *ref_6
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            The mount was not created because it would exceed the maximum
            configured number of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_DOWNLOAD|`\

        OR\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_RESTORE|`
      tags:
        - VMware Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |clientName|eq ne contains, startswith, endswith|The name of the
            client.|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved a list of existing instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: *ref_32
        '401': *ref_6
  '/recovery/workloads/vmware/instant-access-mounts/{mountId}':
    parameters:
      - *ref_33
    get:
      description: >
        Gets detailed information about the specified instant access mount.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_DOWNLOAD|`\

        OR\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_RESTORE|`
      tags:
        - VMware Workloads
      responses:
        '200':
          description: Successfully retrieved instant access mount information.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_34
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
    delete:
      description: >
        Deletes the existing instant access mount.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_DOWNLOAD|`\

        OR\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_RESTORE|`
      tags:
        - VMware Workloads
      responses:
        '204':
          description: Successfully deleted the existing instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/malware-scan-mounts:
    post:
      description: >
        Creates an malware scan mount on object storage from the specified
        backup image of vmware.

         **Access Control**\
        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|`


        Creating a mount from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the malware scan mount from the Vmware
                policy backup images.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'malwareScanMount' as a type.
                      type: string
                      enum:
                        - malwareScanMount
                    attributes:
                      allOf:
                        - &ref_35
                          required:
                            - clients
                            - displayName
                          type: object
                          properties:
                            displayName:
                              type: string
                              maximum: 36
                              description: >
                                The display name used in the malware scan mount
                                path. Use "a-z", "A-Z", "0-9", "-", "_" but not
                                starting with "-".
                            copyNumber:
                              type: integer
                              default: 1
                              description: >
                                The copy number to use for recovery. If not
                                specified, the first copy that supports instant
                                access is used.
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                            protocol:
                              description: Export protocol for the malware scan mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            activeDirectoryGroupNames:
                              description: >-
                                The array of Active Directory groups. Applies
                                when the protocol is SMB.
                              type: array
                              items:
                                type: string
                                description: The name of the Active Directory group.
                            activeDirectoryUserNames:
                              description: >-
                                The array of Active Directory users. Applies
                                when the protocol is SMB.
                              type: array
                              items:
                                type: string
                                description: The Active Directory user name.
                        - type: object
                          required:
                            - recoveryPointId
                          properties:
                            recoveryPointId:
                              type: string
                              description: >
                                The recovery point ID for the backup that is
                                used to create the malware scan mount.
        required: true
      responses:
        '201':
          description: Successfully created the malware scan mount.
          headers:
            Location:
              description: A link to newly created malware scan mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: &ref_36
                            type: object
                            properties:
                              href:
                                type: string
                      id:
                        type: string
                        description: A unique identifier for malware scan mount.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - malwareScanMount
                      attributes:
                        allOf:
                          - *ref_35
                          - type: object
                            properties:
                              jobId:
                                type: integer
                                format: int64
                                description: >-
                                  The NetBackup job performing the work of
                                  creating the instant access mount.
                      relationships: &ref_37
                        type: object
                        required:
                          - image
                        properties:
                          image:
                            description: >-
                              The backup images that are associated with this
                              malware scan mount.
                            type: object
                            properties:
                              links:
                                type: object
                                properties:
                                  related: *ref_36
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    id:
                                      type: string
        '400': *ref_6
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create malware scan mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            The mount was not created because it would exceed the maximum
            configured number of malware scanmounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|`
      tags:
        - VMware Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |displayName|eq, ne, contains, startswith, endswith|The name of the
            malware scan mount.|string|

            |status|eq, ne, contains, startswith, endswith|status of malware
            scan mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of malware scan
            mount (CREATED/EXPORTED)|string|

            |created|eq, ne, gt, ge, lt, le|malware scan mount creation time in
            ISO 8601 format|date-time|

            |protocol|eq, ne, contains, startswith, endswith|malware scan mount
            export protocl (NFS/SMB)|string|
          in: query
          required: false
          schema:
            type: string
        - name: 'page[limit]'
          description: The number of items to be returned on this call.
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: 'page[offset]'
          description: The offset of the first item to be returned on this call.
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Successfully retrieved a list of existing malware scan mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_38
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_36
                        id:
                          type: string
                          description: A unique identifier for malware scan mount.
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - malwareScanMount
                        attributes:
                          required:
                            - clients
                            - displayName
                            - exportPath
                            - mountPath
                            - state
                            - status
                            - protocol
                            - fullBackupIds
                          type: object
                          properties:
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                            displayName:
                              type: string
                              maximum: 36
                              description: >
                                The display name used in the malware scan mount
                                path. Use "a-z", "A-Z", "0-9", "-", "_" but not
                                starting with "-".
                            protocol:
                              description: Export protocol for the malware scan mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            fullBackupIds:
                              type: array
                              items:
                                type: string
                              description: >-
                                The list of image IDs for the full backups that
                                are used to create the malware scan mount.
                            vpfsServer:
                              type: string
                              description: >-
                                The name of the server hosting the malware scan
                                mount.
                            exportPath:
                              description: The path of the NFS/SMB export.
                              type: string
                            mountPath:
                              type: string
                              description: >-
                                Protocl-specific path along with the server that
                                can be used to mount the malware scan mount.
                            created:
                              description: >-
                                The time the mount was created, in ISO 8601
                                format.
                              type: string
                              format: date-time
                            errorMessage:
                              type: string
                              description: >-
                                The error message to display if the status is
                                'INACTIVE'.
                            status:
                              type: string
                              enum:
                                - ACTIVE
                                - INACTIVE
                                - INPROGRESS
                              description: >
                                The status indicates the health of the malware
                                scan mount.

                                ACTIVE - In good health.

                                INACTIVE - An issue exists with the malware scan
                                mount. It may be corrupted.

                                INPROGRESS - The creation of the malware scan 
                                mount is in progress.
                            state:
                              type: string
                              enum:
                                - CREATED
                                - EXPORTED
                              description: >
                                The state of the activity on the malware scan
                                mount.

                                CREATED - The malware scan  mount is available.

                                EXPORTED -  The malware scan mount was exported
                                to a client.
                            activeDirectoryGroupNames:
                              description: >-
                                The array of Active Directory groups. Applies
                                when the protocol is SMB.
                              type: array
                              items:
                                type: string
                                description: The name of the Active Directory group.
                            activeDirectoryUserNames:
                              description: >-
                                The array of Active Directory users. Applies
                                when the protocol is SMB.
                              type: array
                              items:
                                type: string
                                description: The Active Directory user name.
                        relationships: *ref_37
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of malware scan
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/vmware/malware-scan-mounts/{mountId}':
    parameters:
      - name: mountId
        in: path
        description: Malware scan  mount id.
        required: true
        schema:
          type: string
    get:
      description: >
        Gets detailed information about the specified malware scan mount.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|`
      tags:
        - VMware Workloads
      responses:
        '200':
          description: Successfully retrieved malware scan mount information.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data: *ref_38
        '401': *ref_6
        '404':
          description: The malware scan mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            malware scan mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the existing malware scan mount.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|`
      tags:
        - VMware Workloads
      responses:
        '204':
          description: Successfully deleted the existing malware scan mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the malware scanmount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/mssql/instant-access-mounts:
    post:
      description: >
        Creates a new instant access mount from the given Microsoft SQL server
        backup image.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|MSSQL|INSTANT_ACCESS_RECOVER|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MSSQL|RECOVER|`
      tags:
        - Microsoft SQL Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create an instant access mount from Microsoft SQL
                Server backup images.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantAccessMssqlMount' as a type.
                      type: string
                      enum:
                        - instantAccessMssqlMount
                    attributes:
                      type: object
                      required:
                        - assetId
                        - recoveryPoint
                        - targetServer
                      properties:
                        assetId:
                          type: string
                          description: >-
                            Asset ID from the asset service for the database to
                            be restored.
                        recoveryPoint:
                          type: string
                          description: The recovery point ID.
                        targetServer:
                          type: string
                          description: >-
                            The Microsoft SQL Server host that has access to the
                            instant access mount.
                        retention:
                          description: >-
                            The time that the mount is available. Default is 30
                            Days.
                          type: object
                          required: *ref_22
                          properties: *ref_23
                        mssqlRecoveryCopyInfo: *ref_39
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to newly created instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_41
                type: object
                required:
                  - data
                properties:
                  data: &ref_40
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: *ref_24
                      id:
                        type: string
                        description: A unique identifier for instant access mount.
                      type:
                        type: string
                        description: Specify 'instantAccessMssqlMount' as a type.
                        enum:
                          - instantAccessMssqlMount
                      attributes:
                        required:
                          - fullBackupIds
                          - exportPath
                          - sourceInstance
                          - sourceDatabase
                          - nfsServer
                          - policy
                          - assetId
                        type: object
                        properties:
                          fullBackupIds:
                            type: array
                            items:
                              type: string
                            description: >-
                              The list of image IDs for the full backups that is
                              used to create the instant access mount.
                          targetServer:
                            type: string
                            description: >-
                              The target server that will have access to the
                              instant access mount.
                          sourceInstance:
                            type: string
                            description: Name of source database instance.
                          sourceDatabase:
                            type: string
                            description: Name of source database.
                          targetInstance:
                            type: string
                            description: Name of target database instance.
                          targetDatabase:
                            type: string
                            description: Name of target database.
                          nfsServer:
                            description: The hostname of the NFS server.
                            type: string
                          exportPath:
                            description: The file path to which the mount is exported.
                            type: string
                          livemountPath:
                            description: The unc path to which the mount is exported.
                            type: string
                          clientName:
                            description: >-
                              The primary identifier of the backup client or
                              asset from which the mount was created.
                            type: string
                          policy:
                            description: The name of the backup policy.
                            type: string
                          recoveryPointTime:
                            description: the time of recovery point in ISO 8601 format.
                            type: string
                            format: date-time
                          timestamp:
                            description: >-
                              Instant access mount creation time in ISO 8601
                              format.
                            type: string
                            format: date-time
                          errorMessage:
                            type: string
                            description: >-
                              The error message to display if the status is
                              'INACTIVE'.
                          status: *ref_29
                          state: *ref_30
                          retention:
                            description: The time that the mount is available.
                            type: object
                            required: *ref_22
                            properties: *ref_23
                          assetId:
                            type: string
                            description: Asset ID associated with recovery point.
                          databaseStatus:
                            type: string
                            enum:
                              - IN_PROGRESS
                              - ATTACHED
                              - DETACHED
                              - FAIL
                      relationships: *ref_31
        '400': *ref_5
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            The mount was not created because it would exceed the maximum
            configured number of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|MSSQL|INSTANT_ACCESS_RECOVER|`
      tags:
        - Microsoft SQL Server Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |targetServer|eq, ne, contains, startswith, endswith|The target
            server that will have access to the instant access mount.|string|

            |targetDatabase|eq, ne, contains, startswith, endswith|Name of
            instant access database.|string|

            |targetInstance|eq, ne, contains, startswith, endswith|Name of
            instance which will host the instant access database.|string|

            |clientName|eq, ne, contains, startswith, endswith|The name of the
            netbackup client.|string|

            |sourceClient|eq, ne, contains, startswith, endswith|Name of the
            netbackup client that host source database.|string|

            |sourceInstance|eq, ne, contains, startswith, endswith|Name of the
            instance that host source database.|string|

            |sourceDatabase|eq, ne, contains, startswith, endswith|Name of
            source database.|string|

            |databaseStatus|eq, ne, contains, startswith, endswith|Instant
            access database status (ATTACHED/DETACHED/FAIL)|string|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state o finstant
            access mount (CREATED/EXPORTED)|string|

            |timestamp|eq, ne, gt, ge, lt, le|Instant access mount creation time
            in ISO 8601 format|date-time|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved a list of existing instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: *ref_40
        '401': *ref_6
  /recovery/workloads/mssql/instant-access-databases:
    post:
      description: >
        Attach the database files to create a Microsoft SQL Server database from
        an instant access mount for a given Microsoft SQL server backup.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|MSSQL|INSTANT_ACCESS_RECOVER|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MSSQL|RECOVER|`


        A restore using credentialId requires:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MANAGE|CREDENTIALS|ASSIGNABLE|`
      tags:
        - Microsoft SQL Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to attach an instant access database, which is
                created from the Microsoft SQL Server backups.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      type: string
                      enum:
                        - instantAccessMssqlDatabaseAttach
                    attributes:
                      type: object
                      required:
                        - targetServer
                        - recoveryObject
                        - recoveryPoint
                        - databaseName
                        - instanceName
                      properties:
                        recoveryObject: *ref_1
                        recoveryPoint:
                          type: string
                          description: The recovery point ID.
                        recoveryOptions: *ref_2
                        targetServer:
                          type: string
                          description: >-
                            The Microsoft SQL Server Host on which the instant
                            access database is created.
                        databaseName:
                          type: string
                          description: The database name.
                        instanceName:
                          type: string
                          description: The instance name.
                        retention:
                          description: >-
                            Time period for which the mount is available.
                            Default is 30 days.
                          type: object
                          required: *ref_22
                          properties: *ref_23
                        sambaUser:
                          type: string
                          description: >-
                            The samba user used to access the samba share. This
                            samba user should exist on the corresponding storage
                            server.
                        sambaPassword:
                          type: string
                          description: The password for the samba user
        required: true
      responses:
        '201':
          description: >-
            The job to create the instant access database is submitted
            successfully.
          headers:
            Location:
              description: >-
                This is the link to the new instant access mount of the
                database.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_41
        '400': *ref_5
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: >-
            An internal server error occurred. Failed to create an instant
            access database. Try to create the instant access database again.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Failed to create the instant access database mount. The maximum
            configured number of instant access databases has exceeded. Delete
            an existing instant access database and try again.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/mssql/instant-access-databases/{instantAccessDatabaseId}/delete':
    post:
      description: >
        To delete the Microsoft SQL database, the database files are detached
        and then the live mount associated with it is deleted.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|MSSQL|INSTANT_ACCESS_RECOVER|`
      tags:
        - Microsoft SQL Server Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to detach an instant access database, which is
                created from the Microsoft SQL Server backups.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      type: string
                      enum:
                        - instantAccessMssqlDatabaseDetach
                    attributes:
                      type: object
                      required:
                        - domain
                        - userName
                        - password
                      properties:
                        domain:
                          type: string
                          description: Domain
                        userName:
                          type: string
                          description: User
                        password:
                          type: string
                          format: password
                          description: Password
        required: true
      responses:
        '204':
          description: >-
            The job to delete the instant access database is submitted
            successfully.
        '401': *ref_6
        '404':
          description: Unable to find the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/mssql/instant-access-mounts/{mountId}':
    parameters:
      - *ref_33
    get:
      description: >
        Gets detailed information about the specified instant access mount.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|MSSQL|INSTANT_ACCESS_RECOVER|`
      tags:
        - Microsoft SQL Server Workloads
      responses:
        '200':
          description: Successfully retrieved instant access mount information.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_41
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
    delete:
      description: >
        Deletes the existing instant access mount.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation: `|OPERATIONS|MSSQL|INSTANT_ACCESS_RECOVER|`
      tags:
        - Microsoft SQL Server Workloads
      responses:
        '204':
          description: Successfully deleted the existing instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/vmware/instant-access-mounts/{mountId}/restore':
    parameters:
      - *ref_33
    post:
      description: >
        Restores the specified file in instant access mount to the specified VM
        path without requiring a NetBackup client.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_RESTORE|` - On source
        and target asset.\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_OVERWRITE|` -
        On target asset to overwrite the existing file/folder.


        A restore from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`


        A restore using vmCredentialId requires the following permissions on the
        credential ID:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|MANAGE|CREDENTIALS|ASSIGNABLE|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - instantAccessVmwareFileRestore
                    attributes:
                      type: object
                      required:
                        - files
                      oneOf:
                        - required:
                            - vmUsername
                            - vmPassword
                        - required:
                            - vmCredentialId
                      properties:
                        files:
                          type: array
                          items:
                            type: string
                          description: >-
                            The files in the instant access mount to be
                            restored.
                        vCenter:
                          type: string
                          description: >
                            The vCenter server name. If not specified, the
                            default is the one used at the time of backup.
                        esxiHost:
                          type: string
                          description: >
                            The ESXi server name. If not specified, the default
                            is the one used at the time of backup.
                        vmName:
                          type: string
                          description: >
                            The name of the VM associated with the file to be
                            restored. This is used to identify the VM. Not
                            required if vmInstUuid or vmBiosUuid is specified.
                        vmBiosUuid:
                          type: string
                          description: >
                            The BIOS UUID of the VM associated with the file to
                            be restored. This is used to identify the VM. Not
                            required if vmInstUuid or vmName is specified.
                        vmInstUuid:
                          type: string
                          description: >
                            The Instance UUID of the VM associated with the file
                            to be restored. This is used to identify the VM. Not
                            required if vmBiosUuid or vmName is specified.
                        vmUsername:
                          type: string
                          description: >-
                            The user name of the VM where the file is to be
                            restored.
                        vmPassword:
                          type: string
                          description: >-
                            The password of the VM where the file is to be
                            restored.
                        vmCredentialId:
                          type: string
                          description: The unique ID of the VMware Guest VM credential.
                        restoreToOriginalLocation:
                          type: boolean
                          default: false
                          description: >
                            If `true`, the files will be restore to original
                            location. If `false`, the files will be restore to
                            location specified by restorePath.
                        flattenDirectoryStructure:
                          type: boolean
                          default: false
                          description: >
                            If `true`, only the last element of request path
                            will be kept in destination path. If `false`, the
                            restored file will keep the same directory structure
                            as request path.
                        overwriteExistingFile:
                          type: boolean
                          default: true
                          description: >
                            If `true`, existing file will be overwritten If
                            `false`, existing file will not be overwritten,
                            restore operation will skip that file.
                        restorePath:
                          type: string
                          description: >
                            The VM path where the file is to be restored. This
                            parameter must be provided if restore to different
                            location. If single file is restored, This path can
                            be file's destination full path or destination
                            file's parent folder. If multiple files are
                            restored, this path must be an folder.
        required: true
      responses:
        '201':
          description: Successfully restore the file into the VM.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    description: Contains the vmware file restore response data.
                    type: object
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      type:
                        description: >-
                          Specifies the restore type as
                          'instantAccessVmwareFileRestore'
                        type: string
                        enum:
                          - instantAccessVmwareFileRestore
                      id:
                        type: string
                        description: the unique id of vmware file restore job.
                      attributes:
                        description: Contains attributes of restore job.
                        type: object
                        required:
                          - mountId
                          - files
                          - vmName
                          - restorePath
                        properties:
                          mountId:
                            description: >-
                              The instant access mount from where the file is to
                              be restored.
                            type: string
                          files:
                            type: array
                            items:
                              type: string
                            description: >-
                              The files in the instant access mount to be
                              restored.
                          vmName:
                            description: >-
                              The name of the VM where the file is to be
                              restored.
                            type: string
                          restorePath:
                            description: The VM path where the file is to be restored.
                            type: string
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
  '/recovery/workloads/vmware/instant-access-mounts/{mountId}/files':
    get:
      description: >
        Gets the content of the specified directory inside the instant access
        mount.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_DOWNLOAD|`\

        OR\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_RESTORE|`
      tags:
        - VMware Workloads
      parameters:
        - *ref_33
        - name: filter
          description: >
            Specifies the internal path of the instant access mount that is used
            to return the contents of the specified directory.


            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |path|startswith|The internal path for which the content is
            returned. By default, the path is set to '/'.|string|

            |name|contains|The base name of the file.|string|

            |itemType|eq|The content type of the item, either 'dir' or
            'file'.|string|
          in: query
          required: false
          schema:
            type: string
        - name: 'page[limit]'
          description: The number of items to be returned on this call.
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: 'page[offset]'
          description: The offset of the first item to be returned on this call.
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Successfully retrieved directory content of instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_24
                        id:
                          type: string
                          description: the path to the content item.
                        type:
                          type: string
                          description: Specify 'instantAccessMountContentItem' as a type.
                        attributes:
                          required:
                            - name
                            - itemType
                          properties:
                            path:
                              description: The path of the content item.
                              type: string
                            name:
                              description: The name of the content item.
                              type: string
                            itemType:
                              description: >-
                                The type of content item. valid values are 'dir'
                                and 'file'.
                              type: string
                              enum:
                                - dir
                                - file
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
  '/recovery/workloads/vmware/instant-access-mounts/{mountId}/download':
    parameters:
      - *ref_33
    get:
      description: >
        Creates a download package for a single file, from the specified instant
        access mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_DOWNLOAD|`
      tags:
        - VMware Workloads
      parameters:
        - in: query
          name: id
          description: The path of the file to be downloaded.
          schema:
            type: string
      responses:
        '200':
          description: Successfully created the download package.
          headers:
            Location:
              description: The URL to use to download the package.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_42
                type: object
                required:
                  - data
                properties:
                  data:
                    description: >-
                      Contains the download link from the instant access mount
                      response data.
                    type: object
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      type:
                        type: string
                        description: Type will be 'instantAccessDownloadUrl'.
                        enum:
                          - instantAccessDownloadUrl
                      id:
                        type: string
                        description: The instant access mount id
                      attributes:
                        type: object
                        required:
                          - securityKey
                          - url
                        properties:
                          securityKey:
                            type: string
                            description: >-
                              The authorization details of the download link
                              (URL) from the instant access mount.
                          url:
                            type: string
                            description: >-
                              The download link (URL) of the Storage Platform
                              Web Service.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
    post:
      description: >
        Creates a download package for multiple files or folders, from the
        specified instant access mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_DOWNLOAD|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the file list to be downloaded
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      type: string
                      description: >-
                        Specifies the request type as
                        'instantAccessDownloadList'.
                      enum:
                        - instantAccessDownloadList
                    attributes:
                      type: object
                      properties:
                        files:
                          type: array
                          items:
                            type: string
                        folders:
                          type: array
                          items:
                            type: string
        required: true
      responses:
        '200':
          description: Successfully created the download package.
          headers:
            Location:
              description: The URL to use to download the package.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_42
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
  '/recovery/workloads/vmware/instant-access-mounts/{mountId}/folder':
    get:
      description: >
        Get instant access folder attributes.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_DOWNLOAD|`\

        OR\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_FILES_RESTORE|`
      tags:
        - VMware Workloads
      parameters:
        - *ref_33
        - name: filter
          description: >
            Specifies the internal path of the instant access mount that is used
            to return the contents of the specified directory.


            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |path|startswith|The internal path for which the content is
            returned.
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successfully get folder attributes.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    description: Contains the folder attributes response data.
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      type:
                        type: string
                        description: Specifies 'instantAccessFolderAttributes' as a type.
                        enum:
                          - instantAccessFolderAttributes
                      id:
                        type: string
                        description: The path of the folder.
                      attributes:
                        description: Contains attributes of folder.
                        type: object
                        required:
                          - size
                        properties:
                          size:
                            description: >-
                              The size of the instant access folder in KB, MB,
                              or GB.
                            type: string
        '401': *ref_6
        '404':
          description: Folder was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
  /recovery/workloads/vmware/instant-access-vms:
    post:
      description: >
        Creates a new instant access VM.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|` - Required on
        source asset.\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|` -
        Required on target vCenter asset.\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantAccessVmV3' as a type.
                      type: string
                      enum:
                        - instantAccessVmV3
                    attributes:
                      type: object
                      required:
                        - backupId
                        - vmName
                      properties:
                        backupId:
                          type: string
                          description: >-
                            The backup image identifier to be used for creating
                            instant access VM.
                        copyNumber:
                          type: integer
                          description: >
                            The copy number to be used for recovery. If not
                            specified, the first copy that supports instant
                            access is used.
                        vCenter:
                          type: string
                          description: >
                            The vCenter server name. If not specified, the
                            default is the one used at the time of backup.
                        esxiHost:
                          type: string
                          description: >-
                            The ESXi server name. If not specified, the default
                            is the one used at the time of backup.
                        resourcePoolOrVapp:
                          type: string
                          description: >
                            The resource pool or vApp path. Must begin with a
                            forward slash '/'. If not specified, the default is
                            the one used at the time of backup.
                        vmFolder:
                          type: string
                          description: >
                            The VM folder path. Must begin with a forward slash
                            '/'. If not specified, the default is the one used
                            at the time of backup.
                        vmName:
                          type: string
                          description: >-
                            The display name of the virtual machine. Must not
                            contain more than 80 characters.
                        vMotionDatastore:
                          type: string
                          description: The target datastore of vMotion operation.
                        powerOn:
                          type: boolean
                          default: false
                          description: >
                            If `true`, the VM is powered on after the creation.
                            If `false`, the VM remains powered off after
                            creation. If not specified, the VM remains powered
                            off after creation.
                        removeEthCards:
                          type: boolean
                          default: false
                          description: >
                            Remove the VM's network interfaces. If not
                            specified, VM's network interfaces will be removed
                            after creation.
                        retention:
                          description: >-
                            Time for which VM will remain available. Default is
                            30 Days.
                          type: object
                          required: *ref_22
                          properties: *ref_23
                        removeBackingInfo:
                          description: >-
                            Remove the backing info for devices such as CD-ROM,
                            DVD, etc. Default is false.
                          type: boolean
                          default: false
                        resetBiosUuid:
                          description: Create new BIOS UUID for the VM. Default is false.
                          type: boolean
                          default: false
                        resetInstanceUuid:
                          description: >-
                            Create new Instance UUID for the VM. Default is
                            false.
                          type: boolean
                          default: false
        required: true
      responses:
        '201':
          description: Successfully created the instant access VM.
          headers:
            Location:
              description: A link to newly created instant access VM.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_45
                type: object
                required:
                  - data
                properties:
                  data: &ref_43
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: *ref_24
                      id:
                        type: string
                        description: A unique mount identifier for instant access VM.
                      type:
                        type: string
                        description: Specify 'instantAccessVmV3' as a type.
                        enum:
                          - instantAccessVmV3
                      attributes:
                        required:
                          - vCenter
                          - esxiHost
                          - vmName
                          - backupId
                        type: object
                        properties:
                          vCenter:
                            type: string
                            description: The vCenter server name.
                          resourcePool:
                            type: string
                            description: The resource pool or vApp path.
                          esxiHost:
                            type: string
                            description: The ESXi server name.
                          vmName:
                            type: string
                            description: VM name.
                          vmFolder:
                            type: string
                            description: The VM folder path.
                          backupId:
                            type: string
                            description: >-
                              The backup image identifier used for creating
                              instant access VM.
                          instantAccessVmConfig:
                            required:
                              - instanceUuid
                              - numEthernetCards
                              - numCpu
                              - uuid
                              - memorySizeMB
                              - numVirtualDisks
                              - version
                              - guestFullName
                            type: object
                            properties:
                              instanceUuid:
                                type: string
                                description: >
                                  VirtualCenter-specific 128-bit UUID of a
                                  virtual machine, represented as a hexadecimal
                                  string. This identifier is used by
                                  VirtalCenter to uniquely identify all virtual
                                  machine instances in the Virtual
                                  Infrastructure environment.
                              numEthernetCards:
                                type: integer
                                description: Number of virtual network adapters.
                              numCpu:
                                type: integer
                                description: >-
                                  Number of virtual processors in a virtual
                                  machine.
                              hostName:
                                type: string
                                description: >-
                                  Current version status of VMware Tools in the
                                  guest operating system, if known.
                              uuid:
                                type: string
                                description: >-
                                  128-bit SMBIOS UUID of a virtual machine
                                  represented as a hexadecimal
                              toolsRunningStatus:
                                type: string
                                description: >-
                                  Current running status of VMware Tools in the
                                  guest operating system, if known.
                              memorySizeMB:
                                type: integer
                                description: 'Size of a virtual machine''s memory, in MB.'
                              numVirtualDisks:
                                type: integer
                                description: >-
                                  Number of virtual disks attached to the
                                  virtual machine.
                              version:
                                type: string
                                description: The version string for this virtual machine.
                              guestId:
                                type: string
                                description: >-
                                  Guest operating system identifier (short
                                  name), if known.
                              ipAddress:
                                type: string
                                description: >-
                                  Primary IP address assigned to the guest
                                  operating system, if known.
                              toolsVersionStatus2:
                                type: string
                                description: >-
                                  Current version status of VMware Tools in the
                                  guest operating system, if known.
                              guestFullName:
                                type: string
                                description: >-
                                  Guest operating system name configured on the
                                  virtual machine.
                          clientName:
                            description: >
                              Primary identifier of client/asset from which this
                              VM has been created. Most likely VM instance uuid
                              in case of VMware backup. Not available if status
                              is 'inprogress'.
                            type: string
                          clientDisplayName:
                            description: >-
                              Display name of client/asset from which mount has
                              been created.
                            type: string
                          retention:
                            description: Amount of time in which VM will remain available.
                            type: object
                            required: *ref_22
                            properties: *ref_23
                          status: *ref_29
                          state: *ref_30
                          vMotionStatus:
                            description: >
                              The status of vMotion operation. Possible values
                              are 'NOT_SET/INPROGRESS/COMPLETE/ERROR'. NOT_SET -
                              the vMotion operation is not enabled. NOT_STARTED
                              - the vMotion operation is not started. INPROGRESS
                              - the vMotion operation is ongoing. COMPLETE - the
                              vMotion operation completed successfully. ERROR -
                              the vMotion operaton failed.
                            type: string
                            enum:
                              - NOT_SET
                              - NOT_STARTED
                              - INPROGRESS
                              - COMPLETE
                              - ERROR
                          vMotionProgress:
                            type: integer
                            description: the percentage completed of vMotion job.
                          vMotionErrorMessage:
                            type: string
                            description: Set if vMotionStatus is 'ERROR'.
                          timestamp:
                            description: >-
                              Instant access VM creation time in ISO 8601
                              format. Not available if status is 'inprogress'.
                            type: string
                            format: date-time
                          errorMessage:
                            type: string
                            description: Set if status is 'inactive'.
                      relationships: &ref_44
                        type: object
                        required:
                          - image
                        properties:
                          image:
                            description: >-
                              Backup image associated with this instant access
                              VM.
                            type: object
                            properties:
                              links:
                                type: object
                                properties:
                                  related: *ref_24
                              data:
                                description: >-
                                  A resource identifier object representing an
                                  individual resource.
                                type: object
                                required:
                                  - id
                                  - type
                                properties:
                                  id:
                                    type: string
                                  type:
                                    type: string
                          recoveryJob:
                            description: >-
                              Represents the job created by this recovery
                              operation.
                            type: object
                            required:
                              - links
                              - data
                            properties:
                              links:
                                description: Contains the links to get the job details.
                                type: object
                                required:
                                  - self
                                  - related
                                properties:
                                  self: *ref_24
                                  related: *ref_24
                              data:
                                type: object
                                description: Contains the recovery job data.
                                required:
                                  - type
                                  - id
                                properties:
                                  type:
                                    description: The resource type. Set to `job`.
                                    type: string
                                  id:
                                    description: The job identifier.
                                    type: integer
                                    format: int64
        '400': *ref_5
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create instant access VM.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            The VM was not created because an instant access mount could not be
            created. The maximum configured number of instant access mounts has
            been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Returns a list of all existing instant access VMs.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|` - Required on
        source asset.
      tags:
        - VMware Workloads
      responses:
        '200':
          description: Successfully retrieved a list of existing instant access VMs.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: *ref_43
        '401': *ref_6
  /recovery/workloads/vmware/instant-sync-vms:
    post:
      description: >
        Instant-Sync a VM to a recovery point.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|` - Required on
        source asset.\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|` -
        Required on target vCenter asset.


        A restore from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantSyncVm' as a type.
                      type: string
                      enum:
                        - instantSyncVm
                    attributes:
                      type: object
                      required:
                        - backupId
                      properties:
                        backupId:
                          type: string
                          description: >-
                            The backup image identifier to be used for
                            Instant-Sync VM.
                        copyNumber:
                          type: integer
                          description: >
                            The copy number to be used for recovery. If not
                            specified, the first copy that supports instant
                            access is used.
                        rollBackPowerOn:
                          type: boolean
                          default: false
                          description: >
                            If `true`, the VM in power on state will be rolled
                            back. If `false`, the VM in power on state will NOT
                            be rolled back. VM in power off state is not
                            impacted by this option and will always be rolled
                            back.
                        powerOn:
                          type: boolean
                          default: false
                          description: >
                            If `true`, the VM is powered on after the creation.
                            If `false`, the VM remains powered off after
                            creation. If not specified, the VM remains powered
                            off after creation.
        required: true
      responses:
        '201':
          description: Instant-Sync job started successfully.
          headers:
            Location:
              description: Contains the link to the created job.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - id
                      - type
                      - attributes
                    properties:
                      id:
                        type: string
                        description: A unique identifier for Instant-Sync VM.
                      type:
                        type: string
                        description: Specify 'instantSyncVm' as a type.
                        enum:
                          - instantSyncVm
                      attributes:
                        required:
                          - vCenter
                          - esxiHost
                          - vmName
                          - backupId
                        type: object
                        properties:
                          vCenter:
                            type: string
                            description: The vCenter server name.
                          resourcePool:
                            type: string
                            description: The resource pool or vApp path.
                          esxiHost:
                            type: string
                            description: The ESXi server name.
                          vmName:
                            type: string
                            description: VM name.
                          vmFolder:
                            type: string
                            description: The VM folder path.
                          backupId:
                            type: string
                            description: >-
                              The backup image identifier used for Instant-Sync
                              VM.
                          clientDisplayName:
                            description: Display name of the VM
                            type: string
                          status: *ref_29
                          errorMessage:
                            type: string
                            description: Set if status is 'inactive'.
                      relationships: *ref_44
        '400': *ref_5
        '401': *ref_6
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to Instant-Sync the VM.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            The VM was not Instant-Sync'ed because an instant access mount could
            not be created. The maximum configured number of instant access
            mounts has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/vmware/instant-access-vms/{mountId}':
    parameters:
      - *ref_33
    get:
      description: >
        Gets detailed information about the specified instant access VM.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|` - Required on
        source asset.
      tags:
        - VMware Workloads
      responses:
        '200':
          description: Successfully retrieved instant access mount information.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_45
        '401': *ref_6
        '404':
          description: The instant access VM was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
    delete:
      description: >
        Deletes the existing instant access VM.


        **Access Control**

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for specific object-level namespaces)\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_ACCESS_RECOVER|` - Required on
        source asset.\

        Requires Operation: `|OPERATIONS|UPDATE|` - Required on target vCenter
        asset.
      tags:
        - VMware Workloads
      responses:
        '204':
          description: Successfully deleted the existing instant access VM.
        '401': *ref_6
        '404':
          description: The instant access VM was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/ahv/scenarios/guestfs-agentbased/recover:
    post:
      description: >
        Recovers individual files or folders using NetBackup client from a AHV
        VM.


        **Access Control**


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|FILESYSTEM-CLIENT|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_DESTINATION|` - Required
        for file-system restore\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_OVERWRITE|` - Required for
        overwrite files and folders


        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A file/folder recovery requires:\

        Requires Operation: `|OPERATIONS|ASSETS|AHV|VM|GRANULAR_RESTORE|` -
        Required on source asset.
      tags:
        - AHV Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The request schema to recover the AHV VM files or folders using
                the NetBackup client.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - vmAgentBasedFileRecoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery
                            operation based on the specified options.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required, if `backupId` is not 

                                specified. Cannot be used along with `backupId`.
                                If a `filter` is not specified along with 

                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. 

                                Required, if `client` is not specified. Cannot
                                be used along with `client` and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be
                                used 

                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup includes all
                                of 

                                the images within the range. All the filters are
                                based on the OData standard and filtering on
                                the 

                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as 

                                `backupTime ge '2016-11-20T23:20:50Z' and
                                backupTime le '2016-12-20T23:20:50Z'`. 

                                If the `filter` only specifies the start of the
                                time interval, such as 

                                `backupTime ge '2016-11-20T23:20:50Z'`, then the
                                end of the interval is assumed

                                to be the current time. If the `filter` only
                                specifies the end of the time interval, 

                                such as `backupTime le '2016-11-20T23:20:50Z'`,
                                then the start of the interval is 

                                assumed to be 6 months prior to that. If the
                                `filter` is not specified, the end of 

                                the time interval is assumed to be the current
                                time and the start of the interval 

                                is assumed to be 6 months prior to that.
                        recoveryObject:
                          type: object
                          description: >-
                            Represents the files or folders to be recovered and
                            their destination.
                          required:
                            - vmFiles
                            - vmRecoveryDestination
                          properties:
                            vmFiles:
                              type: array
                              description: >-
                                Represents one or more files or folders to be
                                restored to the guest virtual machine.
                              items:
                                type: object
                                required:
                                  - source
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The source path of the file/folder to be
                                      restored. The path is case sensitive 

                                      and must be in Unix format. Directories
                                      must end with a '/'.
                                  destination:
                                    type: string
                                    description: >
                                      The destination path of the file/folder to
                                      be restored. If not specified, 

                                      the default is the original location or
                                      `alternateLocationDirectory` if set. 

                                      The path is case sensitive and must be in
                                      Unix format. Directories must end with a
                                      '/'.
                            alternateLocationDirectory:
                              type: string
                              description: >
                                If set, restores all files or folders to an
                                alternate location directory maintaining 

                                existing structures. Overrides the `vmFiles`
                                destination parameter. If not specified, 

                                the destination path is determined by the
                                `vmFiles` destination parameter. The path is
                                case sensitive.
                            flattenDirectoryStructure:
                              type: boolean
                              default: false
                              description: >
                                If `true`, only the last element of the source
                                file path will be kept in the destination path.

                                If `false`, the restored file will keep the same
                                directory structure. Can only be used 

                                when `alternateLocationDirectory` is specified.
                                Only applies to files.
                            appendString:
                              type: string
                              description: >-
                                Appends the specified string to the destination
                                file names before any file extension. Only
                                applies to files.
                            priority:
                              type: integer
                              description: >-
                                Specifies a new priority for the job that
                                overrides the default job priority.
                            diskMediaServer:
                              type: string
                              description: >
                                'Identifies the disk media server to be used for
                                the restore operation. 

                                The default server is the one currently being
                                used.'
                            vmRecoveryDestination:
                              type: object
                              description: >
                                'Describes the destination machine which has
                                NetBackup client configured where the 

                                files or folders will be recovered to.'
                              required:
                                - targetHost
                              properties:
                                targetHost:
                                  type: string
                                  description: >
                                    'Specifies the destination client which has
                                    NetBackup client configured where the 

                                    files or folders will be restored to. The
                                    default is the one used at the time of
                                    backup.'
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            overwriteExistingFiles:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the files or folders if
                                they exist in the destination location with the
                                same name.
                            restrictMountPoints:
                              type: boolean
                              default: false
                              description: >
                                If `true`, restores directories without crossing
                                mount-points.
                            renameHardLinks:
                              type: boolean
                              default: false
                              description: |
                                If `true`, renames hard links.
                            renameSoftLinks:
                              type: boolean
                              default: false
                              description: |
                                If `true`, renames soft links.
              example:
                data:
                  type: vmAgentBasedFileRecoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                    recoveryObject:
                      vmFiles:
                        - source: /tmp/example-file.txt
                          destination: /tmp/example-file-restored.txt
                        - source: /tmp/example-notes.txt
                          destination: /var/example-notes.txt
                      alternateLocationDirectory: /root/tmp
                      flattenDirectoryStructure: false
                      appendString: _new
                      priority: 999
                      diskMediaServer: media-server.example.com
                      vmRecoveryDestination:
                        targetHost: destination-target-home.example.com
                    recoveryOptions:
                      overwriteExistingFiles: true
                      restrictMountPoints: true
                      renameHardLinks: true
                      renameSoftLinks: true
        description: >-
          The request to recover files or folders using the NetBackup client
          from a AHV VM.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400':
          description: >-
            Some mandatory attributes were not found or the specified client,
            backup image, or the input JSON was invalid.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '401': *ref_6
        '404':
          description: The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/universal-share/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified universal share
        recovery point.


        **API Versioned:**\

        A breaking change has been made to this API starting with version 7.0.

        See the [Getting Started
        Guide](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started)
        for full details on what has changed and general information about API
        versioning.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|UNIVERSAL_SHARES|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|UNIVERSAL_SHARES|INSTANT_ACCESS_RECOVER|`


        Permissions to restore malware impacted files:\

        Requires Operation:
        `|OPERATIONS|ASSETS|UNIVERSAL_SHARES|RESTORE_MALWARE_INFECTED|`
      tags:
        - Universal Share Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the instant access mount from the
                universal share backup image.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantAccessUnstructuredDataMount' as a type.
                      type: string
                      enum:
                        - instantAccessUnstructuredDataMount
                    attributes:
                      allOf:
                        - &ref_46
                          required:
                            - clients
                            - displayName
                          type: object
                          properties:
                            displayName:
                              type: string
                              maximum: 36
                              description: >
                                The display name used in the instant access
                                mount path. Use "a-z", "A-Z", "0-9", "-", "_"
                                but not starting with "-".
                            copyNumber:
                              type: integer
                              default: 1
                              description: >
                                The copy number to use for recovery. If not
                                specified, the first copy that supports instant
                                access is used.
                            batchIndex:
                              type: integer
                              description: >
                                A backup may be split into multiple batches for
                                instant access. batchIndex determines which
                                batch is exported in this instant access.
                                batchIndex starts from 1 and should be less than
                                or equal to batchCount in the response. If
                                batchIndex is not present, all the files are
                                exported.
                            batchSize:
                              type: integer
                              description: >
                                A backup may be split into multiple batches for
                                instant access. batchSize determines how many
                                files are included in a batch. If batchSize is
                                not set, the default value is 500000.
                            fileSelection:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The file or directory that should be included
                                  in the instant access. If not present, all the
                                  files are exported.
                            readOnly:
                              type: boolean
                              default: false
                              description: >-
                                If set to `true`, the share is in read only
                                status.
                            malwareScan:
                              type: boolean
                              default: false
                              description: >-
                                create the instant access mount for malware scan
                                or not
                            shareOwner:
                              type: string
                              description: >
                                The files owner in samba protoctl also the samba
                                user who access the share
                            sambaCredentialId:
                              type: string
                              description: |
                                The Credential ID of MSDP Samba User category.
                            userId:
                              type: integer
                              description: |
                                The files uid in the share for NFS.
                            groupId:
                              type: integer
                              description: |
                                The files gid in the share for NFS.
                            baasPskeys:
                              type: string
                              description: >-
                                a string including stunnel PSK key list for
                                BAAS.
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                            protocol:
                              description: Export protocol for the instant access mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            kerberosEncryptionTypes:
                              type: array
                              items: &ref_48
                                type: string
                                description: The type of Kerberos encryption.
                                enum:
                                  - krb5
                                  - krb5i
                                  - krb5p
                            activeDirectoryGroupNames:
                              description: >-
                                The array of Active Directory groups. Applies
                                when the protocol is SMB.
                              type: array
                              items:
                                type: string
                                description: The name of the Active Directory group.
                            activeDirectoryUserNames:
                              description: >-
                                The array of Active Directory users. Applies
                                when the protocol is SMB.
                              type: array
                              items:
                                type: string
                                description: The Active Directory user name.
                        - type: object
                          required:
                            - recoveryPointId
                          properties:
                            recoveryPointId:
                              type: string
                              description: >
                                The recovery point ID for this instant access
                                recovery.
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: &ref_47
                            type: object
                            properties:
                              href:
                                type: string
                      id:
                        type: string
                        description: A unique identifier for instant access mount.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - instantAccessUnstructuredDataMount
                      attributes:
                        allOf:
                          - &ref_69
                            allOf:
                              - *ref_46
                              - type: object
                                properties:
                                  jobId:
                                    type: integer
                                    format: int64
                                    description: >-
                                      The NetBackup job performing the work of
                                      creating the instant access mount.
                          - type: object
                            properties:
                              recoveryPointId:
                                type: string
                                description: >-
                                  The recovery point ID for this instant access
                                  recovery.
                      relationships: &ref_49
                        type: object
                        required:
                          - image
                        properties:
                          image:
                            description: >-
                              The backup images that are associated with this
                              instant access mount.
                            type: object
                            properties:
                              links:
                                type: object
                                properties:
                                  related: *ref_47
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    id:
                                      type: string
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|UNIVERSAL_SHARES|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|UNIVERSAL_SHARES|INSTANT_ACCESS_RECOVER|`
      tags:
        - Universal Share Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |displayName|eq, ne, contains, startswith, endswith|The name of the
            instant access mount.|string|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount (CREATED/EXPORTED)|string|

            |created|eq, ne, gt, ge, lt, le|Instant access mount creation time
            in ISO 8601 format|date-time|

            |protocol|eq, ne, contains, startswith, endswith|instant access
            mount export protocl (NFS/SMB)|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_50
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_47
                        id:
                          type: string
                          description: A unique identifier for instant access mount.
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - instantAccessUnstructuredDataMount
                        attributes: &ref_70
                          required:
                            - clients
                            - displayName
                            - exportPath
                            - mountPath
                            - state
                            - status
                            - protocol
                            - fullBackupIds
                          type: object
                          properties:
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                            displayName:
                              type: string
                              maximum: 36
                              description: >
                                The display name used in the instant access
                                mount path. Use "a-z", "A-Z", "0-9", "-", "_"
                                but not starting with "-".
                            protocol:
                              description: Export protocol for the instant access mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            kerberosEncryptionTypes:
                              type: array
                              items: *ref_48
                            readOnly:
                              type: boolean
                              default: false
                              description: >-
                                If it is `true`, the share is in read only
                                status.
                            malwareScan:
                              type: boolean
                              default: false
                              description: >-
                                If it is `true`, the instant access mount set
                                malware scan.
                            fullBackupIds:
                              type: array
                              items:
                                type: string
                              description: >-
                                The list of image IDs for the full backups that
                                are used to create the instant access mount.
                            vpfsServer:
                              type: string
                              description: >-
                                The name of the server hosting the instant
                                access mount.
                            exportPath:
                              description: The path of the NFS/SMB export.
                              type: string
                            mountPath:
                              type: string
                              description: >-
                                Protocl-specific path along with the server that
                                can be used to mount the instant access mount.
                            created:
                              description: >-
                                The time the mount was created, in ISO 8601
                                format.
                              type: string
                              format: date-time
                            errorMessage:
                              type: string
                              description: >-
                                The error message to display if the status is
                                'INACTIVE'.
                            status:
                              type: string
                              enum:
                                - ACTIVE
                                - INACTIVE
                                - INPROGRESS
                              description: >
                                The status indicates the health of the instant
                                access mount.

                                ACTIVE - In good health.

                                INACTIVE - An issue exists with the instant
                                access mount. It may be corrupted.

                                INPROGRESS - The creation of the instant access
                                mount is in progress.
                            state:
                              type: string
                              enum:
                                - CREATED
                                - EXPORTED
                              description: >
                                The state of the activity on the instant access
                                mount.

                                CREATED - The instant access mount is available.

                                EXPORTED -  The instant access mount was
                                exported to a client.
                            activeDirectoryGroupNames:
                              description: >-
                                The array of Active Directory groups. Applies
                                when the protocol is SMB.
                              type: array
                              items:
                                type: string
                                description: The name of the Active Directory group.
                            activeDirectoryUserNames:
                              description: >-
                                The array of Active Directory users. Applies
                                when the protocol is SMB.
                              type: array
                              items:
                                type: string
                                description: The Active Directory user name.
                            baasMappingPorts:
                              type: string
                              description: >-
                                a string including LB port mapping list about
                                stunnel for BAAS.
                        relationships: *ref_49
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/universal-share/instant-access-mounts/{mountId}':
    parameters:
      - &ref_71
        name: mountId
        in: path
        description: Instant access mount id.
        required: true
        schema:
          type: string
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|UNIVERSAL_SHARES|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|UNIVERSAL_SHARES|INSTANT_ACCESS_RECOVER|`
      tags:
        - Universal Share Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data: *ref_50
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|UNIVERSAL_SHARES|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|UNIVERSAL_SHARES|INSTANT_ACCESS_RECOVER|`
      tags:
        - Universal Share Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud/scenarios/asset/recover:
    post:
      description: >
        Recovers a cloud asset.


        Note: Cross provider restores of virtual machines from Backup copy is
        supported from Azure to AWS cloud providers and vice versa.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation:

        A restore to an alternate location requires the following permissions:\

        Target asset:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_DESTINATION|`\

        A restore to an alternate location with "overwriteExisting" as "true"
        requires the following permissions:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_OVERWRITE|`\

        Source asset:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`\

        \

        A rollback restore requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_OVERWRITE|`\

        \

        A restore to the original location requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|`\

        A restore to an original location with "overwriteExisting" as "true"
        requires the following permissions:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_OVERWRITE|`\

        \

        A Volume(s) restore from the Virtual machine requires the following
        permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|GRANULAR_RESTORE|`


        Permissions to restore malware impacted files:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for cloud asset recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type. Must be set to `recoveryRequest`.
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options.
                          properties:
                            sourceAssetId:
                              type: string
                              description: >
                                The asset identifier that was used at the time
                                of backup. You must specify either
                                `sourceAssetId` or the `backupId`. Also see
                                `backupId`. Recovery is performed using the most
                                recent backup image, unless a `filter` is
                                specified. If 'providerRecoveryPointId' has been
                                specified, then `backupId` and `sourceAssetId
                                should not be specified. Also see
                                `providerRecoveryPointId`.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to use for this
                                recovery. You must specify either `backupId` or
                                the `sourceAssetId`. Also see `sourceAssetId`.
                                If 'providerRecoveryPointId' has been specified,
                                then `backupId` and `sourceAssetId should not
                                be specified. Also see
                                `providerRecoveryPointId`.
                            filter:
                              type: string
                              description: >
                                Optional. Selects the backup images for recovery
                                based on the specified `filter`. Use with
                                `sourceAssetId`. If more than one backup image
                                matches the filter, NetBackup selects the most
                                recent one. All the filters are based on the
                                OData standard and filtering on the following
                                attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>
                            providerRecoveryPointId:
                              type: string
                              description: >
                                The provider generated recovery point identifier
                                to be used for this recovery. This is applicable
                                only for provider generated recovery points. If
                                'providerRecoveryPointId' has been specified,
                                then `backupId` and `sourceAssetId should not
                                be specified in the API call.
                        recoveryObject:
                          type: object
                          description: The asset that is specified for the recovery.
                          properties:
                            imageId:
                              type: string
                              description: >
                                This attribute is only required for restoring an
                                AWS VM and is not applicable for other cloud
                                providers.
                            displayName:
                              type: string
                              description: >
                                The display name of the asset. If not specified,
                                the display name used at the time of backup is
                                used by default.
                            restorePointInTime:
                              type: string
                              description: >
                                Date and time specified as restore point. The
                                specified time may be rounded off to the nearest
                                recovery point as available in Microsoft Azure.
                                This is applicable only for provider generated
                                recovery points. Also see
                                `providerRecoveryPointId`.
                            instanceName:
                              type: string
                              description: >
                                Name of the instance. This is applicable only
                                for provider generated recovery points,
                                specifically for Managed Instance service type.
                                Also see `providerRecoveryPointId`.
                            destinationAssetId:
                              type: string
                              description: >
                                Represents the Cloud asset providerGeneratedId
                                for the recovery destination. If not specified,
                                the asset is restored to its original location.
                            disks:
                              type: array
                              description: >
                                Represents one or more cloud virtual machine
                                disks or cloud volumes. If not specified, the
                                default is the disk or disks that were used at
                                the time of snapshot/backup job. The supported
                                recoveryType for volume recovery is ORIGINAL and
                                ALTERNATE. ROLLBACK is not the supported
                                recoveryType for volume recovery.
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The providerGeneratedId of the volume to
                                      be restored.
                                  destinationPath:
                                    type: string
                                    description: >
                                      The destination path of the VM disk. The
                                      path should be in the following format
                                      /subscriptions/<subscription_id>/resourceGroups/<resource_group_name>
                                      - for Azure and Azurestack managed disk,
                                      /accountId/<accountID> - for Amazon Web
                                      Services, /project/<projectId> - for
                                      Google Cloud.
                                  encryption:
                                    type: object
                                    description: >
                                      Information of the encryption key. A
                                      restored disk will be encrypted with
                                      provided key. By default, the key used at
                                      the time of snapshot/backup operation is
                                      used if not specified.
                                    properties:
                                      keyName:
                                        type: string
                                        description: |
                                          Name of the encryption key.
                                      type:
                                        type: string
                                        description: >
                                          Type of the encryption key. PMK refers
                                          to platform managed key. If this is
                                          specified, keyName will be blank. CMK
                                          refers to customer managed key. If this
                                          is specified, keyName must be specified.
                                          PMK_CMK refers to double encryption
                                          using both platform and customer managed
                                          keys. This is only applicable for azure
                                          cloud. If this is specified: keyName
                                          must be specified. NONE refers to no
                                          encryption. If this is specified: a
                                          non-encrypted disk is created.
                                        enum:
                                          - PMK
                                          - CMK
                                          - PMK_CMK
                                          - NONE
                            environment:
                              type: object
                              description: >
                                Specifies the cloud provider where this VM is to
                                be restored. If not specified, the provider used
                                at the time of backup is used by default. This
                                is supported when recovery type is ALTERNATE.
                              properties:
                                destinationConfigId:
                                  type: string
                                  description: >
                                    The configuration id of the Cloud Provider
                                    Type.
                                destinationPath:
                                  type: string
                                  description: >
                                    The destination path where the asset will be
                                    recovered to. If not specified, the default
                                    is the one used at the time of backup. This
                                    should be of the format
                                    /subscriptions/<subscription_id>/resourceGroups/<resource_group_name>
                                    - for Azure and Azurestack,
                                    /accountId/<accountID> - for Amazon Web
                                    Services, /project/<projectId> - for Google
                                    Cloud.
                            dbPaaSEnvironment:
                              type: object
                              description: >
                                Specifies the environment that will be used for
                                restore of DBPaaS assets. Create an universal
                                share storage with the display name
                                'dbpaasrestore', to run a successful restore
                              properties:
                                sourceDatabaseName:
                                  type: string
                                  description: >
                                    The name of the source database that is
                                    backed up. If not specified, the default
                                    value of source database name would be the
                                    first database that will be listed through
                                    image contents API in case of RDS. For non
                                    RDS case, the default value would the
                                    database name that was used during backup.
                                credentialName:
                                  type: string
                                  description: >
                                    The credential name having super user
                                    privileges for performing metadata restore,
                                    for databases like MySQL.
                                destinationConfigId:
                                  type: string
                                  description: >
                                    The configuration ID of the cloud provider
                                    plug-in.
                                destinationPath:
                                  type: string
                                  description: >
                                    Recovery destination path for the asset.

                                    For AWS, use the format:
                                    /accountId/<accountID>.

                                    If you don't specify a recovery path, the
                                    default one is the one used at the time of
                                    backup.
                                destinationRegion:
                                  type: string
                                  description: >
                                    Cloud provider region where you want to
                                    recover the asset.
                                restoreMetadata:
                                  type: boolean
                                  description: >
                                    If true, restores metadata, for databases
                                    like MySQL.
                                userConsent:
                                  type: boolean
                                  description: >
                                    If true, restores metadata with the
                                    ownership of the provided credentials.
                                stagingStoragePath:
                                  type: string
                                  description: >
                                    The staging storage path for AWS RDS Oracle
                                    recovery.
                                importWithBatchWrite:
                                  type: boolean
                                  description: >
                                    If true, AWS DynamoDB tables are restored
                                    with local secondary indexes using batch
                                    write process. Default is false.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryType:
                              type: string
                              description: >
                                Represents the type of cloud asset recovery.

                                ORIGINAL - Restore asset to original location.

                                ALTERNATE - Restore asset to alternate location.

                                ROLLBACK - Overwrite existing asset in original
                                location.
                              enum:
                                - ORIGINAL
                                - ALTERNATE
                                - ROLLBACK
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to use for this recovery. If not
                                specified, the primary copy is used.
                              minimum: 1
                              maximum: 10
                            recoveredState:
                              type: string
                              description: The state of the database after recovery.
                              enum:
                                - RECOVERED
                                - NOT_RECOVERED
                              default: RECOVERED
                            overwriteExisting:
                              type: boolean
                              description: >-
                                Determines whether to overwrite an existing
                                database when the type of recovery is ALTERNATE.
                                This operation is a destructive recovery. This
                                flag is ignored when the type of recovery is
                                ORIGINAL or ROLLBACK.
                              default: false
                            powerOnAfterRecovery:
                              type: string
                              description: |
                                POWERON - powered on the vm after recovery.
                                POWEROFF - powered off the vm after recovery.
                              enum:
                                - POWERON
                                - POWEROFF
                            removeTagAssociations:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any associated tags from this
                                VM. If `false`, retains the associated tags for
                                this VM. If not specified, retains the
                                associated tags for this VM.
                            operationType:
                              type: string
                              description: >
                                FULL_VM_RESTORE - Full Asset Restore.

                                GRT_VOLUME_RESTORE - Granular Volume Restore.

                                DB_RESTORE - DB restore.

                                CROSS_PROVIDER_FULL_VM_RESTORE - Cross Provider
                                VM Restore.
                              enum:
                                - FULL_VM_RESTORE
                                - GRT_VOLUME_RESTORE
                                - DB_RESTORE
                                - CROSS_PROVIDER_FULL_VM_RESTORE
                            zone:
                              type: string
                              description: Target cloud provider zone for recovery.
                            securityGroupPath:
                              type: string
                              description: Network security group path.
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      sourceAssetId: example-asset-id
                      filter: >-
                        backupTime ge '2017-11-20T23:20:50Z' and backupTime le
                        '2018-12-20T23:20:50Z'
                    recoveryObject:
                      imageId: example-image-id
                      displayName: example-vm
                      destinationAssetId: example-provider-generated-id
                      disks:
                        - source: example-provider-generated-id-1
                        - source: example-provider-generated-id-2
                      dbPaaSEnvironment:
                        stagingStoragePath: 'efsId:/mnt/vpfs_shares/dbpa/dbpaasrestore'
                        sourceDatabaseName: database-1
                        importWithBatchWrite: true
                    recoveryOptions:
                      recoveryType: ALTERNATE
                      copyNumber: 1
                      recoveredState: RECOVERED
                      overwriteExisting: false
                      powerOnAfterRecovery: POWERON
                      removeTagAssociations: false
                      operationType: FULL_VM_RESTORE
                      zone: Zone 1
                      securityGroupPath: vpc/security-group-name
        description: The request for a cloud asset recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: >-
            Not found. The specified `sourceAsset` or backup image was not
            found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud/scenarios/asset/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for the cloud asset restore.


        Note: Cross provider restores of virtual machines from Backup copy is
        supported from Azure to AWS cloud providers and vice versa.


        **Access Control**\

        Server

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_DESTINATION|`


        Permissions to restore malware impacted files:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Workloads
      security:
        - apiKeyAuth: []
        - jwtAuth: []
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The pre-recovery-check request schema for cloud asset recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the pre-recovery-check request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      type: string
                      enum:
                        - preRecoveryCheckRequest
                    attributes:
                      description: Contains the pre-recovery-check request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryOptions
                        - recoveryObject
                      properties:
                        recoveryPoint:
                          type: object
                          description: Selects the recovery point for  pre-recovery-check.
                          properties:
                            backupId:
                              type: string
                              description: >
                                The backup image identifier for
                                pre-recovery-check. You must specify either
                                `providerRecoveryPointId` or the `backupId`.
                                Also see `providerRecoveryPointId`.
                            providerRecoveryPointId:
                              type: string
                              description: >
                                The provider generated recovery point identifier
                                to be used for this recovery. This is applicable
                                only for provider generated recovery points. You
                                must specify either `providerRecoveryPointId` or
                                the `backupId`. Also see `backupId`.
                        recoveryObject:
                          type: object
                          description: The asset that is being recovered.
                          properties:
                            imageId:
                              type: string
                              description: >
                                This attribute is only required for restoring an
                                AWS VM and is not applicable for other cloud
                                providers.
                            displayName:
                              type: string
                              description: |
                                The display name of the asset.
                            restorePointInTime:
                              type: string
                              description: >
                                Date and time specified as restore point. The
                                specified time may be rounded off to the nearest
                                recovery point as available in Microsoft Azure.
                                This is applicable only for provider generated
                                recovery points. Also see
                                `providerRecoveryPointId`.
                            instanceName:
                              type: string
                              description: >
                                Name of the instance. This is applicable only
                                for provider generated recovery points,
                                specifically for Managed Instance service type.
                                Also see `providerRecoveryPointId`.
                            destinationAssetId:
                              type: string
                              description: >
                                The Cloud asset providerGeneratedId for the
                                recovery destination.
                            environment:
                              type: object
                              properties:
                                destinationConfigId:
                                  type: string
                                  description: >
                                    The configuration id of the Cloud Provider
                                    Type.
                                destinationPath:
                                  type: string
                                  description: >
                                    The destination resource path of the cloud
                                    VM.  For example:
                                    /subscriptions/<subscription_id>/resourceGroups/<resource_group_name>
                                    - for Azure and Azurestack,
                                    /accountId/<accountID> - for Amazon Web
                                    Services, /project/<projectId> - for Google
                                    Cloud.
                            disks:
                              type: array
                              description: >
                                Represents one or more cloud virtual machine
                                disks or cloud volumes.
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The providerGeneratedId of the volume to
                                      be restored.
                                  destinationPath:
                                    type: string
                                    description: |
                                      The full destination path of the volume.
                                  encryption:
                                    type: object
                                    description: >
                                      Information of the encryption key. A
                                      restored disk will be encrypted with
                                      provided key. By default, the key used at
                                      the time of snapshot/backup operation is
                                      used if not specified.
                                    properties:
                                      keyName:
                                        type: string
                                        description: |
                                          Name of the encryption key.
                                      type:
                                        type: string
                                        description: >
                                          Type of the encryption key. PMK refers
                                          to platform managed key. If this is
                                          specified, keyName will be blank. CMK
                                          refers to customer managed key. If this
                                          is specified, keyName must be specified.
                                          PMK_CMK refers to double encryption
                                          using both platform and customer managed
                                          keys. This is only applicable for azure
                                          cloud. If this is specified: keyName
                                          must be specified. NONE refers to no
                                          encryption. If this is specified: a
                                          non-encrypted disk is created.
                                        enum:
                                          - PMK
                                          - CMK
                                          - PMK_CMK
                                          - NONE
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for the
                            recovery.
                          properties:
                            recoveryType:
                              type: string
                              description: >
                                Represents the type of cloud asset recovery.

                                ORIGINAL - Restore asset to original location.

                                ALTERNATE - Restore asset to alternate location.

                                ROLLBACK - Overwrite existing asset in original
                                location.
                              enum:
                                - ORIGINAL
                                - ALTERNATE
                                - ROLLBACK
              example:
                data:
                  type: preRecoveryCheckRequest
                  attributes:
                    recoveryPoint:
                      backupId: example-backupId-1
                    recoveryObject:
                      imageId: example-image-id
                      displayName: example-vm-1
                      destinationAssetId: example-provider-generated-id
                      environment:
                        destinationConfigId: example-destination-configId-1
                        destinationPath: example-destination-path-1
                      disks:
                        - source: example-provider-generated-id-1
                        - destinationPath: example-destination-path-2
                    recoveryOptions:
                      recoveryType: ALTERNATE
        description: Pre-recovery check request for a cloud asset recovery.
      responses:
        '200':
          description: List of recovery validation items.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: >-
                  The pre-recovery-check response schema for cloud asset
                  recovery.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: Describes the recovery validation item.
                      required:
                        - type
                        - id
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - recoveryValidationItem
                          description: The type of the recovery validation.
                        id:
                          type: string
                          description: The ID of the recovery validation.
                        attributes:
                          type: object
                          description: Describes the validation item.
                          properties:
                            name:
                              type: string
                              description: Name of the validation item.
                            resource:
                              type: string
                              description: >-
                                The resource being validated by the validation
                                item.
                            result:
                              type: string
                              enum:
                                - Passed
                                - Failed
                              description: Result of the validation item.
                            description:
                              type: string
                              description: Description of the validation item.
                          required:
                            - name
                            - resource
                            - result
                example:
                  data:
                    - type: recoveryValidationItem
                      id: 80
                      attributes:
                        name: VM Name
                        resource: recoveryObject.displayName
                        result: failed
                        description: 'VM with name {} already exists'
                    - type: recoveryValidationItem
                      id: 2
                      attributes:
                        name: Destination Path
                        resource: recoveryObject.destinationPath
                        result: Passed
                        description: 'DestinationPath {} validation check passed'
        '400': *ref_5
        '401': *ref_6
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud/scenarios/granular-files-folders/recover:
    post:
      description: >
        Recovers individual files and folders from Cloud virtual machine.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        A restore of files and folders requires the following permissions:\

        Source asset:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|GRANULAR_RESTORE|`\

        A restore of files and folders to an alternate location requires the
        following permissions:\

        Target asset:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_DESTINATION|`\

        A restore of files and folders with "Recovery Options" as
        "overwriteExistingFiles" requires the following permissions:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_OVERWRITE|`\


        Permissions to restore malware impacted files:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The recovery request schema for Cloud virtual machine
                files/folders.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: >-
                        The resource type. Must be set to
                        `granularFilesFoldersRecoveryRequest`.
                      type: string
                      enum:
                        - granularFilesFoldersRecoveryRequest
                      default: granularFilesFoldersRecoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryObject
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options.
                          properties:
                            sourceAssetId:
                              type: string
                              description: >
                                The asset identifier that was used at the time
                                of backup. You must specify either
                                `sourceAssetId` or the `backupId`. Also see
                                `backupId`. Recovery is performed using the most
                                recent backup image, unless a `filter` is
                                specified.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to use for this
                                recovery. You must specify either `backupId` or
                                the `sourceAssetId`. Also see `sourceAssetId`.
                            filter:
                              type: string
                              description: >
                                Optional. Selects the backup images for recovery
                                based on the specified `filter`. Use with
                                `sourceAssetId`. If more than one backup image
                                matches the filter, NetBackup selects the most
                                recent one. All the filters are based on the
                                OData standard and filtering on the following
                                attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>
                        recoveryObject:
                          type: object
                          description: >-
                            Represents the files/folders to be recovered and the
                            destination.
                          required:
                            - files
                          properties:
                            files:
                              type: array
                              description: >-
                                Represents one or more files/folders to be
                                restored to the Cloud virtual machine.
                              items:
                                type: string
                                description: >
                                  The source path of the file/folder to be
                                  restored. The path is case sensitive and must
                                  be in Unix format.
                            destinationAssetId:
                              type: string
                              description: >
                                Represents the Cloud asset ID for the recovery
                                destination. If not specified, the files and
                                folders are restored to their original location.
                            alternateLocationDirectory:
                              type: string
                              description: >
                                If set, restores all files/folders to an
                                alternate location directory maintaining
                                existing structures. The path is case sensitive.
                            appendString:
                              type: string
                              description: >-
                                Appends the specified string to the destination
                                file names before any file extension. Only
                                applies to files.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryType:
                              type: string
                              description: >
                                Represents the type of Cloud virtual machine
                                files/folders recovery.

                                ORIGINAL - Restore files/folders to original
                                location.

                                ALTERNATE - Restore files/folders to alternate
                                location.
                              enum:
                                - ORIGINAL
                                - ALTERNATE
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to use for this recovery. If not
                                specified, the primary copy is used.
                              minimum: 1
                              maximum: 10
                            overwriteExistingFiles:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the files/folders if they
                                exist in the destination location with the same
                                name.
                            restoreHardLinks:
                              type: boolean
                              default: false
                              description: >-
                                If `true`, hardlinks will be restored as it is,
                                else restored as file.
                            accessHost:
                              type: string
                              description: >
                                Client IP provided by a user to request access
                                to an instant access mount created during a
                                single file restore from backup operation.
                            aclRestore:
                              type: boolean
                              default: true
                              description: >
                                During restore from backup operation, if true
                                then instant access is created with VHD disk
                                else livemount is created. This parameter is
                                applicable only when source and target assets
                                platform is Windows.
              example:
                data:
                  type: granularFilesFoldersRecoveryRequest
                  attributes:
                    recoveryPoint:
                      sourceAssetId: example-asset-id
                      filter: >-
                        backupTime ge '2017-11-20T23:20:50Z' and backupTime le
                        '2018-12-20T23:20:50Z'
                    recoveryObject:
                      files:
                        - /home/xyz/test1.txt
                        - /home/xyz/test2.txt
                      destinationAssetId: example-asset-id-2
                      alternateLocationDirectory: /home/xyz/
                      appendString: _restored
                    recoveryOptions:
                      recoveryType: ALTERNATE
                      copyNumber: 1
                      overwriteExistingFiles: false
                      restoreHardLinks: false
                      accessHost: 10.210.152.35
        description: A request for a Cloud virtual machine files/folders recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: >-
            Not found. The specified `sourceAsset` or backup image was not
            found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud/scenarios/granular-files-folders/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for a file or folder recovery of a cloud
        VM.


        **Access Control**\

        Server

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|VM|GRANULAR_RESTORE|`


        Permissions to restore malware impacted files:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Workloads
      security:
        - apiKeyAuth: []
        - jwtAuth: []
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The pre-recovery-check request schema for an agentless files or
                folders recovery of a cloud VM.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the pre-recovery-check request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      type: string
                      enum:
                        - granularFilesFoldersPreRecoveryCheckRequest
                    attributes:
                      description: Contains the pre-recovery-check request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryObject
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for pre-recovery-check
                            based on the specified options.
                          properties:
                            sourceAssetId:
                              type: string
                              description: >
                                The asset identifier that was used at the time
                                of backup. You must specify either
                                `sourceAssetId` or the `backupId`. Also see
                                `backupId`. Pre-recovery-check is performed
                                using the most recent backup image, unless a
                                `filter` is specified.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to use for this
                                pre-recovery-check. You must specify either
                                `backupId` or the `sourceAssetId`. Also see
                                `sourceAssetId`.
                            filter:
                              type: string
                              description: >
                                Optional. Selects the backup images for
                                pre-recovery-check based on the specified
                                `filter`. Use with `sourceAssetId`. If more than
                                one backup image matches the filter, NetBackup
                                selects the most recent one. All the filters are
                                based on the OData standard and filtering on the
                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>
                        recoveryObject:
                          type: object
                          description: >-
                            Represents the files/folders to be recovered and the
                            destination.
                          properties:
                            destinationAssetId:
                              type: string
                              description: >
                                Represents the Cloud asset ID for the recovery
                                destination.
                            alternateLocationDirectory:
                              type: string
                              description: >
                                If set, restores all files/folders to an
                                alternate location directory maintaining
                                existing structures. The path is case sensitive.
                                Required if platform of original host and that
                                of target host are not same.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for the
                            pre-recovery-check.
                          properties:
                            recoveryType:
                              type: string
                              description: >
                                Represents the type of Cloud virtual machine
                                files/folders recovery.

                                ORIGINAL - Restore files/folders to original
                                location.

                                ALTERNATE - Restore files/folders to alternate
                                location.
                              enum:
                                - ORIGINAL
                                - ALTERNATE
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to use for the
                                pre-recovery-check. If not specified, the
                                primary copy is used.
                              minimum: 1
                              maximum: 10
              example:
                data:
                  type: granularFilesFoldersPreRecoveryCheckRequest
                  attributes:
                    recoveryPoint:
                      backupId: example-backup-id
                    recoveryObject:
                      alternateLocationDirectory: /home/abc/
                      destinationAssetId: example-destination-assetId-1
                      files:
                        - /home/xyz/test1.txt
                        - /home/xyz/test2.txt
                    recoveryOptions:
                      recoveryType: ALTERNATE
                      copyNumber: 2
                      restoreHardLinks: false
                      renameSoftLinks: false
        description: >-
          Pre-recovery check request for an agentless file or folder recovery of
          a cloud VM.
        required: true
      responses:
        '200':
          description: List of recovery validation items.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: >-
                  The pre-recovery-check response schema for an agentless files
                  or folders recovery of a cloud VM.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: Describes the recovery validation item.
                      required:
                        - type
                        - id
                        - attributes
                      properties:
                        type:
                          type: string
                          description: The type of the recovery validation.
                          enum:
                            - recoveryValidationItem
                        id:
                          type: string
                          description: The ID of the recovery validation.
                        attributes:
                          type: object
                          description: Describes the validation item.
                          required:
                            - name
                            - resource
                            - result
                          properties:
                            name:
                              type: string
                              description: Name of the validation item.
                            resource:
                              type: string
                              description: >-
                                The resource being validated by the validation
                                item.
                            result:
                              type: string
                              description: Result of the validation item.
                              enum:
                                - Passed
                                - Failed
                            description:
                              type: string
                              description: Description of the validation item.
                example:
                  data:
                    - type: recoveryValidationItem
                      id: 2
                      attributes:
                        name: >-
                          The backup copy specified does not reside on an MSDP
                          type STU
                        resource: recoveryPoint.backupId
                        result: Failed
        '400': *ref_5
        '401': *ref_6
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/cloud/scenarios/{scenario}/cloudrecover':
    post:
      description: >
        Recover a aws/azure VM image from NBU and convert it into vcenter


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|VM|CLOUD_RECOVER|`
      tags:
        - Cloud Workloads
      parameters:
        - name: workload
          in: path
          description: The type of image which user will recover.
          required: true
          schema:
            type: string
            enum:
              - cloud
        - name: scenario
          in: path
          description: The type of cloud storage in which user will recover image.
          required: true
          schema:
            type: string
            enum:
              - aws
              - azure
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: &ref_67
              description: The image information schema for image sharing.
              type: object
              required:
                - data
              properties:
                data:
                  description: The recovering image information for image sharing.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The request type for cloudRecover.
                      type: string
                      enum:
                        - recoverEc2Request
                        - recoverEc2VMDKRequest
                        - recoverEc2ToVmwareRequest
                        - recoverAzureVHDRequest
                        - recoverAzureVHDToVmwareRequest
                    attributes:
                      description: The image attributes.
                      type: object
                      required:
                        - client
                        - policy
                        - backupID
                      properties:
                        host:
                          description: >-
                            The name of the storage server that owns the shared
                            bucket.
                          type: string
                        lsuName:
                          description: >-
                            The Logical Storage Unit (LSU) name of the DISK
                            VOLUME (storage server+LSU/disk) that owns the
                            shared bucket.
                          type: string
                        client:
                          type: string
                          description: The client name.
                        policy:
                          type: string
                          description: The policy name.
                        backupID:
                          type: string
                          description: The backup ID.
                        recoveryObject:
                          type: object
                          required:
                            - vmDisplayName
                            - vmEnvironment
                          properties:
                            vmDisplayName:
                              type: string
                              description: >-
                                The display name of the virtual machine. Must
                                not contain more than 80 characters.
                            vmEnvironment:
                              type: object
                              description: >-
                                Describes the VMware environment where the
                                virtual machine is to be recovered.
                              required:
                                - esxiServer
                                - vCenter
                                - dataCenter
                                - vmFolder
                                - resourcePoolOrVapp
                                - netWork
                                - cpu
                                - memory
                                - vmxDatastore
                              properties:
                                esxiServer:
                                  type: string
                                  description: The ESXi server name.
                                vCenter:
                                  type: string
                                  description: >-
                                    The name of the vCenter hosting the virtual
                                    machine.
                                dataCenter:
                                  type: string
                                  description: >-
                                    The datacenter path. Must begin with a
                                    forward slash '/'.
                                vmFolder:
                                  type: string
                                  description: >-
                                    The VM folder path. Must begin with a
                                    forward slash '/'.
                                resourcePoolOrVapp:
                                  type: string
                                  description: >-
                                    The name of the resource pool or vApp that
                                    needs to be assigned to the VM.
                                netWork:
                                  type: string
                                  description: >-
                                    Network name of the virtual machine to be
                                    restored.
                                cpu:
                                  type: integer
                                  description: >-
                                    cpu numbers of the virtual machine to be
                                    restored.
                                memory:
                                  type: string
                                  description: >-
                                    memory size of the virtual machine to be
                                    restored.
                                vmxDatastore:
                                  type: string
                                  description: >-
                                    The name of the datastore to restore the VMX
                                    file to.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for the
                            recovery.
                          required:
                            - recoveryHost
                            - mediaServerName
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host.
                            mediaServerName:
                              type: string
                              description: >
                                The media server that is to be used to perform
                                this recovery.
                            stu:
                              type: string
                              description: >
                                The storage unit name that is to be used to
                                store data.
                            overwriteExistingVm:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the VM and its associated
                                resources, if they already exist with the same
                                name. If `false`, does not overwrite the VM and
                                its associated resources, if they already exist
                                with the same name. If not specified, does not
                                overwrite the VM and its associated resources,
                                if they already exist with the same name.
                            powerOnAfterRecovery:
                              type: boolean
                              default: false
                              description: >
                                If `true`, the VM is powered on after the
                                recovery. If `false`, the VM remains powered off
                                after the recovery. If not specified, the VM
                                remains powered off after the recovery.
      responses:
        '201':
          description: A successful response of recovery and conversion job being started.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_68
                description: The recover job results for image sharing
                type: object
                required:
                  - data
                properties:
                  data:
                    description: The related job information.
                    type: object
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      type:
                        description: The response type for cloudRecover.
                        type: string
                        enum:
                          - recoverEC2Response
                          - recoverEC2VMDKResponse
                          - recoverEc2ToVmwareResponse
                          - recoverAzureVHDToVmwareResponse
                      id:
                        description: The unique identifier for the job
                        type: string
                      attributes:
                        description: Contain job information.
                        type: object
                        properties:
                          status:
                            description: The status of job.
                            type: string
                          policy:
                            type: string
                            description: The related policy name.
                          backupID:
                            type: string
                            description: The related backup ID.
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The image of backup ID cannot be found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: Internal server error. Failed to recover image.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud/paas/instant-access-images:
    post:
      description: >
        Creates an instant access image from the specified cloud paas recovery
        point. The create operation need take 1-2 minutes to complete. The API
        will return once the create job is launced. It will not wait for the
        creation job to complete. A create instant access mount job will be
        displayed in activity monitor. Users can monitor the job status from
        activity monitor. This API will return the instant access image ID. The
        API consumer can use this instant access image ID to query the status of
        instant access image by the 'GET
        /recovery/workloads/cloud/paas/instant-access-images/{imageId}' API.
        When the status of instant access image changed to 'ACTIVE', the create
        operation is complete and the instant access image is ready to mount on
        workload server.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud paas requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`
      tags:
        - Cloud Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the cloud instant access image from the
                cloud policy backup images.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantAccessCloudImage' as a type.
                      type: string
                      enum:
                        - instantAccessCloudImage
                    attributes:
                      allOf:
                        - &ref_51
                          required:
                            - copyNumber
                            - mountHost
                          type: object
                          properties:
                            copyNumber:
                              type: integer
                              default: 1
                              description: >
                                The copy number to use for recovery. If not
                                specified, the first copy that supports instant
                                access is used.
                            mountHost:
                              type: string
                              description: >-
                                The name of the server which will be running
                                vpfs and mount this instant access image.
                        - type: object
                          required:
                            - recoveryPointId
                          properties:
                            recoveryPointId:
                              type: string
                              description: >
                                The recovery point ID for the backup that is
                                used to create the Cloud instant access image.
        required: true
      responses:
        '201':
          description: Successfully created the instant access image.
          headers:
            Location:
              description: A link to the new instant access image.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: &ref_52
                            type: object
                            properties:
                              href:
                                type: string
                      id:
                        type: string
                        description: A unique identifier for Cloud instant access image.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - instantAccessCloudImage
                      attributes:
                        allOf:
                          - *ref_51
                          - type: object
                            properties:
                              jobId:
                                type: integer
                                format: int64
                                description: >-
                                  The NetBackup job performing the work of
                                  creating the instant access image.
                      relationships: &ref_53
                        type: object
                        required:
                          - image
                        properties:
                          image:
                            description: >-
                              The backup images that are associated with this
                              Cloud instant access image.
                            type: object
                            properties:
                              links:
                                type: object
                                properties:
                                  related: *ref_52
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    id:
                                      type: string
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access image.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access image. The maximum number of instant
            access images that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of images based on specified filters. If no filters are
        specified, information for all images is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud paas requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`
      tags:
        - Cloud Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access image (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access image (CREATED/EXPORTED)|string|
          in: query
          required: false
          schema:
            type: string
        - in: query
          name: 'page[offset]'
          description: The number of records to skip before starting the page.
          schema:
            type: integer
            default: 0
            minimum: 0
        - in: query
          name: 'page[limit]'
          description: The number of records to include in the page.
          schema:
            type: integer
            default: 10
            minimum: 0
            maximum: 100
      responses:
        '200':
          description: Successfully retrieved the list of instant access images.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_54
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_52
                        id:
                          type: string
                          description: >-
                            A unique identifier for the cloud instant access
                            image.
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - instantAccessCloudImage
                        attributes:
                          required:
                            - mountHost
                            - sourceId
                            - snapshotId
                            - targetId
                            - assetType
                            - exportPath
                            - status
                            - fullBackupIds
                          type: object
                          properties:
                            assetType:
                              type: string
                              description: >-
                                The assetType as defined in assetDB for
                                workload.
                            fullBackupIds:
                              type: array
                              items:
                                type: string
                              description: >-
                                The list of image IDs for the full backups that
                                are used to create the Cloud mount.
                            mountHost:
                              type: string
                              description: >-
                                The name of the server which will be running
                                vpfs and mount this instant access image.
                            storageServer:
                              type: string
                              description: >-
                                The storage server that stores the backup image
                                and instant access image
                            vpfsServer:
                              type: string
                              description: >-
                                For BYO vpfsServer is the storage server. For
                                MSDP-X, vpfsServer is the MSDP engine that
                                instant access image is created on.
                            sourceId:
                              type: string
                              description: The vpfs image ID on storage server.
                            snapshotId:
                              type: string
                              description: The cloud snapshot ID.
                            targetId:
                              type: string
                              description: The vpfs accelerator ID on mountHost.
                            created:
                              description: >-
                                The time the instant access image was created,
                                in ISO 8601 format.
                              type: string
                              format: date-time
                            errorMessage:
                              type: string
                              description: >-
                                The error message to display if the status is
                                'INACTIVE'.
                            status:
                              type: string
                              enum:
                                - ACTIVE
                                - INACTIVE
                                - INPROGRESS
                              description: >
                                The status indicates the health of the Cloud
                                instant access image.

                                ACTIVE - In good health.

                                INACTIVE - An issue exists with the Cloud
                                instant access image. It may be corrupted.

                                INPROGRESS - The creation of the Cloud instant
                                access image is in progress.
                        relationships: *ref_53
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            images.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/cloud/paas/instant-access-images/{imageId}':
    parameters:
      - name: imageId
        in: path
        description: ID of an instant access image.
        required: true
        schema:
          type: string
    get:
      description: >
        Gets detailed information about the instant access image with the
        specified image ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud paas requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`
      tags:
        - Cloud Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            image.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data: *ref_54
        '401': *ref_6
        '404':
          description: The instant access image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access image.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access image with the specified image ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud paas requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`
      tags:
        - Cloud Workloads
      responses:
        '204':
          description: Successfully deleted the instant access image.
        '401': *ref_6
        '404':
          description: The instant access image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access image.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud/paas/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified cloud paas recovery
        point.


        **API Versioned:**\

        A breaking change has been made to this API starting with version 8.0.

        See the [Getting Started
        Guide](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started)
        for full details on what has changed and general information about API
        versioning.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud paas requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`
      tags:
        - Cloud Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the cloud mount from the cloud policy
                backup images.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantAccessCloudMount' as a type.
                      type: string
                      enum:
                        - instantAccessCloudMount
                    attributes:
                      allOf:
                        - &ref_55
                          required:
                            - copyNumber
                            - clients
                            - protocol
                            - displayName
                          type: object
                          properties:
                            displayName:
                              type: string
                              maxLength: 36
                              description: >
                                The display name used in the Cloud mount path.
                                Use "a-z", "A-Z", "0-9", "-", "_" but not
                                starting with "-".
                            protocol:
                              description: Export protocol for the instant access mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            copyNumber:
                              type: integer
                              default: 1
                              description: >
                                The copy number to use for recovery. If not
                                specified, the first copy that supports instant
                                access is used.
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                        - type: object
                          required:
                            - recoveryPointId
                          properties:
                            recoveryPointId:
                              type: string
                              description: >
                                The recovery point ID for the backup that is
                                used to create the Cloud mount.
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: *ref_52
                      id:
                        type: string
                        description: A unique identifier for Cloud mount.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - instantAccessCloudMount
                      attributes:
                        allOf:
                          - *ref_55
                          - type: object
                            properties:
                              jobId:
                                type: integer
                                format: int64
                                description: >-
                                  The NetBackup job performing the work of
                                  creating the instant access mount.
                      relationships: &ref_56
                        type: object
                        required:
                          - image
                        properties:
                          image:
                            description: >-
                              The backup images that are associated with this
                              Cloud mount.
                            type: object
                            properties:
                              links:
                                type: object
                                properties:
                                  related: *ref_52
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    id:
                                      type: string
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud paas requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`
      tags:
        - Cloud Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount (CREATED/EXPORTED)|string|
          in: query
          required: false
          schema:
            type: string
        - name: 'page[limit]'
          description: The number of items to be returned on this call.
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: 'page[offset]'
          description: The offset of the first item to be returned on this call.
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_57
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_52
                        id:
                          type: string
                          description: A unique identifier for the cloud mount.
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - instantAccessCloudMount
                        attributes:
                          required:
                            - clients
                            - displayName
                            - assetType
                            - exportPath
                            - mountPath
                            - state
                            - status
                            - fullBackupIds
                            - protocol
                          type: object
                          properties:
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                            displayName:
                              type: string
                              maximum: 36
                              description: >
                                The display name used in the Cloud mount path.
                                Use "a-z", "A-Z", "0-9", "-", "_" but not
                                starting with "-".
                            assetType:
                              type: string
                              description: >-
                                The assetType as defined in assetDB for
                                workload.
                            fullBackupIds:
                              type: array
                              items:
                                type: string
                              description: >-
                                The list of image IDs for the full backups that
                                are used to create the Cloud mount.
                            protocol:
                              description: Export protocol for the instant access mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            vpfsServer:
                              type: string
                              description: The name of the server hosting the Cloud mount.
                            exportPath:
                              description: The path of the NFS/SMB export.
                              type: string
                            mountPath:
                              type: string
                              description: >-
                                Protocol-specific path along with the server
                                that can be used to mount the Cloud mount.
                            created:
                              description: >-
                                The time the mount was created, in ISO 8601
                                format.
                              type: string
                              format: date-time
                            errorMessage:
                              type: string
                              description: >-
                                The error message to display if the status is
                                'INACTIVE'.
                            status:
                              type: string
                              enum:
                                - ACTIVE
                                - INACTIVE
                                - INPROGRESS
                              description: >
                                The status indicates the health of the Cloud
                                mount.

                                ACTIVE - In good health.

                                INACTIVE - An issue exists with the Cloud mount.
                                It may be corrupted.

                                INPROGRESS - The creation of the Cloud mount is
                                in progress.
                            state:
                              type: string
                              enum:
                                - CREATED
                                - EXPORTED
                              description: >
                                The state of the activity on the Cloud mount.

                                CREATED - The Cloud mount is available.

                                EXPORTED -  The Cloud mount was exported to a
                                client.
                        relationships: *ref_56
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/cloud/paas/instant-access-mounts/{mountId}':
    parameters:
      - name: mountId
        in: path
        description: Cloud mount id.
        required: true
        schema:
          type: string
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud paas requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`
      tags:
        - Cloud Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data: *ref_57
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud paas requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|CLOUD|RESTORE_ALTERNATE|`
      tags:
        - Cloud Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud/vm/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified cloud vm recovery
        point.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud vm requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|GRANULAR_RESTORE|`


        Permissions to restore malware impacted files:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the cloud mount from the cloud policy
                backup images.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantAccessCloudMount' as a type.
                      type: string
                      enum:
                        - instantAccessCloudMount
                    attributes:
                      allOf:
                        - &ref_58
                          required:
                            - copyNumber
                            - protocol
                            - clients
                            - displayName
                          type: object
                          properties:
                            displayName:
                              type: string
                              maxLength: 36
                              description: >
                                The display name used for verification. Use
                                "a-z", "A-Z", "0-9", "-", "_" but not starting
                                with "-".
                            copyNumber:
                              type: integer
                              description: >
                                The copy number to use for recovery. If not
                                specified, the primary copy is used.
                            protocol:
                              description: Export protocol for the instant access mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                            useVhd:
                              type: boolean
                              default: false
                              description: >-
                                This parameter takes effect only for doing
                                instant access for windows vm with SMB protocol,
                                otherwise it will be set to false.
                            readOnly:
                              type: boolean
                              default: false
                              description: >-
                                If set to `true`, the share is in read only
                                status.
                            malwareScan:
                              type: boolean
                              default: false
                              description: >-
                                create the instant access mount for malware scan
                                or not
                        - type: object
                          required:
                            - recoveryPointId
                          properties:
                            recoveryPointId:
                              type: string
                              description: >
                                The recovery point ID for the backup that is
                                used to create the Cloud mount.
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: &ref_59
                            type: object
                            properties:
                              href:
                                type: string
                      id:
                        type: string
                        description: A unique identifier for Cloud mount.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - instantAccessCloudMount
                      attributes:
                        allOf:
                          - *ref_58
                          - type: object
                            properties:
                              jobId:
                                type: integer
                                format: int64
                                description: >-
                                  The NetBackup job performing the work of
                                  creating the instant access mount.
                      relationships: &ref_60
                        type: object
                        required:
                          - image
                        properties:
                          image:
                            description: >-
                              The backup images that are associated with this
                              Cloud mount.
                            type: object
                            properties:
                              links:
                                type: object
                                properties:
                                  related: *ref_59
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    id:
                                      type: string
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: >
            Internal server error. Failed to create the instant access mount.

            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured\

            has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud vm requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|GRANULAR_RESTORE|`
      tags:
        - Cloud Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount (CREATED/EXPORTED)|string|
          in: query
          required: false
          schema:
            type: string
        - name: 'page[limit]'
          description: The number of items to be returned on this call.
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: 'page[offset]'
          description: The offset of the first item to be returned on this call.
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_61
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_59
                        id:
                          type: string
                          description: A unique identifier for the cloud mount.
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - instantAccessCloudMount
                        attributes:
                          required:
                            - clients
                            - assetType
                            - exportPath
                            - mountPath
                            - fullBackupIds
                            - protocol
                            - state
                            - status
                            - displayName
                          type: object
                          properties:
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                            assetType:
                              type: string
                              description: >-
                                The assetType as defined in assetDB for
                                workload.
                            fullBackupIds:
                              type: array
                              items:
                                type: string
                              description: >-
                                The list of image IDs for the full backups that
                                are used to create the Cloud mount.
                            protocol:
                              description: Export protocol for the instant access mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            useVhd:
                              type: boolean
                              default: false
                              description: >-
                                This parameter takes effect only for doing
                                instant access for windows vm with SMB protocol,
                                otherwise it will be set to false.
                            readOnly:
                              type: boolean
                              default: false
                              description: >-
                                If it is `true`, the share is in read only
                                status.
                            malwareScan:
                              type: boolean
                              default: false
                              description: >-
                                If it is `true`, the instant access mount set
                                malware scan.
                            vpfsServer:
                              type: string
                              description: The name of the server hosting the Cloud mount.
                            exportPath:
                              description: The path of the NFS/SMB export.
                              type: string
                            mountPath:
                              type: string
                              description: >-
                                Protocol-specific path along with the server
                                that can be used to mount the Cloud mount.
                            created:
                              description: >-
                                The time the mount was created, in ISO 8601
                                format.
                              type: string
                              format: date-time
                            displayName:
                              type: string
                              maxLength: 36
                              description: >
                                The display name used for verification. Use
                                "a-z", "A-Z", "0-9", "-", "_" but not starting
                                with "-".
                            errorMessage:
                              type: string
                              description: >-
                                The error message to display if the status is
                                'INACTIVE'.
                            status:
                              type: string
                              enum:
                                - ACTIVE
                                - INACTIVE
                                - INPROGRESS
                              description: >
                                The status indicates the health of the Cloud
                                mount.

                                ACTIVE - In good health.

                                INACTIVE - An issue exists with the Cloud mount.
                                It may be corrupted.

                                INPROGRESS - The creation of the Cloud mount is
                                in progress.
                            state:
                              type: string
                              enum:
                                - CREATED
                                - EXPORTED
                              description: >
                                The state of the activity on the Cloud mount.

                                CREATED - The Cloud mount is available.

                                EXPORTED -  The Cloud mount was exported to a
                                client.
                        relationships: *ref_60
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/cloud/vm/instant-access-mounts/{mountId}':
    parameters:
      - name: mountId
        in: path
        description: Cloud mount id.
        required: true
        schema:
          type: string
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud vm requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|GRANULAR_RESTORE|`
      tags:
        - Cloud Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data: *ref_61
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: `|ASSETS|CLOUD|HOST|<HOST-ID>|`\

        Instant access for cloud vm requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD|GRANULAR_RESTORE|`
      tags:
        - Cloud Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/openstack/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified openstack recovery
        point.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Instant access for openstack requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|OPENSTACK|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|OPENSTACK|RESTORE_ALTERNATE|`
      tags:
        - openstack Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the cloud mount from the cloud policy
                backup images.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      type: string
                      enum:
                        - instantAccessOpenStackMount
                    attributes:
                      allOf:
                        - &ref_62
                          required:
                            - copyNumber
                            - protocol
                            - clients
                            - displayName
                          type: object
                          properties:
                            displayName:
                              type: string
                              maxLength: 36
                              description: >
                                The display name used for verification. Use
                                "a-z", "A-Z", "0-9", "-", "_" but not starting
                                with "-".
                            copyNumber:
                              type: integer
                              description: >
                                The copy number to use for recovery. If not
                                specified, the primary copy is used.
                              minimum: 1
                              maximum: 10
                            protocol:
                              description: Export protocol for the instant access mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                        - type: object
                          required:
                            - recoveryPointId
                          properties:
                            recoveryPointId:
                              type: string
                              description: >
                                The recovery point ID for the backup that is
                                used to create the Cloud mount.
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: &ref_63
                            type: object
                            properties:
                              href:
                                type: string
                      id:
                        type: string
                        description: A unique identifier for Cloud mount.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - instantAccessOpenStack
                      attributes:
                        allOf:
                          - *ref_62
                          - type: object
                            properties:
                              jobId:
                                type: integer
                                format: int64
                                description: >-
                                  The NetBackup job performing the work of
                                  creating the instant access mount.
                      relationships: &ref_64
                        type: object
                        required:
                          - image
                        properties:
                          image:
                            description: >-
                              The backup images that are associated with this
                              Cloud mount.
                            type: object
                            properties:
                              links:
                                type: object
                                properties:
                                  related: *ref_63
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    id:
                                      type: string
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Instant access for openstack requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|OPENSTACK|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|OPENSTACK|RESTORE_ALTERNATE|`
      tags:
        - openstack Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |displayName|eq, ne, contains, startswith, endswith|The name of the
            instant accesss mount.|string|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount. Possible values: ACTIVE INACTIVE EXPIRED
            INPROGRESS|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount. Possible values: CREATED EXPORTED|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_65
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_63
                        id:
                          type: string
                          description: A unique identifier for the cloud mount.
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - instantAccessOpenStack
                        attributes:
                          required:
                            - clients
                            - assetType
                            - exportPath
                            - mountPath
                            - fullBackupIds
                            - protocol
                            - state
                            - status
                            - displayName
                          type: object
                          properties:
                            clients:
                              type: array
                              items:
                                type: string
                                description: >-
                                  The fully-qualified domain name, host name, or
                                  IP address of the remote host that is allowed
                                  to mount the share.
                            assetType:
                              type: string
                              description: >-
                                The assetType as defined in assetDB for
                                workload.
                            fullBackupIds:
                              type: array
                              items:
                                type: string
                              description: >-
                                The list of image IDs for the full backups that
                                are used to create the Cloud mount.
                            protocol:
                              description: Export protocol for the instant access mount.
                              default: NFS
                              type: string
                              enum:
                                - NFS
                                - SMB
                            vpfsServer:
                              type: string
                              description: The name of the server hosting the Cloud mount.
                            exportPath:
                              description: The path of the NFS/SMB export.
                              type: string
                            mountPath:
                              type: string
                              description: >-
                                Protocol-specific path along with the server
                                that can be used to mount the Cloud mount.
                            created:
                              description: >-
                                The time the mount was created, in ISO 8601
                                format.
                              type: string
                              format: date-time
                            displayName:
                              type: string
                              maxLength: 36
                              description: >
                                The display name used for verification. Use
                                "a-z", "A-Z", "0-9", "-", "_" but not starting
                                with "-".
                            errorMessage:
                              type: string
                              description: >-
                                The error message to display if the status is
                                'INACTIVE'.
                            status:
                              type: string
                              enum:
                                - ACTIVE
                                - INACTIVE
                                - INPROGRESS
                              description: >
                                The status indicates the health of the Cloud
                                mount.

                                ACTIVE - In good health.

                                INACTIVE - An issue exists with the Cloud mount.
                                It may be corrupted.

                                INPROGRESS - The creation of the Cloud mount is
                                in progress.
                            state:
                              type: string
                              enum:
                                - CREATED
                                - EXPORTED
                              description: >
                                The state of the activity on the Cloud mount.

                                CREATED - The Cloud mount is available.

                                EXPORTED -  The Cloud mount was exported to a
                                client.
                        relationships: *ref_64
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/openstack/instant-access-mounts/{mountId}':
    parameters:
      - name: mountId
        in: path
        description: Cloud mount id.
        required: true
        schema:
          type: string
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Instant access for openstack requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|OPENSTACK|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|OPENSTACK|RESTORE_ALTERNATE|`
      tags:
        - openstack Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data: *ref_65
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Instant access for openstack requires the following permissions:\

        Requires Operation: `|OPERATIONS|VIEW|`\

        Requires Operation: `|OPERATIONS|ASSETS|OPENSTACK|RESTORE_ORIGINAL|` or
        `|OPERATIONS|ASSETS|OPENSTACK|RESTORE_ALTERNATE|`
      tags:
        - openstack Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/physical/scenarios/granular-files-folders/recover:
    post:
      description: >
        Recovers individual files and folders from a physical system.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|FILESYSTEM-CLIENT`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_DESTINATION|`\

        Requires Operation: `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE|`


        A restore of files and folders from malware-affected images requires the
        following permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_MALWARE_INFECTED|`


        Note that this operation will allow a user to restore images to **ANY**
        NetBackup client.
      tags:
        - Physical Workloads
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - recoveryRequest
                - selectionsFile
              properties:
                recoveryRequest:
                  description: The recovery request schema for physical files/folders.
                  type: object
                  required:
                    - data
                  properties:
                    data:
                      type: object
                      required:
                        - type
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - physicalFilesFoldersRecoveryRequest
                        attributes:
                          type: object
                          required:
                            - recoveryPoint
                            - recoveryOptions
                          properties:
                            recoveryPoint:
                              description: >-
                                Selects the recovery point for this recovery
                                based on the specified options.
                              type: object
                              required:
                                - client
                                - policyType
                                - startDate
                                - endDate
                              properties:
                                client:
                                  description: >-
                                    The client identifier that was used at the
                                    time of backup.
                                  type: string
                                policyType:
                                  description: >-
                                    The policy type that was used at the time of
                                    backup.
                                  type: string
                                  enum:
                                    - STANDARD
                                    - WINDOWS
                                    - NBU_CATALOG
                                startDate:
                                  description: >-
                                    Specifies a start date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                endDate:
                                  description: >-
                                    Specifies an end date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                isArchive:
                                  description: >
                                    If `true`, restores from archived jobs.
                                    Note: only one of `isArchive isTrueImage
                                    isOptimized isRawPartition isPointInTime`
                                    attributes can be `true` at a time.
                                  type: boolean
                                  default: false
                                isTrueImage:
                                  description: >
                                    If `true`, restores from true image backups.
                                    Note: only one of `isArchive isTrueImage
                                    isOptimized isRawPartition isPointInTime`
                                    attributes can be `true` at a time.
                                  type: boolean
                                  default: false
                                isOptimized:
                                  description: >
                                    If `true`, restores from optimized backups.
                                    Note: only one of `isArchive isTrueImage
                                    isOptimized isRawPartition isPointInTime`
                                    attributes can be `true` at a time.
                                  type: boolean
                                  default: false
                                isRawPartition:
                                  description: >
                                    If `true`, restores from raw partition
                                    backups. Note: only one of `isArchive
                                    isTrueImage isOptimized isRawPartition
                                    isPointInTime` attributes can be `true` at a
                                    time.
                                  type: boolean
                                  default: false
                                isPointInTime:
                                  description: >
                                    If `true`, restores from point in time
                                    backups. Note: only one of `isArchive
                                    isTrueImage isOptimized isRawPartition
                                    isPointInTime` attributes can be `true` at a
                                    time.
                                  type: boolean
                                  default: false
                            recoveryOptions:
                              description: >-
                                Describes the recovery options to be used for
                                this recovery.
                              type: object
                              required:
                                - destinationClient
                                - server
                              properties:
                                accessControlAttributes:
                                  description: >-
                                    If `true`, restores the files with
                                    access-control attributes.
                                  type: boolean
                                  default: true
                                destinationClient:
                                  description: >-
                                    The client where the files/folders will
                                    restored to.
                                  type: string
                                jobPriorityOverride:
                                  description: >-
                                    Overrides the recovery job priority with the
                                    specified value.
                                  type: integer
                                  default: -1
                                mediaServer:
                                  description: >-
                                    Specifies the media server to be used for
                                    the restore operation.
                                  type: string
                                overwriteExistingFiles:
                                  description: >
                                    If `true`, overwrites the files/folders if
                                    they exist in the destination location with
                                    the same name.
                                  type: boolean
                                  default: false
                                renameHardLinks:
                                  description: >-
                                    If `true`, renames UNIX hard links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                renameSoftLinks:
                                  description: >-
                                    If `true`, renames UNIX soft links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                restrictMountPoints:
                                  description: >-
                                    If `true`, restores directories without
                                    crossing mount-points.
                                  type: boolean
                                  default: false
                                server:
                                  description: >-
                                    Specifies the name of the NetBackup master
                                    server.
                                  type: string
                                cleanFileRestore:
                                  description: >-
                                    If `true`, restores clean files only,
                                    malware infected files will be skipped.
                                  type: boolean
                                  default: true
                                skipVerificationAndForceRollback:
                                  description: >-
                                    If `true`, skip snapshot verification and
                                    force rollback to the chosen point in time.
                                  type: boolean
                                  default: false
                                forceRollback:
                                  description: >-
                                    If `true`, force rollback even if it
                                    destroys later snapshot.
                                  type: boolean
                                  default: false
                                malwareScanOptions: &ref_66
                                  description: >-
                                    Options used in case of performing malware
                                    scan before recovery.
                                  type: object
                                  required:
                                    - malwareScanAndRecoveryOption
                                    - scanHostPoolId
                                  properties:
                                    malwareScanAndRecoveryOption:
                                      description: Scan and recovery option.
                                      type: string
                                      enum:
                                        - RECOVER_ONLY_CLEAN_FILES
                                        - DO_NOT_RECOVER_IF_INFECTED
                                        - ALLOW_RECOVERY_INFECTED_FILES
                                        - RECOVER_CLEAN_COPIES_IN_DATE_RANGE
                                        - DO_NOT_RECOVER
                                    scanHostPoolId:
                                      description: >-
                                        Unique scan host pool Id for malware
                                        scan.
                                      type: integer
                            recoveryVirtualHardDisk:
                              description: >-
                                Describes the Virtual Hard Disk settings to be
                                used for this restore.
                              type: object
                              required:
                                - fileName
                                - diskSize
                                - diskType
                              properties:
                                fileName:
                                  description: Name of the Virtual Hard Disk to create
                                  type: string
                                diskSize:
                                  description: Disk size in bytes to be created.
                                  type: integer
                                diskType:
                                  description: The Virtual Hard Disk type to create
                                  type: string
                                  enum:
                                    - FIXED_SIZE
                                    - DYNAMICALLY_EXPANDING
                  example:
                    data:
                      type: physicalFilesFoldersRecoveryRequest
                      attributes:
                        recoveryPoint:
                          client: host1.example.com
                          policyType: STANDARD
                          startDate: 2017-11-20T23:20:50.000Z
                          endDate: 2018-12-20T23:20:50.000Z
                        recoveryOptions:
                          destinationClient: host1.example.com
                          server: nbuserver.example.com
                          overwriteExistingFiles: true
                          cleanFileRestore: true
                          malwareScanOptions:
                            malwareScanAndRecoveryOption: RECOVER_ONLY_CLEAN_FILES
                            scanHostPoolId: 1
                        recoveryVirtualHardDisk:
                          fileName: vhd_name
                          diskSize: 213909504
                          diskType: 1
                selectionsFile:
                  description: >
                    A file containing a JSON array of the files to be restored
                    with their path and backup time in ISO

                    8601 format.


                    Example:

                    ```

                    [
                      {
                        "path": "/C/Users/john/Desktop/report1.doc",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      },
                      {
                        "path": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      }
                    ]

                    ```
                  type: string
                  format: binary
                renameFile:
                  description: >
                    A file containing a JSON array of the file to restore to a
                    different location with the original and

                    destination paths. For Windows Active Directory restores,
                    renameFile uses a JSON key to recreate the

                    objects for which tombstone lifetime is over.


                    Example:

                    ```

                    [
                      {
                        "from": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "to": "/C/Users/john/Downloads/Office365_64bit.exe"
                      }
                    ]

                    ```

                    Example for Active Directory Restore:

                    ```

                    [
                      {
                        "recreateADObjects": "true"
                      }
                    ]

                    ```
                  type: string
                  format: binary
        description: A request for a physical files/folders recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/hyperv/scenarios/granular-files-folders/recover:
    post:
      description: >
        Recovers individual files and folders from a Hyper-V vm.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|FILESYSTEM-CLIENT|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_DESTINATION|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_OVERWRITE|`


        Note that this operation will allow a user to restore images to **ANY**
        NetBackup client.


        Namespace: '|ASSETS|HYPERV|'

        Requires Operation: '|OPERATIONS|VIEW|'

        Requires Operation: '|OPERATIONS|ASSETS|HYPERV|VM|GRANULAR_RESTORE|'
      tags:
        - Hyper-V Workloads
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - recoveryRequest
                - selectionsFile
              properties:
                recoveryRequest:
                  description: The recovery request schema for hyperv files/folders.
                  type: object
                  required:
                    - data
                  properties:
                    data:
                      type: object
                      required:
                        - type
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - hypervFilesFoldersRecoveryRequest
                        attributes:
                          type: object
                          required:
                            - recoveryPoint
                            - recoveryOptions
                          properties:
                            recoveryPoint:
                              description: >-
                                Selects the recovery point for this recovery
                                based on the specified options.
                              type: object
                              required:
                                - client
                                - policyType
                                - startDate
                                - endDate
                              properties:
                                client:
                                  description: >-
                                    The client identifier that was used at the
                                    time of backup.
                                  type: string
                                policyType:
                                  description: >-
                                    The policy type that was used at the time of
                                    backup.
                                  type: string
                                  enum:
                                    - HYPERV
                                startDate:
                                  description: >-
                                    Specifies a start date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                endDate:
                                  description: >-
                                    Specifies an end date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                            recoveryOptions:
                              description: >-
                                Describes the recovery options to be used for
                                this recovery.
                              type: object
                              required:
                                - destinationClient
                                - server
                              properties:
                                destinationClient:
                                  description: >-
                                    The client where the files/folders will
                                    restored to.
                                  type: string
                                jobPriorityOverride:
                                  description: >-
                                    Overrides the recovery job priority with the
                                    specified value.
                                  type: integer
                                  default: -1
                                mediaServer:
                                  description: >-
                                    Specifies the media server to be used for
                                    the restore operation.
                                  type: string
                                overwriteExistingFiles:
                                  description: >
                                    If `true`, overwrites the files/folders if
                                    they exist in the destination location with
                                    the same name.
                                  type: boolean
                                  default: false
                                server:
                                  description: >-
                                    Specifies the name of the NetBackup master
                                    server.
                                  type: string
                                renameHardLinks:
                                  description: >-
                                    If `true`, renames UNIX hard links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                renameSoftLinks:
                                  description: >-
                                    If `true`, renames UNIX soft links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                  example:
                    data:
                      type: hypervFilesFoldersRecoveryRequest
                      attributes:
                        recoveryPoint:
                          client: host1.example.com
                          policyType: HYPERV
                          startDate: 2017-11-20T23:20:50.000Z
                          endDate: 2018-12-20T23:20:50.000Z
                        recoveryOptions:
                          destinationClient: host1.example.com
                          server: nbuserver.example.com
                          overwriteExistingFiles: true
                          renameHardLinks: false
                          renameSoftLinks: false
                selectionsFile:
                  description: >
                    A file containing a JSON array of the files to be restored
                    with their path and backup time in ISO

                    8601 format.


                    Example:

                    ```

                    [
                      {
                        "path": "/C/Users/john/Desktop/report1.doc",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      },
                      {
                        "path": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      }
                    ]

                    ```
                  type: string
                  format: binary
                renameFile:
                  description: >
                    A file containing a JSON array of the file to restore to a
                    different location with the original and

                    destination paths.


                    Example:

                    ```

                    [
                      {
                        "from": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "to": "/C/Users/john/Downloads/Office365_64bit.exe"
                      }
                    ]

                    ```
                  type: string
                  format: binary
        description: A request for a hyper-v files/folders recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/dynamic-nas/scenarios/{scenarioType}/recover':
    post:
      description: >
        Recovers individual files and folders in a parallel manner using dynamic
        streams from a NAS system.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|DYNAMIC-NAS`\

        Requires Operation: `|OPERATIONS|ASSETS|DYNAMIC-NAS|RESTORE|`\

        Requires Operation: `|OPERATIONS|ASSETS|DYNAMIC-NAS|RESTORE_OVERWRITE|`


        A restore of files and folders from malware-affected images requires the
        following permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|DYNAMIC-NAS|RESTORE_MALWARE_INFECTED|`


        Note that this operation will allow a user to restore images to **ANY**
        NetBackup client.
      tags:
        - NAS Workloads
      parameters:
        - name: scenarioType
          in: path
          description: The type of restore which user will use to recover image.
          required: true
          schema:
            type: string
            enum:
              - granular-files-folders
              - point-in-time-rollback
              - tir-granular-files-folders
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - recoveryRequest
                - selectionsFile
              properties:
                recoveryRequest:
                  description: The recovery request schema for NAS files/folders.
                  type: object
                  required:
                    - data
                  properties:
                    data:
                      type: object
                      required:
                        - type
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - dynamicNasFilesFoldersRecoveryRequest
                        attributes:
                          type: object
                          required:
                            - recoveryPoint
                            - recoveryOptions
                          properties:
                            recoveryPoint:
                              description: >-
                                Selects the recovery point for this recovery
                                based on the specified options.
                              type: object
                              required:
                                - client
                                - policyType
                                - startDate
                                - endDate
                              properties:
                                client:
                                  description: >-
                                    The client identifier that was used at the
                                    time of backup.
                                  type: string
                                policyType:
                                  description: >-
                                    The policy type that was used at the time of
                                    backup.
                                  type: string
                                  enum:
                                    - NAS_DATA_PROTECTION
                                startDate:
                                  description: >-
                                    Specifies a start date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                endDate:
                                  description: >-
                                    Specifies an end date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                isTrueImage:
                                  description: 'If `true`, restores from true image backups.'
                                  type: boolean
                                  default: false
                            recoveryOptions:
                              description: >-
                                Describes the recovery options to be used for
                                this recovery.
                              type: object
                              required:
                                - destinationClient
                                - server
                                - parallelRestoreStreamCount
                              properties:
                                accessControlAttributes:
                                  description: >-
                                    If `true`, restores the files with
                                    access-control attributes.
                                  type: boolean
                                  default: true
                                destinationClient:
                                  description: >-
                                    The NetBackup host or mount host group where
                                    the files/folders will be restored.
                                  type: string
                                jobPriorityOverride:
                                  description: >-
                                    Overrides the recovery job priority with the
                                    specified value.
                                  type: integer
                                  default: -1
                                mediaServer:
                                  description: >-
                                    Specifies the media server to be used for
                                    the restore operation.
                                  type: string
                                overwriteExistingFiles:
                                  description: >
                                    If `true`, overwrites the files/folders if
                                    they exist in the destination location with
                                    the same name.
                                  type: boolean
                                  default: false
                                renameHardLinks:
                                  description: >-
                                    If `true`, renames UNIX hard links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                renameSoftLinks:
                                  description: >-
                                    If `true`, renames UNIX soft links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                restrictMountPoints:
                                  description: >-
                                    If `true`, restores directories without
                                    crossing mount-points.
                                  type: boolean
                                  default: false
                                server:
                                  description: >-
                                    Specifies the name of the NetBackup master
                                    server.
                                  type: string
                                cleanFileRestore:
                                  description: >-
                                    If `true`, restores clean files only,
                                    malware infected files will be skipped.
                                  type: boolean
                                  default: true
                                parallelRestoreStreamCount:
                                  description: >-
                                    Specifies the number of streams to be used
                                    during parallel restore between 1 and 30
                                    including both.
                                  type: integer
                                isNetbackupHost:
                                  description: >-
                                    Specifies whether the destination client is
                                    a NetBackup host.
                                  type: boolean
                                  default: true
                                forceRollback:
                                  description: >-
                                    If `true`, force rollback even if it
                                    destroys later snapshot.
                                  type: boolean
                                  default: false
                                skipVerificationAndForceRollback:
                                  description: >-
                                    If `true`, skip snapshot verification and
                                    force rollback to the chosen point in time.
                                  type: boolean
                                  default: false
                                malwareScanOptions: *ref_66
                  example:
                    data:
                      type: dynamicNasFilesFoldersRecoveryRequest
                      attributes:
                        recoveryPoint:
                          client: host1.example.com
                          policyType: NAS_DATA_PROTECTION
                          startDate: 2017-11-20T23:20:50.000Z
                          endDate: 2018-12-20T23:20:50.000Z
                        recoveryOptions:
                          destinationClient: host1.example.com
                          isNetbackupHost: true
                          server: nbuserver.example.com
                          overwriteExistingFiles: true
                          cleanFileRestore: true
                          parallelRestoreStreamCount: 10
                          malwareScanOptions:
                            malwareScanAndRecoveryOption: RECOVER_ONLY_CLEAN_FILES
                            scanHostPoolId: 1
                selectionsFile:
                  description: >
                    A file containing a JSON array of the files to be restored
                    with their path and backup time in ISO

                    8601 format.


                    Example:

                    ```

                    [
                      {
                        "path": "/C/Users/john/Desktop/report1.doc",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      },
                      {
                        "path": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      }
                    ]

                    ```
                  type: string
                  format: binary
                renameFile:
                  description: >
                    A file containing a JSON array of the file to restore to a
                    different location with the original and

                    destination paths. In case of original restore this will be
                    null.


                    Example:

                    ```

                    [
                      {
                        "from": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "to": "/C/Users/john/Downloads/Office365_64bit.exe"
                      }
                    ]

                    ```
                  type: string
                  format: binary
        description: A request for a NAS files/folders recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_83
                description: The recovery response.
                type: object
                required:
                  - data
                properties:
                  data:
                    description: Contains the recovery response data.
                    type: array
                    items:
                      type: object
                      required:
                        - type
                        - id
                        - attributes
                        - relationships
                      properties:
                        type:
                          description: The response type.
                          type: string
                          default: recoveryResponse
                        id:
                          description: The response identifier.
                          type: integer
                          format: int64
                        attributes:
                          description: Contains the recovery response attributes.
                          type: object
                          required:
                            - msg
                          properties:
                            msg:
                              description: The response message.
                              type: string
                        relationships:
                          description: >-
                            Contains the resources related to the recovery
                            operation, such as `recoveryJob`.
                          type: object
                          required:
                            - recoveryJob
                          properties:
                            recoveryJob:
                              description: >-
                                Represents the job created by this recovery
                                operation.
                              type: object
                              required:
                                - links
                                - data
                              properties:
                                links:
                                  description: Contains the links to get the job details.
                                  type: object
                                  required:
                                    - related
                                  properties:
                                    related:
                                      description: Gets a list of recent jobs.
                                      type: string
                                data:
                                  type: object
                                  description: Contains the recovery job data.
                                  required:
                                    - type
                                    - id
                                  properties:
                                    type:
                                      description: The resource type. Set to `job`.
                                      type: string
                                    id:
                                      description: The job identifier.
                                      type: integer
                                      format: int64
                example:
                  data:
                    type: dynamicNASRecoveryResponse
                    id: 42
                    attributes:
                      msg: >-
                        Recovery job started successfully for volume
                        'temp_volume'.
                    relationships:
                      recoveryJob:
                        links:
                          related: /admin/jobs
                        data:
                          type: job
                          id: 42
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/flashbackup-windows/scenarios/granular-files-folders/recover:
    post:
      description: >
        Recovers individual files and folders from a FlashBackup Windows backup.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|FILESYSTEM-CLIENT`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_DESTINATION|`\

        Requires Operation: `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_OVERWRITE|` - Required to
        overwrite existing files or folders.


        Note that this operation will allow a user to restore images to **ANY**
        NetBackup client.
      tags:
        - FlashBackup Windows Workloads
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - recoveryRequest
                - selectionsFile
              properties:
                recoveryRequest:
                  description: >-
                    The recovery request schema for FlashBackup-Windows
                    files/folders.
                  type: object
                  required:
                    - data
                  properties:
                    data:
                      type: object
                      required:
                        - type
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - flashBackupWindowsFilesFoldersRecoveryRequest
                        attributes:
                          type: object
                          required:
                            - recoveryPoint
                            - recoveryOptions
                          properties:
                            recoveryPoint:
                              description: >-
                                Selects the recovery point for this recovery
                                based on the specified options.
                              type: object
                              required:
                                - client
                                - policyType
                                - startDate
                                - endDate
                              properties:
                                client:
                                  description: >-
                                    The client identifier that was used at the
                                    time of backup.
                                  type: string
                                policyType:
                                  description: >-
                                    The policy type that was used at the time of
                                    backup.
                                  type: string
                                  enum:
                                    - FLASHBACKUP_WINDOWS
                                startDate:
                                  description: >-
                                    Specifies a start date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                endDate:
                                  description: >-
                                    Specifies an end date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                isRawPartition:
                                  description: >-
                                    If `true`, restores from raw partition
                                    backups.
                                  type: boolean
                                  default: false
                            recoveryOptions:
                              description: >-
                                Describes the recovery options to be used for
                                this recovery.
                              type: object
                              required:
                                - destinationClient
                                - server
                              properties:
                                accessControlAttributes:
                                  description: >-
                                    If `true`, restores the files with
                                    access-control attributes.
                                  type: boolean
                                  default: true
                                destinationClient:
                                  description: >-
                                    The client where the files/folders will
                                    restored to.
                                  type: string
                                jobPriorityOverride:
                                  description: >-
                                    Overrides the recovery job priority with the
                                    specified value.
                                  type: integer
                                  default: -1
                                mediaServer:
                                  description: >-
                                    Specifies the media server to be used for
                                    the restore operation.
                                  type: string
                                overwriteExistingFiles:
                                  description: >
                                    If `true`, overwrites the files/folders if
                                    they exist in the destination location with
                                    the same name.
                                  type: boolean
                                  default: false
                                renameHardLinks:
                                  description: >-
                                    If `true`, renames UNIX hard links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                renameSoftLinks:
                                  description: >-
                                    If `true`, renames UNIX soft links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                restrictMountPoints:
                                  description: >-
                                    If `true`, restores directories without
                                    crossing mount-points.
                                  type: boolean
                                  default: false
                                server:
                                  description: >-
                                    Specifies the name of the NetBackup master
                                    server.
                                  type: string
                                cleanFileRestore:
                                  description: >-
                                    If `true`, restores clean files only,
                                    malware infected files will be skipped.
                                  type: boolean
                                  default: true
                  example:
                    data:
                      type: flashBackupWindowsFilesFoldersRecoveryRequest
                      attributes:
                        recoveryPoint:
                          client: host1.example.com
                          policyType: FLASHBACKUP_WINDOWS
                          startDate: 2017-11-20T23:20:50.000Z
                          endDate: 2018-12-20T23:20:50.000Z
                        recoveryOptions:
                          destinationClient: host1.example.com
                          server: nbuserver.example.com
                          overwriteExistingFiles: true
                          cleanFileRestore: true
                selectionsFile:
                  description: >
                    A file containing a JSON array of the files to be restored
                    with their path and backup time in ISO

                    8601 format.


                    Example:

                    ```

                    [
                      {
                        "path": "/C/Users/john/Desktop/report1.doc",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      },
                      {
                        "path": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      }
                    ]

                    ```
                  type: string
                  format: binary
                renameFile:
                  description: >
                    A file containing a JSON array of the file to restore to a
                    different location with the original and

                    destination paths.


                    Example:

                    ```

                    [
                      {
                        "from": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "to": "/C/Users/john/Downloads/Office365_64bit.exe"
                      }
                    ]

                    ```
                  type: string
                  format: binary
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/flashbackup/scenarios/granular-files-folders/recover:
    post:
      description: >
        Recovers individual files and folders from a FlashBackup backup.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|FILESYSTEM-CLIENT`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_DESTINATION|`\

        Requires Operation: `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|FILESYSTEM-CLIENT|RESTORE_OVERWRITE|` - Required to
        overwrite existing files or folders.


        Note that this operation will allow a user to restore images to **ANY**
        NetBackup client.
      tags:
        - FlashBackup Workloads
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - recoveryRequest
                - selectionsFile
              properties:
                recoveryRequest:
                  description: The recovery request schema for FlashBackup files/folders.
                  type: object
                  required:
                    - data
                  properties:
                    data:
                      type: object
                      required:
                        - type
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - flashBackupFilesFoldersRecoveryRequest
                        attributes:
                          type: object
                          required:
                            - recoveryPoint
                            - recoveryOptions
                          properties:
                            recoveryPoint:
                              description: >-
                                Selects the recovery point for this recovery
                                based on the specified options.
                              type: object
                              required:
                                - client
                                - policyType
                                - startDate
                                - endDate
                              properties:
                                client:
                                  description: >-
                                    The client identifier that was used at the
                                    time of backup.
                                  type: string
                                policyType:
                                  description: >-
                                    The policy type that was used at the time of
                                    backup.
                                  type: string
                                  enum:
                                    - FLASHBACKUP
                                startDate:
                                  description: >-
                                    Specifies a start date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                endDate:
                                  description: >-
                                    Specifies an end date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                isRawPartition:
                                  description: >-
                                    If `true`, restores from raw partition
                                    backups.
                                  type: boolean
                                  default: false
                            recoveryOptions:
                              description: >-
                                Describes the recovery options to be used for
                                this recovery.
                              type: object
                              required:
                                - destinationClient
                                - server
                              properties:
                                accessControlAttributes:
                                  description: >-
                                    If `true`, restores the files with
                                    access-control attributes.
                                  type: boolean
                                  default: true
                                destinationClient:
                                  description: >-
                                    The client where the files/folders will
                                    restored to.
                                  type: string
                                jobPriorityOverride:
                                  description: >-
                                    Overrides the recovery job priority with the
                                    specified value.
                                  type: integer
                                  default: -1
                                mediaServer:
                                  description: >-
                                    Specifies the media server to be used for
                                    the restore operation.
                                  type: string
                                overwriteExistingFiles:
                                  description: >
                                    If `true`, overwrites the files/folders if
                                    they exist in the destination location with
                                    the same name.
                                  type: boolean
                                  default: false
                                renameHardLinks:
                                  description: >-
                                    If `true`, renames UNIX hard links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                renameSoftLinks:
                                  description: >-
                                    If `true`, renames UNIX soft links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                restrictMountPoints:
                                  description: >-
                                    If `true`, restores directories without
                                    crossing mount-points.
                                  type: boolean
                                  default: false
                                server:
                                  description: >-
                                    Specifies the name of the NetBackup primary
                                    server.
                                  type: string
                                cleanFileRestore:
                                  description: >-
                                    If `true`, restores clean files only,
                                    malware infected files will be skipped.
                                  type: boolean
                                  default: true
                  example:
                    data:
                      type: flashBackupFilesFoldersRecoveryRequest
                      attributes:
                        recoveryPoint:
                          client: host1.example.com
                          policyType: FLASHBACKUP
                          startDate: 2017-11-20T23:20:50.000Z
                          endDate: 2018-12-20T23:20:50.000Z
                        recoveryOptions:
                          destinationClient: host1.example.com
                          server: nbuserver.example.com
                          overwriteExistingFiles: true
                          cleanFileRestore: true
                selectionsFile:
                  description: >
                    A file containing a JSON array of the files to be restored
                    with their path and backup time in ISO

                    8601 format.


                    Example:

                    ```

                    [
                      {
                        "path": "/opt/Files/report1.txt",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      },
                      {
                        "path": "/opt/Files/report2.txt",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      }
                    ]

                    ```
                  type: string
                  format: binary
                renameFile:
                  description: >
                    A file containing a JSON array of the file to restore to a
                    different location with the original and

                    destination paths.


                    Example:

                    ```

                    [
                      {
                        "from": "/opt/Files/report1.txt",
                        "to": "/home/john/personal/report1.txt"
                      }
                    ]

                    ```
                  type: string
                  format: binary
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/ndmp/scenarios/granular-files-folders/recover:
    post:
      description: >
        Recovers individual NDMP files and folders. 


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|NDMP|`\

        Requires Operation: `|OPERATIONS|ASSETS|NDMP|RECOVER|`\
      tags:
        - NDMP Workloads
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - body
                - selectionsFile
              properties:
                body:
                  description: The recovery request schema for NDMP files/folders.
                  type: object
                  required:
                    - data
                  properties:
                    data:
                      type: object
                      required:
                        - type
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - ndmpFilesFoldersRecoveryRequest
                        attributes:
                          type: object
                          required:
                            - recoveryPoint
                            - recoveryOptions
                          properties:
                            recoveryPoint:
                              description: >-
                                Selects the recovery point for this recovery
                                based on the specified options.
                              type: object
                              required:
                                - client
                                - policyType
                                - startDate
                                - endDate
                              properties:
                                client:
                                  description: >-
                                    The client identifier that was used at the
                                    time of backup.
                                  type: string
                                policyType:
                                  description: >-
                                    The policy type that was used at the time of
                                    backup.
                                  type: string
                                  enum:
                                    - NDMP
                                startDate:
                                  description: >-
                                    Specifies a start date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                endDate:
                                  description: >-
                                    Specifies an end date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                            recoveryOptions:
                              description: >-
                                Describes the recovery options to be used for
                                this recovery.
                              type: object
                              required:
                                - destinationClient
                                - server
                              properties:
                                destinationClient:
                                  description: >-
                                    The client where the files/folders will
                                    restored to.
                                  type: string
                                jobPriorityOverride:
                                  description: >
                                    Overrides the recovery job priority with the
                                    specified value.  If not specified, the
                                    default value of `-1` will let the system
                                    decide.
                                  type: integer
                                  default: -1
                                  minimum: 0
                                  maximum: 99999
                                renameHardLinks:
                                  description: >-
                                    If `true`, renames UNIX hard links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                renameSoftLinks:
                                  description: >-
                                    If `true`, renames UNIX soft links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                restrictMountPoints:
                                  description: >-
                                    If `true`, restores directories without
                                    crossing mount-points.
                                  type: boolean
                                  default: false
                                server:
                                  description: >-
                                    Specifies the name of the NetBackup master
                                    server.
                                  type: string
                  example:
                    data:
                      type: ndmpFilesFoldersRecoveryRequest
                      attributes:
                        recoveryPoint:
                          client: host1.example.com
                          policyType: NDMP
                          startDate: 2021-11-20T23:20:50.000Z
                          endDate: '20122-12-20T23:20:50Z'
                        recoveryOptions:
                          destinationClient: host1.example.com
                          server: nbuserver.example.com
                selectionsFile:
                  description: >
                    A file containing a JSON array of the files to be restored
                    with their path and backup time in ISO

                    8601 format.


                    Example:

                    ```

                    [
                      {
                        "path": "/usr/lib/rpm/perl.req",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      },
                      {
                        "path": "/usr/lib/rpm/perl.prov",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      }
                    ]

                    ```
                  type: string
                  format: binary
                renameFile:
                  description: >
                    A file containing a JSON array of the file to restore to a
                    different location with the original and

                    destination paths.


                    Example:

                    ```

                    [
                      {
                        "from": "/usr/libexec/xrdp/startwm.sh",
                        "to": "/usr/libexec/xrdpserver/startwm.sh"
                      }
                    ]

                    ```
                  type: string
                  format: binary
        description: A request for a NDMP files/folders recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/datastore/scenarios/xbsa/recover:
    post:
      description: >
        Recovers using datastore backups.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|DATASTORE`\

        Requires Operation: `|OPERATIONS|ASSETS|DATASTORE|RECOVER|`\
      tags:
        - DataStore Workloads
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - recoveryRequest
                - selectionsFile
              properties:
                recoveryRequest:
                  description: The recovery request schema for Data Store XBSA.
                  type: object
                  required:
                    - data
                  properties:
                    data:
                      type: object
                      required:
                        - type
                        - attributes
                      properties:
                        type:
                          type: string
                          enum:
                            - dataStoreXBSARecoveryRequest
                        attributes:
                          type: object
                          required:
                            - recoveryPoint
                            - recoveryOptions
                          properties:
                            recoveryPoint:
                              description: >-
                                Selects the recovery point for this recovery
                                based on the specified options.
                              type: object
                              required:
                                - client
                                - policyType
                                - startDate
                                - endDate
                              properties:
                                client:
                                  description: >-
                                    The client identifier that was used at the
                                    time of backup.
                                  type: string
                                policyType:
                                  description: >-
                                    The policy type that was used at the time of
                                    backup.
                                  type: string
                                  enum:
                                    - DATASTORE
                                startDate:
                                  description: >-
                                    Specifies a start date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                                endDate:
                                  description: >-
                                    Specifies an end date and time for the
                                    restore window in ISO 8601 format.
                                  type: string
                                  format: date-time
                            recoveryOptions:
                              description: >-
                                Describes the recovery options to be used for
                                this recovery.
                              type: object
                              required:
                                - destinationClient
                                - server
                              properties:
                                accessControlAttributes:
                                  description: >-
                                    If `true`, restores the files with
                                    access-control attributes.
                                  type: boolean
                                  default: true
                                destinationClient:
                                  description: >-
                                    The client where the files/folders will
                                    restored to.
                                  type: string
                                jobPriorityOverride:
                                  description: >-
                                    Overrides the recovery job priority with the
                                    specified value.
                                  type: integer
                                  default: -1
                                mediaServer:
                                  description: >-
                                    Specifies the media server to be used for
                                    the restore operation.
                                  type: string
                                overwriteExistingFiles:
                                  description: >
                                    If `true`, overwrites the files/folders if
                                    they exist in the destination location with
                                    the same name.
                                  type: boolean
                                  default: false
                                renameHardLinks:
                                  description: >-
                                    If `true`, renames UNIX hard links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                renameSoftLinks:
                                  description: >-
                                    If `true`, renames UNIX soft links by using
                                    the rename file.
                                  type: boolean
                                  default: false
                                restrictMountPoints:
                                  description: >-
                                    If `true`, restores directories without
                                    crossing mount-points.
                                  type: boolean
                                  default: false
                                server:
                                  description: >-
                                    Specifies the name of the NetBackup primary
                                    server.
                                  type: string
                                restoreAsEnterpriseVaultMigratedData:
                                  description: >-
                                    If `true`, restores Enterprise Vault
                                    migrated data. Enterprise Vault migrated
                                    backups should be used for this restore.
                                  type: boolean
                                  default: false
                                cleanFileRestore:
                                  description: >-
                                    If `true`, restores clean files only,
                                    malware infected files will be skipped.
                                  type: boolean
                                  default: true
                  example:
                    data:
                      type: dataStoreXBSARecoveryRequest
                      attributes:
                        recoveryPoint:
                          client: host1.example.com
                          policyType: DATASTORE
                          startDate: 2017-11-20T23:20:50.000Z
                          endDate: 2018-12-20T23:20:50.000Z
                        recoveryOptions:
                          destinationClient: host1.example.com
                          server: nbuserver.example.com
                          overwriteExistingFiles: true
                          restoreAsEnterpriseVaultMigratedData: true
                          cleanFileRestore: false
                selectionsFile:
                  description: >
                    A file containing a JSON array of the files to be restored
                    with their path and backup time in ISO

                    8601 format.


                    Example:

                    ```

                    [
                      {
                        "path": "/C/Users/john/Desktop/report1.doc",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      },
                      {
                        "path": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "backupTime": "2020-10-23T00:31:00.000Z"
                      }
                    ]

                    ```
                  type: string
                  format: binary
                renameFile:
                  description: >
                    A file containing a JSON array of the file to restore to a
                    different location with the original and

                    destination paths. Optional for Enterprise Vault, but
                    required for all others.


                    Example:

                    ```

                    [
                      {
                        "from": "/C/Users/john/Desktop/Office365_64bit.exe",
                        "to": "/C/Users/john/Downloads/Office365_64bit.exe"
                      }
                    ]

                    ```
                  type: string
                  format: binary
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/{workload}/scenarios/{scenario}/cloudrecover':
    post:
      description: >
        Recover a VMware image from NBU and convert it into cloud.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|CLOUD_RECOVER|`


        A restore from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      parameters:
        - name: workload
          in: path
          description: The type of image which user will recover.
          required: true
          schema:
            type: string
            enum:
              - vmware
        - name: scenario
          in: path
          description: The type of cloud storage in which user will recover image.
          required: true
          schema:
            type: string
            enum:
              - aws
              - azure
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: *ref_67
      responses:
        '201':
          description: A successful response of recovery and conversion job being started.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_68
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The image of backup ID cannot be found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: Internal server error. Failed to recover image.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/kubernetes/scenarios/namespace/recover:
    post:
      description: >
        Recovers a valid Kubernetes namespace.


        **Access Control**\

        Cluster

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified kubernetes_identifier namespace in the API
        response. GET /netbackup/asset-service/queries/queryId)\

        Requires Operation: `|OPERATIONS|ASSETS|KUBERNETES|RESTORE_DESTINATION|`


        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\


        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|KUBERNETES|RECOVER|`


        Permissions to restore malware impacted files:\

        Requires Operation:
        `|OPERATIONS|ASSETS|KUBERNETES|RESTORE_MALWARE_INFECTED|`
      tags:
        - Kubernetes Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: &ref_85
              description: The recovery request schema for Kubernetes namespace recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - recoveryRequest
                    attributes:
                      description: The attributes of the recovery request.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryObject
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point based on the specified
                            options.
                          properties:
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to use for this
                                recovery.
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. Required, if `backupId` is not
                                specified. Cannot be used with `backupId`. If a
                                `filter` is not specified along with `client`,
                                the recovery is performed using the most recent
                                backup image.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Cannot be used along
                                with `backupId`. If more than one backup image
                                matches the filter, NetBackup selects the most
                                recent one. All the filters are based on the
                                OData standard and filtering on the following
                                attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                            copyNumber:
                              type: integer
                              default: 0
                              description: |
                                The copyNumber to use for the recovery.
                        recoveryObject:
                          type: object
                          description: The namespace to recover.
                          required:
                            - destinationCluster
                          properties:
                            destinationCluster:
                              type: string
                              description: The cluster ID to use for the recovery.
                            destinationNamespace:
                              type: string
                              description: |
                                The destination namespace of the restore.
                            includedResources:
                              type: array
                              description: >
                                Resources to include in the restore, formatted
                                as resource.group, such as
                                storageclasses.storage.k8s.io.
                              items:
                                type: string
                                description: >
                                  The resource kind which has to be included
                                  during restore.
                            excludedResources:
                              type: array
                              description: >
                                Resources to exclude from the restore, formatted
                                as resource.group, such as
                                storageclasses.storage.k8s.io.
                              items:
                                type: string
                                description: >
                                  The resource kind which has to be skipped from
                                  restore.
                            includedPersistentVolumeClaims:
                              type: array
                              description: >
                                Persistent volume claims to include in the
                                restore.
                              items:
                                type: object
                                required:
                                  - name
                                  - pvRestoreOnly
                                properties:
                                  name:
                                    type: string
                                    description: |
                                      Name of the persistent volume claim.
                                  targetStorageClass:
                                    type: string
                                    description: >
                                      Storage class name that will be used for
                                      persistent volume claim restore.
                                  size:
                                    type: integer
                                    format: int64
                                    description: |
                                      Size of the persistent volume claim.
                                  pvRestoreOnly:
                                    type: boolean
                                    description: >
                                      If the value is set, the restore will only
                                      perform the Persistent Volume Restore and
                                      its corresponding namespaces Persistent
                                      volume claim will not be restored.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to use for this
                            recovery.
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                Indicates recovery host in the restore.
                                Currently, only the primary server is supported.
                            continueIfNamespaceExists:
                              type: boolean
                              default: false
                              description: >
                                Indicates if the restore operation should
                                continue if the namespace to be restored already
                                exists at the destination cluster with the same
                                name.
                            recoveryFailureStrategy:
                              type: object
                              description: |
                                Describes the recovery failure strategy.
                              properties:
                                type:
                                  default: FAIL_FAST
                                  enum:
                                    - FAIL_FAST
                                    - PROCEED_AHEAD
                                    - RETRY
                                  type: string
                                  description: >
                                    Indicates the strategy name to be used in a
                                    failure during recovery.
                                retryCount:
                                  default: 3
                                  type: integer
                                  description: >
                                    Indicates the total number of restores to
                                    initiate if the failure strategy is set to
                                    the Retry option.
                                  minimum: 2
                                  maximum: 5
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-namespace
                      filter: >-
                        backupTime ge 2019-11-20T23:20:50Z and backupTime le
                        2020-9-20T23:20:50Z
                      copyNumber: 0
                    recoveryObject:
                      destinationCluster: cluster_id
                      destinationNamespace: example-namespace
                      includedResources:
                        - CustomResourceDefinition.apiextensions.k8s.io
                      excludedResources:
                        - VolumeSnapshot.snapshot.storage.k8s.io
                        - Pod
                      includedPersistentVolumeClaims: []
                    recoveryOptions:
                      recoveryHost: recovery-proxy.example.com
                      continueIfNamespaceExists: false
                      recoveryFailureStrategy:
                        type: Retry
                        retryCount: 2
        description: The request for a Kubernetes namespace recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/kubernetes/instant-access-mounts:
    x-in-developement: true
    post:
      description: >
        Creates an instant access mount from the specified kubernetes backup
        image.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|KUBERNETES|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|KUBERNETES|INSTANT_ACCESS_RECOVER|`
      tags:
        - Kubernetes Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The payload to create the instant access mount from the
                kubernetes backup image.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      type: string
                      enum:
                        - instantAccessUnstructuredDataMount
                    attributes:
                      allOf:
                        - *ref_46
                        - type: object
                          required:
                            - recoveryPointId
                          properties:
                            recoveryPointId:
                              type: string
                              description: >
                                The recovery point ID for this instant access
                                recovery.
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: *ref_47
                      id:
                        type: string
                        description: A unique identifier for instant access mount.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - instantAccessUnstructuredDataMount
                      attributes:
                        allOf:
                          - *ref_69
                          - type: object
                            properties:
                              recoveryPointId:
                                type: string
                                description: >-
                                  The recovery point ID for this instant access
                                  recovery.
                      relationships: *ref_49
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is retrieved.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|KUBERNETES|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|KUBERNETES|INSTANT_ACCESS_RECOVER|`
      tags:
        - Kubernetes Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |displayName|eq, ne, contains, startswith, endswith|The name of the
            instant accesss mount.|string|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount (CREATED/EXPORTED)|string|

            |created|eq, ne, gt, ge, lt, le|Instant access mount creation time
            in ISO 8601 format|date-time|

            |protocol|eq, ne, contains, startswith, endswith|instant access
            mount export protocl (NFS/SMB)|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_72
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_47
                        id:
                          type: string
                          description: A unique identifier for instant access mount.
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - instantAccessUnstructuredDataMount
                        attributes: *ref_70
                        relationships: *ref_49
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/kubernetes/instant-access-mounts/{mountId}':
    x-in-developement: true
    parameters:
      - *ref_71
    get:
      description: >
        Information about the instant access mount with the specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|KUBERNETES|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|KUBERNETES|INSTANT_ACCESS_RECOVER|`
      tags:
        - Kubernetes Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                type: object
                required:
                  - data
                properties:
                  data: *ref_72
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|KUBERNETES|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|KUBERNETES|INSTANT_ACCESS_RECOVER|`
      tags:
        - Kubernetes Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/cloud-images/ami-ids:
    get:
      description: >
        Obtains the IDs for Amazon Machine Images (AMI) from Amazon Web Services
        (AWS).


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|IMAGE-SHARE|AMI-IDS|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Image Sharing
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |lsuName|eq|The target Logical Storage Unit (LSU) name of MSDP image
            sharing storage server to retrieve cloud AMI IDs from.|string|

            |host|eq|The target image sharing media server to check.|string|

            |backupID|eq|The backup ID of backup images in cloud
            storage.|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Retrieved the AMI IDs information for image sharing.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_86
                description: AMI IDs which are generated by cloudrecover API from AWS.
                type: object
                required:
                  - data
                properties:
                  data:
                    description: Contains all AMI IDs information for image sharing.
                    type: array
                    items:
                      type: object
                      required:
                        - type
                        - id
                        - attributes
                      properties:
                        type:
                          description: The AMI ID type.
                          type: string
                          enum:
                            - amiID
                        id:
                          description: The unique identifier for AMI.
                          type: string
                        attributes:
                          description: Contains AMI ID information.
                          type: object
                          required:
                            - backupID
                          properties:
                            backupID:
                              type: string
                              description: The backup ID of the AMI.
        '400': *ref_5
        '401': *ref_6
        '500': *ref_27
  /recovery/cloud-images/cloud-vm-ids:
    get:
      description: >
        Obtains the cloud VM IDs which are generated by cloudrecover API.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|IMAGE-SHARE|CLOUD-VM-IDS|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Image Sharing
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |lsuName|eq|The target Logical Storage Unit (LSU) name of MSDP image
            sharing storage server to retrieve cloud VM IDs from.|string|

            |host|eq|The target image sharing media server to check.|string|

            |backupID|eq|The backup ID of backup images in cloud
            storage.|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Retrieved the cloud VM IDs information for image sharing.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_87
                description: Cloud VM IDs which are generated by cloudrecover API.
                type: object
                required:
                  - data
                properties:
                  data:
                    description: Contains all cloud VM IDs information for image sharing.
                    type: array
                    items:
                      type: object
                      required:
                        - type
                        - id
                        - attributes
                      properties:
                        type:
                          description: The cloud VM ID type.
                          type: string
                          enum:
                            - awsAmiId
                            - azureVhdUrl
                        id:
                          description: The unique identifier for cloud VM.
                          type: string
                        attributes:
                          description: Contains cloud VM ID information.
                          type: object
                          oneOf:
                            - &ref_88
                              description: Contains AWS AMI ID information.
                              type: object
                              required:
                                - backupId
                                - awsAmiId
                              properties:
                                backupId:
                                  type: string
                                  description: The backup ID of the cloud VM.
                                awsAmiId:
                                  type: string
                                  description: The AWS AMI ID of the cloud VM.
                            - &ref_89
                              description: Contains Azure VHD URLs information.
                              type: object
                              required:
                                - backupId
                                - azureVhdUrls
                              properties:
                                backupId:
                                  type: string
                                  description: The backup ID of the cloud VM.
                                azureVhdUrls:
                                  type: array
                                  description: The Azure VHD URLs of the cloud VM.
                                  items:
                                    type: object
                                    required:
                                      - seqNo
                                      - url
                                    properties:
                                      seqNo:
                                        description: The VHD sequence number.
                                        type: integer
                                        minimum: 0
                                      url:
                                        description: The URL of the VHD file.
                                        type: string
        '400': *ref_5
        '401': *ref_6
        '500': *ref_27
  '/recovery/restore-log/{id}':
    parameters:
      - name: id
        in: path
        required: true
        description: ID of the restore log file to fetch (same as job ID)
        schema:
          type: string
    get:
      description: >
        Fetch the details of a restore log file.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|USER-LOGS|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Restore Logs
      responses:
        '200':
          description: Successfully returned the restore log file details.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_94
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      id:
                        type: string
                        description: >-
                          The ID value is the ID of file (same as job ID) whose
                          details are being returned.
                      type:
                        type: string
                        enum:
                          - restoreLog
                      attributes:
                        type: object
                        required:
                          - contents
                          - filename
                        properties:
                          contents:
                            description: The restore log file contents by line.
                            type: array
                            items:
                              type: string
                          filename:
                            type: string
                            description: The absolute path of the restore log file .
        '400': *ref_5
        '401': *ref_6
        '404': &ref_73
          description: No entity found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500': *ref_27
    delete:
      description: >
        Deletes the specified restore log file from the server.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|USER-LOGS|`\

        Requires Operation: `|OPERATIONS|DELETE|`
      tags:
        - Restore Logs
      responses:
        '204':
          description: Restore Log file deleted successfully.
        '401': *ref_6
        '404':
          description: The requested restore log file was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500': *ref_27
  '/recovery/restore-log-download/{id}':
    get:
      description: >
        Download the entire restore log file.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|USER-LOGS|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Restore Logs
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the restore log file to download (same as job ID)
          schema:
            type: string
      responses:
        '200':
          description: Successfully downloaded the restore log file.
          content:
            application/vnd.netbackup+octet-stream;version=12.0:
              schema:
                type: string
                format: binary
        '401': *ref_6
        '404': *ref_73
        '406': *ref_8
        '500': *ref_27
  /recovery/check-dr-in-cloud:
    get:
      description: >
        Check if it is disaster recovery NetBackup server in cloud for image
        sharing or not.\

        The following image sharing related APIs should not be called if this
        API returns drInCloud as false:\

        /storage/shared-images\

        /catalog/cloud-images/import\

        /recovery/cloud-images/ami-ids\

        /recovery/cloud-images/cloud-vm-ids\

        /recovery/workloads/{workload}/scenarios/{scenario}/cloudrecover


        **Access Control**\

        Enforcement Type: `None`
      tags:
        - Image Sharing
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |host|eq|The target image sharing media server to check.|string|

            |lsuName|eq|The target Logical Storage Unit (LSU) name of image
            sharing media server to check.|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Retrieved the DR information of the server.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_90
                description: >-
                  The cloud Logical Storage Unit (LSU) DR information of the
                  server.
                type: object
                required:
                  - data
                properties:
                  data:
                    description: >-
                      The DR information of MSDP cloud Logical Storage Unit
                      (LSU) in the NetBackup server.
                    type: array
                    items:
                      type: object
                      required:
                        - type
                        - id
                        - attributes
                      properties:
                        type:
                          description: The response type for the flag.
                          type: string
                          enum:
                            - checkDrInCloudResponse
                        id:
                          description: >-
                            The unique identifier for MSDP cloud Logical Storage
                            Unit (LSU)
                          type: string
                        attributes:
                          description: >-
                            Contains the DR attributes of MSDP cloud Logical
                            Storage Unit (LSU).
                          type: object
                          required:
                            - drInCloud
                            - cloudInstanceName
                            - cloudProviderType
                            - lsuName
                          properties:
                            drInCloud:
                              description: >-
                                the DR flag of this MSDP cloud Logical Storage
                                Unit (LSU) in the NetBackup server.
                              type: boolean
                            cloudInstanceName:
                              description: >-
                                the cloud instance name of this cloud Logical
                                Storage Unit (LSU) in the NetBackup server.
                              type: string
                            cloudProviderType:
                              description: >-
                                the provider type of this cloud Logical Storage
                                Unit (LSU) in the NetBackup server.
                              type: string
                            lsuName:
                              description: >-
                                the name of this cloud Logical Storage Unit
                                (LSU) in the NetBackup server.
                              type: string
        '400': *ref_5
        '401': *ref_6
        '500': *ref_27
  /recovery/workloads/ahv/scenarios/guestfs-agentless/recover:
    post:
      description: >
        Recovers individual files or folders from a AHV VM.


        **Access Control**\

        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A file/folder recovery requires:\

        Requires Operation: `|OPERATIONS|ASSETS|AHV|VM|GRANULAR_RESTORE|`
      tags:
        - AHV Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The recovery request schema for an agentless files or folders
                recovery of a AHV VM.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - vmAgentlessFileRecoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                      properties:
                        recoveryPoint: &ref_74
                          type: object
                          description: >-
                            Selects the recovery point for this recovery
                            operation based on the specified options. This is a
                            mandatory parameter.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup. This value is required if the backup
                                ID is not specified. You cannot use this value
                                along with the backup ID. If a filter is not
                                specified along with the client value, the
                                recovery is performed using the most recent
                                backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery operation. This value is required if
                                the client is not specified. You cannot use this
                                value along with a client or filter.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified filter. This is an optional value.
                                You cannot use this value along with the backup
                                ID. If more than one backup images match the
                                filter, NetBackup includes all of the images
                                within the range. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported.

                                +++ <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a  href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table> +++

                                The filter can be used to specify a time
                                interval, such as backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'. If the filter only
                                specifies the start of the time interval, such
                                as backupTime ge '2016-11-20T23:20:50Z', then
                                the end of the interval is assumed to be the
                                current time. If the filter only specifies the
                                end of the time interval, such as backupTime le
                                '2016-11-20T23:20:50Z', then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the filter is not specified, the end of
                                the time interval is assumed to be the current
                                time and the start of the interval is assumed to
                                be 6 months prior to that.
                        recoveryObject:
                          type: object
                          description: >-
                            Represents the files or folders to be recovered and
                            the destination.
                          required:
                            - vmFiles
                            - vmRecoveryDestination
                          properties:
                            vmFiles:
                              type: array
                              description: >-
                                Represents one or more files or folders to be
                                restored to the guest virtual machine.
                              items:
                                type: object
                                required:
                                  - source
                                properties:
                                  source:
                                    type: string
                                    description: >
                                      The source path of the file or folder to
                                      be restored. The path is case sensitive
                                      and must be in Unix format. Directories
                                      must end with a '/'.
                                  destination:
                                    type: string
                                    description: >
                                      The destination path of the file or folder
                                      to be restored. If the value is not
                                      specified, the default is the original
                                      location or the configured alternate
                                      location directory. The path is case
                                      sensitive and must be in Unix format.
                                      Directories must end with a '/'.
                            alternateLocationDirectory:
                              type: string
                              description: >
                                If set, restores all files or folders to an
                                alternate location directory maintaining
                                existing structures. Overrides the vmFiles
                                destination parameter. If the value is not
                                specified, the destination path is determined by
                                the vmFiles destination parameter. The path is
                                case sensitive.
                            flattenDirectoryStructure:
                              type: boolean
                              default: false
                              description: >
                                If the value is true, only the last element of
                                the source file path will be kept in the
                                destination path. If the value is false, the
                                restored file will keep the same directory
                                structure. You can use this value only when the
                                alternate location directory is specified. This
                                value only applies to files.
                            appendString:
                              type: string
                              description: >-
                                Appends the specified string to the destination
                                file names before any file extension. This value
                                only applies to files.
                            vmRecoveryDestination:
                              type: object
                              description: >-
                                Describes the destination host environment where
                                the files or folders will be recovered to.
                              oneOf:
                                - type: object
                                  description: >-
                                    Describes the agentless recovery SSH
                                    communication method item.
                                  required:
                                    - targetHost
                                    - communicationType
                                    - authenticationDetails
                                    - sshFingerprint
                                  properties:
                                    recoveryHost:
                                      type: string
                                      description: >-
                                        NetBackup host that has connectivity
                                        with the target host to perform the
                                        recovery. If not specified, the default
                                        is the backup host used at the time of
                                        backup.
                                    targetHost:
                                      type: string
                                      description: >-
                                        Target host where you want to restore
                                        the files or folders. Value of the
                                        target host can be FQDN or IP address.
                                    communicationType:
                                      type: string
                                      enum:
                                        - SSH
                                      description: >-
                                        Describes the communication mode as SSH.
                                        If the communication mode is SSH,
                                        provide the SSH attributes.
                                    authenticationDetails:
                                      type: object
                                      description: >-
                                        The authentication details of the target
                                        host.
                                      oneOf:
                                        - &ref_75
                                          type: object
                                          description: >-
                                            An authentication method using SSH
                                            username and password for the target
                                            host.
                                          required:
                                            - authType
                                            - username
                                            - password
                                          properties:
                                            authType:
                                              type: string
                                              enum:
                                                - SSH_USERNAME_PASSWORD
                                            username:
                                              type: string
                                              description: >-
                                                The username of the target host where
                                                the files or folders are restored.
                                            password:
                                              type: string
                                              description: The password of the target host.
                                        - &ref_76
                                          type: object
                                          description: >-
                                            An authentication method using username
                                            and SSH private key for the target host.
                                          required:
                                            - authType
                                            - username
                                            - privateKey
                                          properties:
                                            authType:
                                              type: string
                                              enum:
                                                - SSH_KEY
                                            username:
                                              type: string
                                              description: >-
                                                The username of the target host where
                                                the files or folders are restored.
                                            privateKey:
                                              type: string
                                              description: The SSH private key of the target host.
                                            passphrase:
                                              type: string
                                              description: The passphrase of the SSH private key.
                                    sshFingerprint:
                                      type: string
                                      description: >-
                                        The SSH key fingerprint of the target
                                        host.
                                    sshPort:
                                      type: integer
                                      default: 22
                                      description: The SSH port number of the target host.
                                    targetHostStagingLoc:
                                      type: string
                                      description: >-
                                        The staging location of the target host
                                        for files or folders restore. If not
                                        specified, default will be user's home
                                        directory.
                                - type: object
                                  description: >-
                                    Describes the agentless recovery WMI
                                    communication method item.
                                  required:
                                    - targetHost
                                    - communicationType
                                    - authenticationDetails
                                  properties:
                                    recoveryHost:
                                      type: string
                                      description: >-
                                        NetBackup host that has connectivity
                                        with the target host to perform the
                                        recovery. If not specified, the default
                                        is the backup host used at the time of
                                        backup.
                                    targetHost:
                                      type: string
                                      description: >-
                                        Target host where you want to restore
                                        the files or folders. Value of the
                                        target host can be FQDN or IP address.
                                    communicationType:
                                      type: string
                                      enum:
                                        - WMI
                                      description: Describes the communication mode as WMI.
                                    authenticationDetails:
                                      type: object
                                      description: >-
                                        The authentication details of the target
                                        host.
                                      required:
                                        - authType
                                        - username
                                        - password
                                      properties:
                                        authType:
                                          type: string
                                          enum:
                                            - WMI_USERNAME_PASSWORD
                                        username:
                                          type: string
                                          description: >-
                                            The username of the target host where
                                            the files or folders are restored.
                                        password:
                                          type: string
                                          description: The password of the target host.
                                    targetHostStagingLoc:
                                      type: string
                                      description: >-
                                        The staging location of the target host
                                        for files or folders restore. If not
                                        specified, default will be user's home
                                        directory.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            overwriteExistingFiles:
                              type: boolean
                              default: false
                              description: >
                                If true, overwrites the files or folders if they
                                exist in the destination location with the same
                                name.
                            restrictMountPoints:
                              type: boolean
                              default: false
                              description: >
                                If true, restores directories without crossing
                                mount-points.
                            renameHardLinks:
                              type: boolean
                              default: false
                              description: |
                                If true, renames hard links.
                            renameSoftLinks:
                              type: boolean
                              default: false
                              description: |
                                If true, renames soft links.
              example:
                data:
                  type: vmAgentlessFileRecoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                    recoveryObject:
                      vmFiles:
                        - source: /tmp/example-file.txt
                          destination: /tmp/example-file-restored.txt
                        - source: /tmp/example-notes.txt
                          destination: /var/example-notes.txt
                      alternateLocationDirectory: /root/tmp
                      flattenDirectoryStructure: false
                      appendString: _new
                      vmRecoveryDestination:
                        recoveryHost: recoveryhost.example.com
                        targetHost: targetHostName.com
                        communicationType: SSH
                        authenticationDetails:
                          authType: SSH_USERNAME_PASSWORD
                          username: root
                          password: pwd
                        sshFingerprint: example-Fingerprint
                        sshPort: 3344
                        targetHostStagingLoc: /home/example-location
                    recoveryOptions:
                      overwriteExistingFiles: true
                      restrictMountPoints: true
                      renameHardLinks: true
                      renameSoftLinks: true
        description: >-
          The request to recover files or folders using agentless option from a
          AHV VM.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/ahv/scenarios/guestfs-agentless/pre-recovery-check:
    post:
      description: >
        Performs a pre-recovery check for an agentless file or folder recovery
        of a AHV VM.


        **Access Control**\

        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        A file/folder recovery requires:\

        Requires Operation:
        `|OPERATIONS|ASSETS|NUTANIX-AHV|VM|GRANULAR_RESTORE|`
      tags:
        - AHV Workloads
      security:
        - apiKeyAuth: []
        - jwtAuth: []
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The pre-recovery-check request schema for an agentless files or
                folders recovery of a AHV VM.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the pre-recovery-check request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - vmAgentlessFilePreRecoveryRequest
                    attributes:
                      description: Contains the pre-recovery-check request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryOptions
                      properties:
                        recoveryPoint: *ref_74
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for the
                            pre-recovery-check.
                          oneOf:
                            - type: object
                              description: >-
                                Describes the agentless pre-recovery check using
                                SSH communication method.
                              required:
                                - sizeKB
                                - targetHost
                                - communicationType
                                - authenticationDetails
                                - sshFingerprint
                                - sshPort
                              properties:
                                sizeKB:
                                  type: integer
                                  format: int64
                                  description: >-
                                    The total size of the files or folders to be
                                    restored (in kilobytes).
                                recoveryHost:
                                  type: string
                                  description: >-
                                    NetBackup host that has connectivity with
                                    the target host to perform the recovery. If
                                    not specified, the default is the backup
                                    host used at the time of backup.
                                targetHost:
                                  type: string
                                  description: >-
                                    Target host where you want to restore the
                                    files or folders. Value of the target host
                                    can be FQDN or IP address.
                                communicationType:
                                  type: string
                                  enum:
                                    - SSH
                                  description: >-
                                    Describes the communication mode as SSH. If
                                    the communication mode is SSH, provide the
                                    SSH attributes.
                                authenticationDetails:
                                  type: object
                                  description: >-
                                    The authentication details of the target
                                    host.
                                  oneOf:
                                    - *ref_75
                                    - *ref_76
                                sshFingerprint:
                                  type: string
                                  description: >-
                                    The SSH Fingerprint value of the target
                                    host.
                                sshPort:
                                  type: integer
                                  description: The SSH port number of the target host.
                                targetHostStagingLoc:
                                  type: string
                                  description: >-
                                    The staging location of the target host for
                                    files or folders restore. If not specified,
                                    default will be user's home directory.
                                renameHardLinks:
                                  type: boolean
                                  default: false
                                  description: |
                                    If true, renames hard links.
                                renameSoftLinks:
                                  type: boolean
                                  default: false
                                  description: |
                                    If true, renames soft links.
                            - type: object
                              description: >-
                                Describes the agentless pre-recovery check using
                                WMI communication method.
                              required:
                                - sizeKB
                                - targetHost
                                - communicationType
                                - authenticationDetails
                              properties:
                                sizeKB:
                                  type: integer
                                  format: int64
                                  description: >-
                                    The total size of the files or folders to be
                                    restored (in kilobytes).
                                recoveryHost:
                                  type: string
                                  description: >-
                                    NetBackup host that has connectivity with
                                    the target host to perform the recovery. If
                                    not specified, the default is the backup
                                    host used at the time of backup.
                                targetHost:
                                  type: string
                                  description: >-
                                    Target host where you want to restore the
                                    files or folders. Value of the target host
                                    can be FQDN or IP address.
                                communicationType:
                                  type: string
                                  enum:
                                    - WMI
                                  description: Describes the communication mode as WMI.
                                authenticationDetails:
                                  type: object
                                  description: >-
                                    The authentication details of the target
                                    host.
                                  required:
                                    - authType
                                    - username
                                    - password
                                  properties:
                                    authType:
                                      type: string
                                      enum:
                                        - WMI_USERNAME_PASSWORD
                                    username:
                                      type: string
                                      description: >-
                                        The username of the target host where
                                        the files or folders are restored.
                                    password:
                                      type: string
                                      description: The password of the target host.
                                targetHostStagingLoc:
                                  type: string
                                  description: >-
                                    The staging location of the target host for
                                    files or folders restore. If not specified,
                                    default will be user's home directory.
                                renameHardLinks:
                                  type: boolean
                                  default: false
                                  description: |
                                    If true, renames hard links.
                                renameSoftLinks:
                                  type: boolean
                                  default: false
                                  description: |
                                    If true, renames soft links.
              example:
                data:
                  type: vmAgentlessFilePreRecoveryCheckRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                    recoveryOptions:
                      sizeKB: 64
                      recoveryHost: recoveryhost.example.com
                      targetHost: targetHostName.com
                      communicationType: SSH
                      authenticationDetails:
                        authType: SSH_USERNAME_PASSWORD
                        username: root
                        password: pwd
                      sshFingerprint: example-Fingerprint
                      sshPort: 3344
                      targetHostStagingLoc: /home/example-location
        description: >-
          The pre-recovery check request for agentless file or folder recovery
          of a AHV VM.
        required: true
      responses:
        '200':
          description: List of recovery validation items.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema:
                description: >-
                  The pre-recovery-check response schema for an agentless files
                  or folders recovery of a AHV VM.
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: Describes the recovery validation item.
                      required:
                        - type
                        - id
                        - attributes
                      properties:
                        type:
                          type: string
                          description: The type of the recovery validation.
                          enum:
                            - recoveryValidationItem
                        id:
                          type: string
                          description: The ID of the recovery validation.
                        attributes:
                          type: object
                          description: Describes the validation item.
                          required:
                            - resource
                            - name
                            - result
                          properties:
                            resource:
                              type: string
                              description: >
                                The resource being validated by the validation
                                item.
                              enum:
                                - GENERAL
                                - GENERAL_INFO
                                - RECOVERY_HOST
                                - TARGET_HOST_STAGING_LOCATION
                                - SIZEKB
                                - SSH_FINGERPRINT
                                - TARGET_HOST_USERNAME
                                - TARGET_HOST_PASSWORD
                            name:
                              type: string
                              description: Name of the validation item.
                            result:
                              type: string
                              description: Result of the validation item.
                              enum:
                                - PASS
                                - FAIL
                                - SKIP
                                - INFO
                            description:
                              type: string
                              description: Description of the validation item result.
                example:
                  data:
                    - type: recoveryValidationItem
                      id: 1
                      attributes:
                        name: Recovery host space validation
                        resource: RECOVERY_HOST
                        result: Fail
                        description: >-
                          The recovery host myrecoveryhost.example.com does not
                          have enough space to hold the selected files at
                          staging location /usr/openv/var/tmp. It requires
                          minimum of 900000 KB space.
                    - type: recoveryValidationItem
                      id: 3
                      attributes:
                        name: Target host space validation
                        resource: TARGET_HOST_STAGING_LOCATION
                        result: Skip
                    - type: recoveryValidationItem
                      id: 13
                      attributes:
                        name: Target host connectivity validation
                        resource: TARGET_HOST
                        result: Pass
        '400': *ref_6
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start the pre-recovery check.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/catalog/scenarios/disaster-recovery-file/recover:
    post:
      description: >
        This API is used to initiate an asynchronous job to start the recovery
        of desired catalog data.

        This call returns a requestID that can be used to monitor and retrieve
        results from the job.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|IMAGES|`\

        Requires Operation: `|OPERATIONS|MANAGE|IMAGES|RECOVER-CATALOG|`
      tags:
        - Catalog Recovery
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: &ref_91
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      type: string
                      enum:
                        - catalogRecoveryRequest
                    attributes:
                      type: object
                      required:
                        - backupId
                        - jobPriority
                        - recoveryMethod
                      properties:
                        backupId:
                          type: string
                          description: >-
                            The backup image identifier to use for this
                            recovery.
                        jobPriority:
                          type: integer
                          description: The job priority value for the catalog recovery job.
                          minimum: 0
                          maximum: 99999
                        recoveryMethod:
                          type: string
                          description: The recovery method that was selected.
                          enum:
                            - FULL
                            - PARTIAL
        required: true
      responses:
        '202':
          description: Catalog recovery job successfully initiated.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_92
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - id
                      - type
                      - attributes
                    properties:
                      type:
                        type: string
                        enum:
                          - catalogRecoveryResponse
                      id:
                        type: string
                        description: >-
                          The request ID of the initiated catalog recovery job.>
                          This ID can be used to retrieve the status of the
                          catalog recovery job using the URL API.
                      attributes:
                        type: object
                        required:
                          - logFilePath
                        properties:
                          logFilePath:
                            type: string
                            description: >-
                              The path of the log file that is generated for the
                              catalog recovery.
        '400': *ref_5
        '401': *ref_6
        '500': *ref_27
  /recovery/workloads/catalog/scenarios/disaster-recovery-file/upload:
    post:
      description: >
        Uploads a disaster recovery file to prepare for catalog recovery.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|IMAGES|`\

        Requires Operation: `|OPERATIONS|MANAGE|IMAGES|RECOVER-CATALOG|`
      tags:
        - Catalog Recovery
      requestBody:
        content:
          multipart/vnd.netbackup+form-data;version=12.0:
            schema:
              type: object
              required:
                - disasterRecoveryFile
              properties:
                disasterRecoveryFile:
                  description: >
                    The disaster recovery file containing the catalog
                    information to restore from.
                  type: string
                  format: binary
        required: true
      responses:
        '200':
          description: Successfully uploaded the disaster recovery file.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_93
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - id
                      - type
                    properties:
                      type:
                        type: string
                        enum:
                          - disasterRecoveryFileUploadResponse
                      id:
                        type: string
                        description: >-
                          The backup ID of the disaster recovery image that was
                          uploaded.
        '400':
          description: A required value was not provided.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '401': *ref_6
        '404':
          description: >
            The image that is referred to in the uploaded disaster recovery file
            cannot be found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '415': *ref_9
  /recovery/workloads/standard/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified Standard policy
        backup image.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|STANDARD|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|STANDARD|INSTANT_ACCESS_RECOVER|`
      tags:
        - Standard Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: &ref_78
              description: >-
                The payload to create the instant access mount from the
                MS-Windows and Standard policy backup images.
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: Specify 'instantAccessUnstructuredDataMount' as a type.
                      type: string
                      enum:
                        - instantAccessUnstructuredDataMount
                    attributes:
                      allOf:
                        - *ref_46
                        - type: object
                          required:
                            - fullBackupIds
                          properties:
                            fullBackupIds:
                              type: array
                              items:
                                type: string
                              description: >-
                                The list of image IDs for the full backups that
                                are used to create the instant access mount.
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_79
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - links
                      - id
                      - type
                      - attributes
                    properties:
                      links:
                        type: object
                        properties:
                          self: *ref_47
                      id:
                        type: string
                        description: A unique identifier for instant access mount.
                      type:
                        type: string
                        description: The resource type.
                        enum:
                          - instantAccessUnstructuredDataMount
                      attributes: *ref_69
                      relationships: *ref_49
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|STANDARD|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|STANDARD|INSTANT_ACCESS_RECOVER|`
      tags:
        - Standard Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |displayName|eq, ne, contains, startswith, endswith|The name of the
            instant accesss mount.|string|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount (CREATED/EXPORTED)|string|

            |created|eq, ne, gt, ge, lt, le|Instant access mount creation time
            in ISO 8601 format|date-time|

            |protocol|eq, ne, contains, startswith, endswith|instant access
            mount export protocl (NFS/SMB)|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_80
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_77
                      type: object
                      required:
                        - links
                        - id
                        - type
                        - attributes
                      properties:
                        links:
                          type: object
                          properties:
                            self: *ref_47
                        id:
                          type: string
                          description: A unique identifier for instant access mount.
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - instantAccessUnstructuredDataMount
                        attributes: *ref_70
                        relationships: *ref_49
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/standard/instant-access-mounts/{mountId}':
    parameters:
      - *ref_71
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|STANDARD|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|STANDARD|INSTANT_ACCESS_RECOVER|`
      tags:
        - Standard Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_81
                type: object
                required:
                  - data
                properties:
                  data: *ref_77
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|STANDARD|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|STANDARD|INSTANT_ACCESS_RECOVER|`
      tags:
        - Standard Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/dynamic-nas/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified dynamic-nas policy
        backup image.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|DYNAMIC-NAS|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|DYNAMIC-NAS|INSTANT_ACCESS_RECOVER|`
      tags:
        - NAS Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: *ref_78
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_79
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|DYNAMIC-NAS|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|DYNAMIC-NAS|INSTANT_ACCESS_RECOVER|`
      tags:
        - NAS Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |displayName|eq, ne, contains, startswith, endswith|The name of the
            instant accesss mount.|string|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount (CREATED/EXPORTED)|string|

            |created|eq, ne, gt, ge, lt, le|Instant access mount creation time
            in ISO 8601 format|date-time|

            |protocol|eq, ne, contains, startswith, endswith|instant access
            mount export protocl (NFS/SMB)|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_80
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/dynamic-nas/instant-access-mounts/{mountId}':
    parameters:
      - *ref_71
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|DYNAMIC-NAS|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|DYNAMIC-NAS|INSTANT_ACCESS_RECOVER|`
      tags:
        - NAS Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_81
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|DYNAMIC-NAS|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|DYNAMIC-NAS|INSTANT_ACCESS_RECOVER|`
      tags:
        - NAS Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/ms-windows/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified Standard policy
        backup image.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|MS-WINDOWS|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|MS-WINDOWS|INSTANT_ACCESS_RECOVER|`
      tags:
        - MS-Windows Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: *ref_78
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_79
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|MS-WINDOWS|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|MS-WINDOWS|INSTANT_ACCESS_RECOVER|`
      tags:
        - MS-Windows Workloads
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |displayName|eq, ne, contains, startswith, endswith|The name of the
            instant accesss mount.|string|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount (CREATED/EXPORTED)|string|

            |created|eq, ne, gt, ge, lt, le|Instant access mount creation time
            in ISO 8601 format|date-time|

            |protocol|eq, ne, contains, startswith, endswith|instant access
            mount export protocl (NFS/SMB)|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_80
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/ms-windows/instant-access-mounts/{mountId}':
    parameters:
      - *ref_71
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|MS-WINDOWS|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|MS-WINDOWS|INSTANT_ACCESS_RECOVER|`
      tags:
        - MS-Windows Workloads
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_81
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|MS-WINDOWS|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|MS-WINDOWS|INSTANT_ACCESS_RECOVER|`
      tags:
        - MS-Windows Workloads
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/vmware/scenarios/instant-recovery-vms:
    post:
      description: >
        Activates the instant recovery of a VMware virtual machine.


        **Access Control**\

        Server

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the `data.meta.accessControlId` metadata response
        attribute for the specified vcenter_identifier or esx_identifier or
        restore_esx_identifier namespace in the API response. GET
        /config/servers/vmservers?meta=accessControlId)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|RESTORE_DESTINATION|`


        Asset

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\


        Overwriting the original asset requires both operations:\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|RECOVER|`\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_RECOVERY|`


        A restore from malware-affected images requires the following
        permission:\

        Requires Operation:
        `|OPERATIONS|ASSETS|VMWARE|VM|RESTORE_MALWARE_INFECTED|`
      tags:
        - VMware Workloads
      security:
        - rbacSecurity: []
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The recovery request schema for VMware virtual machine instant
                recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: >-
                        The resource type that must be set to
                        `instantRecoveryRequest`.
                      type: string
                      enum:
                        - instantRecoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryObject
                      properties:
                        recoveryPoint:
                          type: object
                          description: >-
                            Selects the recovery point for this recovery based
                            on specified options. Required.
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier used at the time of
                                backup. Required, if `backupId` is not
                                specified. Cannot be used with `backupId`. If a
                                `filter` is not specified with `client`,
                                recovery is performed using the most recent
                                backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required, if `client` is not
                                specified. Cannot be used along with `client`
                                and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                            copyNumber:
                              type: integer
                              description: >-
                                The copy number to be used for recovery. If it
                                is not specified, the primary copy is used.
                        recoveryObject:
                          type: object
                          description: Indicates the virtual machine to be recovered.
                          properties:
                            vmDisplayName:
                              type: string
                              description: >
                                The display name of the virtual machine. Must
                                not contain more than 80 characters. If not
                                specified, the default is the one used at the
                                time of backup.
                            vmDisks:
                              type: array
                              description: >
                                Represents one or more virtual machine disks. If
                                not specified, the default is the disk or disks
                                used at the time of backup.
                              items:
                                type: object
                                properties:
                                  source:
                                    type: string
                                    description: >-
                                      The source path of the virtual machine
                                      disk.
                                  destination:
                                    type: string
                                    description: >-
                                      The destination datastore of the virtual
                                      machine disk.
                            vmEnvironment:
                              type: object
                              description: >
                                Describes the VMware environment where this
                                virtual machine is to be recovered. If not
                                specified, the default is the one used at the
                                time of backup.
                              properties:
                                vCenter:
                                  type: string
                                  description: >
                                    The vCenter server name. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                esxiServer:
                                  type: string
                                  description: >
                                    The ESXi server name. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                datacenter:
                                  type: string
                                  description: >
                                    The datacenter path. Must begin with a
                                    forward slash '/'. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                vmFolder:
                                  type: string
                                  description: >
                                    The VM folder path. Must begin with a
                                    forward slash '/'. If not specified, the
                                    default is the one used at the time of
                                    backup.
                                resourcePoolOrVapp:
                                  type: string
                                  description: >
                                    The resource pool or vApp path. Must begin
                                    with a forward slash '/'. If not specified,
                                    the default is the one used at the time of
                                    backup.
                                vmxDatastore:
                                  type: string
                                  description: >
                                    The name of the datastore to restore the VMX
                                    file to. If not specified, the default is
                                    the one used at the time of backup.
                                temporaryDatastore:
                                  type: string
                                  description: >
                                    The temporary datastore on the VM host
                                    server where all the writes occur until the
                                    Storage vMotion is complete or until you are
                                    done with the virtual machine.
                                network:
                                  type: string
                                  description: >
                                    The VM network name. Multiple VM networks
                                    can be specified using comma-separated
                                    values. If multiple VM networks are
                                    specified, they are attached to the
                                    recovered VM in the specified order. The
                                    default is the VM network or networks that
                                    were used at the time of backup.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            recoveryHost:
                              type: string
                              description: >
                                The server that is to be used as the VM recovery
                                host to perform this recovery. If not specified,
                                the default is the one used at the time of
                                backup.
                            powerOnAfterRecovery:
                              type: boolean
                              default: false
                              description: >
                                If `true`, the VM is powered on after the
                                recovery. If `false`, the VM remains powered off
                                after the recovery. If not specified, the VM
                                remains powered off after the recovery.
                            retainBiosUuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same BIOS
                                UUID as it had at the time of backup. If
                                `false`, recovers the VM with a newly assigned
                                BIOS UUID. If not specified, recovers the VM
                                with the same BIOS UUID as it had at the time of
                                backup.
                            retainInstanceUuid:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same
                                instance UUID (vCenter-specific unique
                                identifier) as it had at the time of backup. If
                                `false`, recovers the VM with a newly assigned
                                instance UUID. If not specified, recovers the VM
                                with the same instance UUID as it had at the
                                time of backup. If the VM is being recovered to
                                a standalone ESXi host, this option is ignored.
                                If another VM with the same instance UUID exists
                                at the destination, vCenter server assigns a new
                                UUID to the VM.
                            retainHardwareVersion:
                              type: boolean
                              default: true
                              description: >
                                If `true`, recovers the VM with the same
                                hardware version as it had at the time of
                                backup. If `false`, recovers the VM with the
                                default hardware version for the destination
                                ESXi server. If not specified, recovers the VM
                                with the same hardware version as it had at the
                                time of backup.
                            removeNetworkInterfaces:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any network interfaces
                                attached to the VM after recovery. If `false`,
                                retains the network interfaces attached to the
                                VM after recovery. If not specified, retains the
                                network interfaces attached to the VM after
                                recovery.
                            removeBackingInformation:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any mounted removable devices
                                (such as CD-ROM or DVD-ROM images) attached to
                                the VM. If `false`, retains the mounted
                                removable devices attached to the VM. If not
                                specified, retains the mounted removable devices
                                attached to the VM.
                            removeTagAssociations:
                              type: boolean
                              default: false
                              description: >
                                If `true`, removes any associated VMware tags
                                from this VM. If `false`, retains the associated
                                VMware tags for this VM. If not specified,
                                retains the associated VMware tags for this VM.
                            recoverToVmxDatastore:
                              type: boolean
                              default: false
                              description: >
                                If `true`, recovers the VMDK files to the same
                                datastore as the VMX file. If `false`, recovers
                                the VMDK files to their original location at the
                                time of backup. If not specified, recovers the
                                VMDK files to their original location at the
                                time of backup. If a different virtual disk
                                destination path is assigned in vmEnvironment
                                section, it overrides this option.
              example:
                data:
                  type: instantRecoveryRequest
                  attributes:
                    recoveryPoint:
                      client: example-vm
                      filter: >-
                        backupTime ge '2016-11-20T23:20:50Z' and backupTime le
                        '2016-12-20T23:20:50Z'
                      copyNumber: 2
                    recoveryObject:
                      vmDisplayName: copy-of-example-vm
                      vmDisks:
                        - source: /example-DS1/example-vm/example-disk1.vmdk
                          destination: /example-DS2/example-vm/example-disk1.vmdk
                        - source: /example-DS1/example-vm/example-disk2.vmdk
                          destination: /example-DS2/example-vm/example-disk2.vmdk
                      vmEnvironment:
                        vCenter: vcenter-server.example.com
                        esxiServer: esx-server.example.com
                        datacenter: /example-DC
                        vmFolder: /example-DC/vm
                        resourcePoolOrVapp: >-
                          /example-DC/host/esx.example.com/Resources/example-res-pool
                        vmxDatastore: example-DS
                        temporaryDatastore: datastore1
                        network: VM Network
                    recoveryOptions:
                      recoveryHost: recovery-proxy.example.com
                      powerOnAfterRecovery: true
                      recoverToVmxDatastore: true
                      removeBackingInformation: true
                      removeNetworkInterfaces: true
                      removeTagAssociations: true
                      retainHardwareVersion: true
                      retainInstanceUuid: true
                      retainBiosUuid: true
        description: >-
          The request body has the options required to activate a VMware virtual
          machine instant recovery.
        required: true
      responses:
        '201':
          description: The instant recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created instant recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '405': *ref_7
    get:
      description: >
        Retrieves the list of all the ongoing VMware virtual machine instant
        recovery operations.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_RECOVERY|`
      tags:
        - VMware Workloads
      security:
        - rbacSecurity: []
      responses:
        '200':
          description: >-
            Retrieved the list of all the ongoing VMware virtual machine instant
            recovery operations.
          headers:
            Location:
              description: Contains the link to the created instant recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: &ref_84
                description: The active instant recovery id list response.
                type: object
                required:
                  - data
                properties:
                  data:
                    description: Contains the active instant recovery id Array.
                    type: array
                    items:
                      type: object
                      description: Represents the virtual machine being recovered.
                      properties:
                        type:
                          description: >-
                            The resource type that must be set to
                            `instantRecoveryInfo`.
                          type: string
                          enum:
                            - instantRecoveryInfo
                        id:
                          description: The active instanst recovery id.
                          type: integer
                          format: int64
                        attributes:
                          description: Contains the pre-recovery-check request attributes.
                          type: object
                          properties:
                            instantRecoveryId:
                              type: integer
                              format: int64
                              description: Represents the active instanst recovery id.
                            vmDisplayName:
                              type: string
                              description: >-
                                The display name of the instant recovery virtual
                                machine.
                            vCenter:
                              type: string
                              description: The vCenter server name. .
                            esxiServer:
                              type: string
                              description: The ESXi server name.
                            diskMediaServer:
                              type: string
                              description: >-
                                The media server that is to be used to perform
                                this recovery.
                            backupId:
                              type: string
                              description: >-
                                The backup image identifier to be used for this
                                recovery.
                            vmType:
                              type: string
                              description: Represents the active instanst recovery id.
                            tempLocation:
                              type: string
                              description: >-
                                The temporary datastore on the VM host server
                                where all the writes occur until the Storage
                                vMotion is complete or until you are done with
                                the virtual machine.
                            vmUuid:
                              type: string
                              description: >-
                                The UUID of the instant recovery virtual
                                machine.
                            netBackupDatastore:
                              type: string
                              description: >-
                                NetBackup created datastore for performing the
                                instant recovery.
                example:
                  data:
                    - type: instantRecoveryInfo
                      id: 1
                      attributes:
                        instantRecoveryId: 1
                        vmDisplayName: originalVM_resotre_vm
                        vCenter: vcenter.xyz.com
                        esxiServer: exsiserver.abc.com
                        diskMediaServer: media.xyz.com
                        backupId: 503a771f-b879-2bf2-ea2a-151d841eac44_1628569113
                        vmType: VMware
                        tempLocation: datastore_2
                        vmUuid: 503a771f-b879-2bf2-ea2a-151d841eac44
                        netBackupDatastore: NBU_IR_ucsm5b45-vm151_10
        '401': *ref_6
        '405': *ref_7
  '/recovery/workloads/vmware/scenarios/instant-recovery-vms/{instantRecoveryId}/deactivate':
    post:
      description: >
        Deactivates the VMware virtual machine instant recovery operation.
        Removes the virtual machine from the ESX

        host. If no other virtual machine uses the NetBackup NFS datastore, this
        option removes that datastore and

        releases its resources on the NetBackup media server. This option is for
        removing the virtual machine after you

        have finished copying its files and do not intend to keep the machine.


        Note: If the virtual machine has been migrated to a production datastore
        using vMotion, this API is the same as

        the `complete` API.


        Note: If vMotion is still in progress for this virtual machine, you
        should cancel the vMotion job before you use

        this API.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_RECOVERY|`
      tags:
        - VMware Workloads
      security:
        - rbacSecurity: []
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: {}
      parameters:
        - name: instantRecoveryId
          in: path
          description: >-
            This is the virtual machine's numeric identifier from the `GET`
            instant-recovery-vms API response.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Deactivation completed.
        '401': *ref_6
        '404':
          description: The specified instant recovery ID was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
  '/recovery/workloads/vmware/scenarios/instant-recovery-vms/{instantRecoveryId}/complete':
    post:
      description: >
        Completes the VM instant recovery job after the data is migrated. When
        vMotion migration of the virtual machine

        finishes, this option completes the virtual machine instant recovery
        job. It also removes the NetBackup NFS

        datastore if no other virtual machine uses it. When the datastore is
        removed, its resources are released on the

        media server.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_RECOVERY|`
      tags:
        - VMware Workloads
      security:
        - rbacSecurity: []
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: {}
      parameters:
        - name: instantRecoveryId
          in: path
          description: >-
            This is the virtual machine's numeric identifier from the `GET`
            instant-recovery-vms API response.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: VM instant recovery job completed.
        '401': *ref_6
        '404':
          description: The specified instant recovery ID was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
  '/recovery/workloads/vmware/scenarios/instant-recovery-vms/{instantRecoveryId}/reactivate':
    post:
      description: >
        Reactivates the VMware virtual machine instant recovery operation that
        was interrupted during recovery.

        Remounts the NetBackup NFS datastore, and from the temporary datastore
        on the ESX host it registers the restored

        virtual machines on the ESX host.


        **Access Control**\

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: (Reference the
        `data.attributes.commonAssetAttributes.accessControlId` attribute in the
        asset-service response, for the object-level namespace)\

        Requires Operation: `|OPERATIONS|ASSETS|VMWARE|VM|INSTANT_RECOVERY|`
      tags:
        - VMware Workloads
      security:
        - rbacSecurity: []
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: {}
      parameters:
        - name: instantRecoveryId
          in: path
          description: >-
            This is the virtual machine's numeric identifier from the `GET`
            instant-recovery-vms API response.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Reactivation completed.
        '401': *ref_6
        '404':
          description: The specified instant recovery ID was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
  /recovery/workloads/cassandra/scenarios/cluster/recover:
    post:
      description: >
        Recovers keyspaces and column families from Cassandra images to
        Cassandra cluster.


        **Access Control**


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|CASSANDRA|`\


        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|CASSANDRA|RECOVER|`
      tags:
        - Cassandra Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for Cassandra recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type that must be set to `recoveryRequest`.
                      type: string
                      enum:
                        - recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                      properties:
                        recoveryPoint:
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options. Required.
                          type: object
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup.

                                Required, if `backupId` is not specified. Cannot
                                be used along with `backupId`.

                                If a `filter` is not specified along with
                                `client`, recovery will be performed using the
                                most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. 

                                The backup image represents a group of images or
                                full and chain of underlying incremental images.

                                Required, if `client` is not specified. Cannot
                                be used along with `client` and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be
                                used 

                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup includes all
                                of 

                                the images within the range. All the filters are
                                based on the OData standard and filtering on
                                the 

                                following attributes is supported.

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                interval, such as 

                                `backupTime ge '2016-11-20T23:20:50Z' and
                                backupTime le '2016-12-20T23:20:50Z'`. 

                                If the `filter` only specifies the start of the
                                time interval, such as 

                                `backupTime ge '2016-11-20T23:20:50Z'`, then the
                                end of the interval is assumed

                                to be the current time. If the `filter` only
                                specifies the end of the time interval, 

                                such as `backupTime le '2016-11-20T23:20:50Z'`,
                                then the start of the interval is 

                                assumed to be 6 months prior to that. If the
                                `filter` is not specified, the end of 

                                the time interval is assumed to be the current
                                time and the start of the interval 

                                is assumed to be 6 months prior to that. 
                        recoveryObject:
                          description: Details of the new cluster for backup recovery.
                          type: object
                          properties:
                            clusterNewName:
                              description: >-
                                The display name of the alternate cluster
                                server.
                              type: string
                              maxLength: 255
                        recoveryOptions:
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          type: object
                          required:
                            - backupHost
                            - restoreSelections
                          properties:
                            backupHost:
                              type: string
                              description: >
                                The server that is to be used as the Cassandra
                                backup host to perform this recovery.

                                If not specified, the default is the one used at
                                the time of backup.
                            additionalBackupHosts:
                              type: array
                              items:
                                type: string
                              uniqueItems: true
                              description: >
                                The list of servers that is to be used as the
                                Cassandra backup host to perform this recovery.

                                If not specified, no additional backup hosts
                                will be applicable.
                            overwrite:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the cluster and its
                                associated resources, if they already exist with
                                the same name.

                                If `false`, does not overwrite the cluster and
                                its associated resources, if they already exist
                                with the same name.

                                If not specified, does not overwrite the cluster
                                and its associated resources, if they already
                                exist with the same name.

                                This option is not applicable for instant
                                recovery.
                            restoreSelections:
                              description: Represents the restore selection criteria.
                              type: object
                              required:
                                - selectionType
                              properties:
                                selectionType:
                                  type: string
                                  enum:
                                    - ALL_KEYSPACES
                                    - GRANULAR
                                selectionCriteria:
                                  description: >-
                                    Represents the list of selected keyspace and
                                    columnFamilies to be restored when
                                    selectionType is GRANULAR.
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      keyspace:
                                        type: string
                                      columnFamilies:
                                        type: array
                                        items:
                                          type: string
                        alternateRecoveryOptions:
                          type: array
                          items:
                            type: object
                            description: >
                              New name to be given for list of selected keyspace
                              and columnFamilies while restore.
                            properties:
                              keyspace:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  newName:
                                    type: string
                              columnFamilies:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                    newName:
                                      type: string
                              strategy:
                                type: object
                                properties:
                                  name:
                                    type: string
                                    enum:
                                      - SIMPLE
                                      - NETWORK
                                  replica:
                                    type: integer
                                  dataCenters:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        name:
                                          type: string
                                        replica:
                                          type: integer
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: >-
                        prodcluster1_cassandra-source-client-name-from-images-to-search
                      filter: |-
                        backupTime ge '2020-11-20T23:20:50Z' and backupTime le
                        '2020-12-20T23:20:50Z'
                      backupId: p763995f3-3dd5-4ea5-adf7-4868bd22c91c_10.1.21.24
                    recoveryObject:
                      clusterNewName: prodcluster2_alternateServer
                    recoveryOptions:
                      backupHost: nbu-backup-host1
                      additionalBackupHosts:
                        - nbu-backup-host2
                        - nbu-backup-host3
                        - nbu-backup-host4
                      overwrite: true
                      restoreSelections:
                        selectionType: GRANULAR
                        selectionCriteria:
                          - keyspace: ks_university1
                            columnFamilies:
                              - cf_student1
                              - cf_faculty1
                          - keyspace: ks_university2
                            columnFamilies:
                              - cf_student2
                    alternateRecoveryOptions:
                      - keyspace:
                          name: ks_university1
                          newName: ks_university1_new
                        columnFamilies:
                          - name: cf_student1
                            newName: cf_student1_new
                          - name: cf_faculty1
                            newName: cf_faculty1_new
                        strategy:
                          name: SIMPLE
                          replica: 1
                      - keyspace:
                          name: ks_university2
                          newName: ks_university2_new
                        columnFamilies:
                          - name: cf_student2
                            newName: cf_student2_new
                        strategy:
                          name: NETWORK
                          dataCenters:
                            - name: dc1
                              replica: 5
                            - name: dc2
                              replica: 3
        description: >-
          The request to recover files or folders using the NetBackup client
          from a Cassandra cluster.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400':
          description: >-
            Some mandatory attributes were not found or the specified client,
            backup image, or the input JSON was invalid.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '401': *ref_6
        '404':
          description: The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/bigdata-mongodb/scenarios/cluster/recover:
    post:
      description: >
        Recovers MongoDB cluster to the same or alternate cluster.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|MONGODB|`

        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|MONGODB|RECOVER|`
      tags:
        - Big Data MongoDB Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery request schema for MongoDB recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type that must be set to `recoveryRequest`.
                      type: string
                      enum:
                        - recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryOptions
                      properties:
                        recoveryPoint:
                          description: >-
                            Selects the recovery point for this recovery based
                            on the specified options.
                          type: object
                          required:
                            - client
                          properties:
                            client:
                              type: string
                              description: >
                                The client identifier that was used at the time
                                of backup.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`.

                                If more than one backup images match the filter,
                                NetBackup includes all of the images within the
                                range. 

                                All the filters are based on the OData standard
                                and filtering on the following attributes is
                                supported. 

                                <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>
                        recoveryOptions:
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          type: object
                          required:
                            - backupHost
                            - restoreSelections
                          properties:
                            backupHost:
                              type: string
                              description: >
                                The server that is to be used as the MongoDB
                                backup host to perform this recovery.
                            restoreOnly:
                              description: >
                                If `true`, then restore only operation is
                                performed. For restore and recover operation set
                                the option to `false`.
                              type: boolean
                              default: false
                            recoverPointInTime:
                              description: >-
                                The point in time to which the database should
                                be recovered.
                              type: string
                              format: date-time
                            restoreSelections:
                              description: >-
                                A list of files to be recovered. The list must
                                contain comma separated
                                MongoDbHostname:MongoDBbPort entries of all the
                                MongoDB nodes.
                              type: array
                              items:
                                type: string
                            renameList:
                              description: >
                                A list of original and destination
                                MongoDbHostname:MongoDBbPort/dbpath entries for
                                an alternate location restore.

                                For the scenarios when the client
                                (MongoDBnode-port) that is defined in the
                                Clients tab of the backup policy is not
                                available

                                and a restore to a different client in the same
                                MongoDB cluster (MongoDBnode-port) is required
                                then the `to` key should have

                                ALT_APPLICATION_SERVER=MongoDBnode-port.

                                If the application_server (Host1-port1) is
                                different from the target application_server
                                (Host2:Port2), the rename entry

                                must contain ALT_APPLICATION_SERVER=Host2:Port2

                                Example:

                                If the Source Client that is defined in the
                                backup policy is endu79-26050, and the backup
                                was done from the MongoDB node endu79-26055.

                                In this scenario, as part of restore and
                                recovery, append endu79:26055 as
                                follows:ALT_APPLICATION_SERVER=endu79:26055.

                                `"from": "/endu79:26055/"`

                                `"to": "/endu79:26055/
                                ALT_APPLICATION_SERVER=endu79:26055"`
                              type: array
                              items:
                                type: object
                                properties:
                                  from:
                                    description: >-
                                      Specifies the source
                                      MongoDbHostname:MongoDBbPort/dbpath.
                                    type: string
                                  to:
                                    description: >-
                                      Specifies the destination
                                      MongoDbHostname:MongoDBbPort/dbpath.
                                    type: string
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      client: cluster_mongodb-source-client-name-from-images-to-search
                      filter: >-
                        backupTime ge '2022-11-20T23:20:50Z' and backupTime le
                        '2022-12-20T23:20:50Z'
                    recoveryOptions:
                      backupHost: nbu-backup-host
                      restoreOnly: false
                      recoverPointInTime: 2020-11-20T23:20:50.000Z
                      restoreSelections:
                        - '/punnbuucsm5b29-v02.vxindia.veritas.com:28000/'
                        - '/punnbuucsm5b29-v02.vxindia.veritas.com:29000/'
                      renameList:
                        - from: '/punnbuucsm5b29-v02.vxindia.veritas.com:28000/rs2/'
                          to: '/punnbuucsm5b29-v03.vxindia.veritas.com:25000/rs1/'
                        - from: '/punnbuucsm5b29-v02.vxindia.veritas.com:29000/rs3/'
                          to: '/punnbuucsm5b29-v03.vxindia.veritas.com:26000/rs1/'
        description: The request for MongoDB cluster recover.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400':
          description: >-
            Some mandatory attributes were not found or the specified client,
            backup image, or the input JSON was invalid.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '401': *ref_6
        '404':
          description: The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud-object-store/scenarios/object/recover:
    post:
      description: >
        Recovers objects/blobs from cloud account.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)


        Asset

        Namespace: `|ASSETS|CLOUD-OBJECT-STORE|`


        Overwriting the original asset requires both operations:\

        Requires Operation: `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|RESTORE|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|RESTORE_OVERWRITE|`


        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|RESTORE_DESTINATION|`


        Permissions to restore malware impacted files:\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Object Store
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: >-
                The recovery request schema for an cloud objects or blobs
                recovery.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - cloudObjectStoreRecoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryObject
                        - recoveryPoint
                        - recoveryOptions
                      properties:
                        recoveryPoint:
                          type: object
                          required:
                            - recoveryType
                            - provider
                            - cloudObjectStoreAccount
                          description: >
                            Selects the recovery point for this recovery based
                            on the specified options. Required.
                          properties:
                            recoveryType:
                              type: string
                              enum:
                                - RESTORE_TO_ORIGINAL
                                - RESTORE_TO_DIFFERENT_BUCKET
                                - RESTORE_EACH_TO_DIFFERENT_LOCATION
                              description: |
                                type of objects/blobs restore operation.
                            bucket:
                              type: string
                              description: >
                                For NetBackup version 10.3 or earlier, use the
                                bucket or container identifier that was used at
                                the time of backup. For newer NetBackup
                                versions, the value of the bucket name will be
                                PGID, if the parameter bucketIdentifierType is
                                specified as PGID, in the recoveryOptions. You
                                can  retrieve the PGID from GET assets API with
                                `filter` assetType as bucket (Sample URL - 
                                `/netbackup/asset-service/workloads/cloud-object-store/assets?filter=assetType
                                eq  'assetBucket'`). The format of the PGID is
                                workload_provider_cosaAccName_uniqueName.
                                Required, if `backupId` is not specified. Cannot
                                be used along with `backupId`. If a `filter` is
                                not specified along with `bucket`, recovery will
                                be performed using the most recent backup image.
                            backupId:
                              type: string
                              description: >
                                The backup image identifier to be used for this
                                recovery. Required, if `bucket` is not
                                specified. Cannot be used along with `bucket`
                                and `filter`.
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. Optional. Cannot be used
                                along with `backupId`. If more than one backup
                                images match the filter, NetBackup includes all
                                of the images within the range. All the filters
                                are based on the OData standard and filtering on
                                the following attributes is supported.
                            provider:
                              type: string
                              description: |
                                The name of cloud object storage provider.
                            cloudObjectStoreAccount:
                              type: string
                              description: >
                                The name of cloud object store account used at
                                the time of backup. +++ <table border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table> +++

                                The `filter` can be used to specify a time
                                interval, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time interval, such
                                as `backupTime ge '2016-11-20T23:20:50Z'`, then
                                the end of the interval is assumed to be the
                                current time. If the `filter` only specifies the
                                end of the time interval, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                interval is assumed to be 6 months prior to
                                that. If the `filter` is not specified, the end
                                of the time interval is assumed to be the
                                current time and the start of the interval is
                                assumed to be 6 months prior to that.
                        recoveryObject:
                          type: object
                          description: >
                            Represents the objects/blobs to be recovered and the
                            destination. This will be empty if `includeAll` is
                            set to `true`.
                          properties:
                            includeAll:
                              type: boolean
                              default: false
                              description: >-
                                if `true`, all the objects/blobs in the backup
                                will be selected for restore.
                            objects:
                              type: array
                              description: >-
                                Represents one or more objects/blobs to be
                                restored to the destination bucket.
                              items:
                                type: object
                                required:
                                  - typeOfObject
                                  - source
                                properties:
                                  typeOfObject:
                                    type: string
                                    enum:
                                      - FOLDER
                                      - OBJECT
                                      - PREFIX
                                    description: >
                                      type of object can be folder, Object or
                                      prefix
                                  source:
                                    type: string
                                    description: >
                                      for object, source will be name of object
                                      to be restored for folder, name of the
                                      source folder, all objects under which
                                      will be restored for prefix, name of the
                                      source prefix, objects matching the prefix
                                      will be restored
                                  destination:
                                    type: string
                                    description: >
                                      for object, name using which object will
                                      be restored for folder, source folder for
                                      all objects will be replaced by specified
                                      destination folder for prefix, source
                                      prefix will be replaced by destination
                                      prefix for all objects
                                  destinationBucket:
                                    type: string
                                    description: >
                                      If selected, then all the objects will be
                                      restored in selected bucket. For
                                      NetBackup  version 10.3 or earlier, use
                                      the bucket name and for newer NetBackup
                                      versions, the  value of the bucket name
                                      will be PGID, if the parameter
                                      bucketIdentifierType is specified as PGID,
                                      in the recoveryOptions. You can retrieve
                                      the PGID from GET assets API with filter
                                      assetType as bucket (Sample URL -
                                      `/netbackup/asset-service/workloads/cloud-object-store/assets?filter=assetType
                                      eq 'assetBucket'`). The format of the PGID
                                      is
                                      workload_provider_cosaAccName_uniqueName.
                                      Default will be the original bucket from
                                      where objects/blobs are backed up.
                                  backupTime:
                                    type: string
                                    description: >
                                      Backup time of the object/folder/prefix.
                                      If multiple images are selected or filter
                                      value is provided in recoveryPoint then
                                      only this field is required.
                            size:
                              type: string
                              default: SMALL
                              enum:
                                - SMALL
                                - MEDIUM
                                - LARGE
                              description: >
                                size of objects to be restored. Default is
                                SMALL. MEDIUM upto 1 TB. LARGE > 1TB.
                            addPrefix:
                              type: string
                              description: >-
                                add the specified string to the destination
                                objects/blobs names before any object/blob name.
                                This is not applicable for restores to Azure
                                Data Lake Storage.
                            jobPriority:
                              type: integer
                              description: >-
                                The job priority value for the cloud object
                                store recovery job.
                              minimum: 0
                              maximum: 99999
                            cloudObjectStoreRecoveryDestination:
                              type: object
                              description: >-
                                Describes the recovery host and cloud
                                destination details where objects/blobs to be
                                restored.
                              required:
                                - recoveryHost
                                - defaultBucket
                              properties:
                                recoveryHost:
                                  type: string
                                  description: >-
                                    The server that is to be used as the cloud
                                    recovery host to perform this recovery. If
                                    not specified, the default is the one used
                                    at the time of backup.
                                cloudObjectStoreAccount:
                                  type: string
                                  description: >-
                                    describes the storage account where the
                                    objects/blobs to be restored. if not
                                    specified original storage account is used
                                    if exist.
                                defaultBucket:
                                  type: string
                                  description: >-
                                    For NetBackup version 10.3 or earlier, use
                                    the bucket name and for newer NetBackup
                                    versions, the value of the bucket name will
                                    be PGID, if the parameter
                                    bucketIdentifierType is specified as PGID,
                                    in the recoveryOptions. You can retrieve the
                                    PGID from GET assets API with filter
                                    assetType as bucket (Sample URL -
                                    `/netbackup/asset-service/workloads/cloud-object-store/assets?filter=assetType
                                    eq 'assetBucket'`). The format of the PGID
                                    is workload_provider_cosaAccName_uniqueName,
                                    where objects/blobs to be restored. If it is
                                    not provided then restore will be done on
                                    original bucket.
                                alternateDirectoryLocation:
                                  type: string
                                  description: >-
                                    Describes the destination directory location
                                    within the cloudObjectStoreAccount where the
                                    files/directories will be restored. This is
                                    only applicable for restores to Azure Data
                                    Lake Storage. If the alternate directory
                                    location does not exist then it would be
                                    created during restore.
                        recoveryOptions:
                          type: object
                          description: >-
                            Describes the recovery options to be used for this
                            recovery.
                          properties:
                            overwriteExistingObjects:
                              type: boolean
                              default: false
                              description: >
                                If `true`, overwrites the objects/blobs if they
                                exist in the destination location with the same
                                name.
                            bucketIdentifierType:
                              type: string
                              enum:
                                - PGID
                              description: >
                                Identifier type specified for the bucket. If
                                specified, the value of the bucket name wherever
                                applicable will be PGID.
                            advancedRecoveryOptions:
                              type: object
                              description: Describes the advanced options for recovery.
                              properties:
                                retainOriginalObjectLockProperties:
                                  type: boolean
                                  default: false
                                  description: >
                                    If `true`, retains the original object lock
                                    properties that were existing during backup.
                                    Cannot be used along with
                                    `customObjectLockProperties`.
                                customObjectLockProperties:
                                  type: object
                                  description: >-
                                    Describes the custom properties for object
                                    lock.
                                  properties:
                                    objectLockMode:
                                      type: string
                                      description: >
                                        Any Object lock mode used for this
                                        object. Object lock modes supported for
                                        Azure: Locked, Unlocked, for S3
                                        providers: Governance, and Compliance.
                                        If specified,
                                        `objectLockRetainUntilDate` is required.
                                    objectLockRetainUntilDate:
                                      type: string
                                      description: >
                                        The date and time when the Object lock
                                        retention period expires, in ISO 8601
                                        format. If specified, `objectLockMode`
                                        is required.
                                    objectLockLegalHoldStatus:
                                      type: boolean
                                      default: false
                                      description: >
                                        If `true`, it implies a legal hold is in
                                        use for this object.
                            malwareScanOptions: *ref_66
              example:
                data:
                  type: cloudObjectStoreRecoveryRequest
                  attributes:
                    recoveryPoint:
                      recoveryType: RESTORE-TO_ORIGINAL
                      bucket: bucket-name
                      backupId: example_backupid_xyz_1646739537
                      filter: >-
                        backupTime ge '2022-06-20T05:48:17.000Z' and backupTime
                        le '2022-06-20T05:56:05.000Z'
                      provider: provider-name
                      cloudObjectStoreAccount: storage-account-name
                    recoveryObject:
                      includeAll: false
                      objects:
                        - type: FOLDER/PREFIX/OBJECT
                        - source: source/path.txt
                        - destination: destination/path
                        - destinationBucket: target-bucket
                        - backupTime: 2022-06-20T05:48:17.000Z
                      size: SMALL/MEDIUM/LARGE
                      addPrefix: prefix-for-objects
                      jobPriority: 999
                      cloudObjectStoreRecoveryDestination:
                        DefaultBucket: default-bucket-name
                        cloudObjectStoreAccount: storage-account-name
                        recoveryHost: recoveryhost.example.com
                        alternateDirectoryLocation: /dir1/subdir1
                    recoveryOptions:
                      overwriteExistingObjects: true
                      bucketIdentifierType: PGID
                      advancedRecoveryOptions:
                        retainOriginalObjectLockProperties: true
                        customObjectLockProperties:
                          objectLockMode: lock-mode
                          objectLockRetainUntilDate: 2022-06-20T05:48:17.000Z
                          objectLockLegalHoldStatus: true
        description: The request for a cloud objects or blobs recovery.
        required: true
      responses:
        '201':
          description: The recovery job started successfully.
          headers:
            Location:
              description: Contains the link to the created recovery job.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400':
          description: >-
            Some mandatory attributes were not found or the specified client,
            backup image, or the input JSON was invalid.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. Failed to start recovery.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/cloud-object-store/instant-access-mounts:
    post:
      description: >
        Creates an instant access mount from the specified Cloud Object Store
        policy backup image.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|CLOUD-OBJECT-STORE|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|INSTANT_ACCESS_RECOVER|`


        Permissions to restore malware impacted files:\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Object Store
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema: *ref_78
        required: true
      responses:
        '201':
          description: Successfully created the instant access mount.
          headers:
            Location:
              description: A link to the new instant access mount.
              schema:
                type: string
                format: url
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_79
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. Failed to create the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: >
            Unable to create instant access mount. The maximum number of instant
            access mounts that can be configured has been reached.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    get:
      description: >
        Gets the list of mounts based on specified filters. If no filters are
        specified, information for all mounts is

        retrieved.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|CLOUD-OBJECT-STORE|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|INSTANT_ACCESS_RECOVER|`


        Permissions to restore malware impacted files:\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Object Store
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |displayName|eq, ne, contains, startswith, endswith|The name of the
            instant accesss mount.|string|

            |status|eq, ne, contains, startswith, endswith|status of instant
            access mount (ACTIVE/INACTIVE/EXPIRED/INPROGRESS)|string|

            |state|eq, ne, contains, startswith, endswith|state of instant
            access mount (CREATED/EXPORTED)|string|

            |created|eq, ne, gt, ge, lt, le|Instant access mount creation time
            in ISO 8601 format|date-time|

            |protocol|eq, ne, contains, startswith, endswith|instant access
            mount export protocl (NFS/SMB)|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of instant access mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_80
        '400': *ref_5
        '401': *ref_6
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get the list of instant access
            mounts.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  '/recovery/workloads/cloud-object-store/instant-access-mounts/{mountId}':
    parameters:
      - *ref_71
    get:
      description: >
        Gets detailed information about the instant access mount with the
        specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|CLOUD-OBJECT-STORE|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|INSTANT_ACCESS_RECOVER|`


        Permissions to restore malware impacted files:\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Object Store
      responses:
        '200':
          description: >-
            Successfully retrieved the details for the specified instant access
            mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_81
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '406': *ref_8
        '500':
          description: >-
            Internal server error. Failed to get detailed information about the
            instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
    delete:
      description: >
        Deletes the instant access mount with the specified mount ID.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|CLOUD-OBJECT-STORE|`\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|INSTANT_ACCESS_RECOVER|`


        Permissions to restore malware impacted files:\

        Requires Operation:
        `|OPERATIONS|ASSETS|CLOUD-OBJECT-STORE|RESTORE_MALWARE_INFECTED|`
      tags:
        - Cloud Object Store
      responses:
        '204':
          description: Successfully deleted the instant access mount.
        '401': *ref_6
        '404':
          description: The instant access mount was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '500':
          description: Internal server error. Failed to delete the instant access mount.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/bigdata-hbase/scenarios/cluster/recover:
    post:
      description: >
        Recovers HBase table to the same or alternate path.


        **Access Control**


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|HBASE|`


        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|HBASE|RECOVER|`
      tags:
        - Big Data HBase Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery schema for a HBase table recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryOptions
                      properties:
                        recoveryPoint:
                          type: object
                          description: Specify the recovery point for this recovery.
                          properties:
                            filter:
                              type: string
                              description: >-
                                Selects the backup images for recovery based on
                                the specified `filter`. If more than one backup
                                images matches the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported. <table
                                border="1px"> <tr> <th>Name</th> <th>Supported
                                Operators</th> <th>Description</th>
                                <th>Schema</th> </tr> <tr> <td>backupTime</td>
                                <td>ge le</td> <td>The backup timestamp in <a
                                href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO
                                8601 format.</a></td> <td>date-time</td> </tr>
                                </table>

                                The `filter` can be used to specify a time
                                range, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time range, such as
                                `backupTime ge '2016-11-20T23:20:50Z'`, then the
                                end of the range is assumed to be the current
                                time. If the `filter` only specifies the end of
                                the time range, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                range is assumed to be 6 months prior to that.
                                If the `filter` is not specified, the end of the
                                time range is assumed to be the current time and
                                the start of the range is assumed to be 6 months
                                prior to that.
                              default: NONE
                        recoveryOptions:
                          type: object
                          description: Specify the options to be used for recovery.
                          required:
                            - sourceClient
                            - destinationClient
                            - restoreSelections
                          properties:
                            sourceClient:
                              type: string
                              description: The hostname of the client.
                            destinationClient:
                              type: string
                              description: >-
                                The hostname of Backup host. HBase recovery
                                requires a Linux backup host to be provided.
                                Master server, Media server or Client may be
                                used as backup host as long they are Linux
                                machines.
                            overwriteExistingFiles:
                              type: boolean
                              description: >-
                                Should existing data (if any) be overwritten
                                during recovery.
                              default: false
                            renameHardLinks:
                              type: boolean
                              description: >-
                                Should hard links be renamed. This field is
                                mandatory only when restoreToDifferentLocation
                                is set to true.
                              default: false
                            renameSoftLinks:
                              type: boolean
                              description: >-
                                Should soft links be renamed. This field is
                                mandatory only when restoreToDifferentLocation
                                is set to true.
                              default: false
                            jobPriority:
                              type: integer
                              description: >-
                                Explicitly set job priority of current task.
                                This field is not mandatory.
                              minimum: 1
                              maximum: 99999
                              default: 90000
                            restoreSelections:
                              description: >
                                A list of HBase tables to be restored. Please
                                specify "/" if restore to same location

                                is to be done. In case of granular restore,
                                please specify /<namespace:source_table_name> as
                                restore selection.
                              type: array
                              items:
                                type: string
                            renameList:
                              description: >
                                A list of original and destination HBase table
                                entries for an alternate location restore.

                                For the scenarios where HBase data is to be
                                restored to another HMaster or HBase cluster,

                                the `to` key should have
                                ALT_APPLICATION_SERVER=<alternate name node>
                                entry.

                                Example:

                                `"from": "/<namespace:source_table_name>"`

                                `"to": "/<namespace:destination_table_name>
                                ALT_APPLICATION_SERVER=<alternate name node>"`
                              type: array
                              items:
                                type: object
                                properties:
                                  from:
                                    description: Specifies the source HBase table.
                                    type: string
                                  to:
                                    description: Specifies the destination HBase table.
                                    type: string
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      filter: >-
                        backupTime ge '2022-11-20T23:20:50Z' and backupTime le
                        '2022-12-20T23:20:50Z'
                    recoveryOptions:
                      sourceClient: hmaster_name-client_name_from_images_to_search_for
                      destinationClient: nbuBackupHost
                      overwriteExistingFiles: false
                      renameHardLinks: false
                      renameSoftLinks: false
                      jobPriority: 90000
                      restoreSelections:
                        - '/<namespace:source_table_name1>'
                        - '/<namespace:source_table_name2>'
                      renameList:
                        - from: '/<namespace:source_table_name1>'
                          to: '/<namespace:destination_table_nameA>'
                        - from: '/<namespace:source_table_name2>'
                          to: '/<namespace:destination_table_nameB>'
        description: The request body for the recovery of the HBase table.
        required: true
      responses:
        '201':
          description: HBase table recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
  /recovery/workloads/bigdata-hadoop/scenarios/cluster/recover:
    post:
      description: >
        Recovers a Hadoop filesystem to the same or alternate path.


        **Access Control**

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/10.5/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|HADOOP|`


        Registering the namespace requires:\

        Requires Operation: `|OPERATIONS|ASSETS|HADOOP|RECOVER|`
      tags:
        - Big Data Hadoop Workloads
      requestBody:
        content:
          application/vnd.netbackup+json;version=12.0:
            schema:
              description: The recovery schema for a Hadoop filesystem recovery request.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the recovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - recoveryRequest
                      default: recoveryRequest
                    attributes:
                      description: Contains the recovery request attributes.
                      type: object
                      required:
                        - recoveryPoint
                        - recoveryOptions
                      properties:
                        recoveryPoint:
                          type: object
                          description: The recovery point for Hadoop recovery.
                          properties:
                            filter:
                              type: string
                              description: >
                                Selects the backup images for recovery based on
                                the specified `filter`. If more than one backup
                                images matches the filter, NetBackup selects the
                                most recent one. All the filters are based on
                                the OData standard and filtering on the
                                following attributes is supported. <table
                                border="1px">
                                  <tr>
                                    <th>Name</th>
                                    <th>Supported Operators</th>
                                    <th>Description</th>
                                    <th>Schema</th>
                                  </tr>
                                  <tr>
                                    <td>backupTime</td>
                                    <td>ge le</td>
                                    <td>The backup timestamp in <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14">ISO 8601 format.</a></td>
                                    <td>date-time</td>
                                  </tr>
                                </table>

                                The `filter` can be used to specify a time
                                range, such as `backupTime ge
                                '2016-11-20T23:20:50Z' and backupTime le
                                '2016-12-20T23:20:50Z'`. If the `filter` only
                                specifies the start of the time range, such as
                                `backupTime ge '2016-11-20T23:20:50Z'`, then the
                                end of the range is assumed to be the current
                                time. If the `filter` only specifies the end of
                                the time range, such as `backupTime le
                                '2016-11-20T23:20:50Z'`, then the start of the
                                range is assumed to be 6 months prior to that.
                                If the `filter` is not specified, the end of the
                                time range is assumed to be the current time and
                                the start of the range is assumed to be 6 months
                                prior to that.
                        recoveryOptions:
                          type: object
                          description: The options used for Hadoop recovery.
                          required:
                            - sourceClient
                            - destinationClient
                            - restoreSelections
                          properties:
                            sourceClient:
                              type: string
                              description: The hostname of the client.
                            destinationClient:
                              type: string
                              description: >-
                                The hostname of the Linux backup host. The
                                primary server, media server, or client can also
                                be used as the backup host. Hadoop recovery
                                requires that the backup host is a Linux host.
                            overwriteExistingFiles:
                              type: boolean
                              description: >-
                                If `true`, overwrites any existing data in the
                                destination directory, if it already exists with
                                the same name. If `false`, does not overwrite
                                any data.
                              default: false
                            renameHardLinks:
                              type: boolean
                              description: >-
                                If `true`, renames hard links. This option is
                                required if restoreToDifferentLocation is set to
                                `true`.
                              default: false
                            renameSoftLinks:
                              type: boolean
                              description: >-
                                If `true`, renames soft links. This option is
                                required if restoreToDifferentLocation is set to
                                `true`.
                              default: false
                            jobPriority:
                              type: integer
                              description: >-
                                Overrides the recovery job priority with the
                                specified value.
                              minimum: 1
                              maximum: 99999
                              default: 90000
                            restoreSelections:
                              description: >
                                A list of Hadoop data folders to be restored.
                                Please specify "/" if restore to same location

                                is to be done. In case of granular restore,
                                please specify /path/file as restore selection.
                              type: array
                              items:
                                type: string
                            renameList:
                              description: >
                                A list of original and destination Hadoop data
                                folder entries for an alternate location
                                restore.

                                For the scenarios where Hadoop data is to be
                                restored to another NameNode or Hadoop cluster,
                                the 

                                `to` key should have
                                ALT_APPLICATION_SERVER=<alternate name node>
                                entry.

                                Example:

                                `"from": "/<source_folder_path>"`

                                `"to": "/<destination_folder_path>
                                ALT_APPLICATION_SERVER=<alternate name node>"`
                              type: array
                              items:
                                type: object
                                properties:
                                  from:
                                    description: Specifies the source Hadoop folder
                                    type: string
                                  to:
                                    description: Specifies the destination Hadoop folder.
                                    type: string
              example:
                data:
                  type: recoveryRequest
                  attributes:
                    recoveryPoint:
                      filter: >-
                        backupTime ge '2022-11-20T23:20:50Z' and backupTime le
                        '2022-12-20T23:20:50Z'
                    recoveryOptions:
                      sourceClient: hadoop_name_node-client_name_from_images_to_search_for
                      destinationClient: nbuBackupHost
                      overwriteExistingFiles: false
                      renameHardLinks: false
                      renameSoftLinks: false
                      jobPriority: 90000
                      restoreSelections:
                        - /folderPath1
                        - /folderPath2
                      renameList:
                        - from: /folderPath1
                          to: /folderPath1A
                        - from: /folderPath2
                          to: /folderPathB
        description: The request body for the recovery of the Hadoop filesystem.
        required: true
      responses:
        '201':
          description: Hadoop filesystem recovery started.
          headers:
            Location:
              description: Contains the links to the created recovery jobs.
              schema:
                type: string
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_4
        '400': *ref_5
        '401': *ref_6
        '404':
          description: Not found. The specified client or backup image was not found.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '405': *ref_7
        '406': *ref_8
        '415': *ref_9
        '500':
          description: Internal server error. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
        '503':
          description: The server is busy. The recovery job failed to start.
          content:
            application/vnd.netbackup+json;version=12.0:
              schema: *ref_0
components:
  securitySchemes:
    apiKeyAuth:
      type: apiKey
      in: header
      name: Authorization
    cookieAuth:
      type: apiKey
      in: cookie
      name: Authorization
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    recoveryResponse: *ref_4
    kubernetesPreRecoveryCheckResponse:
      description: The pre-recovery-check response schema for Kubernetes.
      type: object
      required:
        - data
      properties:
        data:
          type: array
          items: &ref_82
            type: object
            description: Describes the recovery validation item.
            properties:
              type:
                type: string
                description: The type of the recovery validation.
                enum:
                  - kubernetesRecoveryValidationItem
              id:
                type: string
                description: The ID of the recovery validation.
              attributes:
                type: object
                description: Describes the validation item.
                properties:
                  name:
                    type: string
                    description: Name of the validation item.
                  result:
                    enum:
                      - PASSED
                      - FAILED
                      - WARNING
                    type: string
                    description: Result of the validation item.
                  description:
                    type: string
                    description: Description of the validation item.
                required:
                  - name
                  - result
            required:
              - type
              - id
              - attributes
      example:
        data:
          - type: kubernetesRecoveryValidationItem
            id: 3
            attributes:
              name: Kubernetes cluster Validation
              result: Passed
              description: cluster validation - Passed
          - type: kubernetesRecoveryValidationItem
            id: 9
            attributes:
              name: namespace name Validation
              result: Passed
              description: Namespace name validation - Passed
    kubernetesRecoveryValidationItem: *ref_82
    dynamicNASRecoveryResponse: *ref_83
    instantRecoveryResponseArray: *ref_84
    kubernetesNamespaceRecoveryRequest: *ref_85
    kubernetesPreRecoveryCheckRequest:
      description: The request schema for Kubernetes namespace pre recovery check.
      type: object
      required:
        - data
      properties:
        data:
          description: Contains the pre recovery check request data.
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              description: The resource type.
              type: string
              enum:
                - preRecoveryCheckRequest
            attributes:
              description: The attributes of the pre recovery check request.
              type: object
              required:
                - recoveryPoint
                - recoveryObject
              properties:
                recoveryPoint:
                  type: object
                  description: Selects the recovery point based on the specified options.
                  required:
                    - backupId
                  properties:
                    backupId:
                      type: string
                      description: |
                        The backup image identifier to use for this recovery.
                    copyNumber:
                      type: integer
                      default: 0
                      description: |
                        The copyNumber to use for the recovery.
                recoveryObject:
                  type: object
                  description: The namespace to perform pre recovery check on.
                  required:
                    - destinationCluster
                  properties:
                    destinationCluster:
                      type: string
                      description: The cluster ID to use for the pre recovery check.
                    destinationNamespace:
                      type: string
                      description: |
                        The destination namespace for the pre recovery check.
                    includedResources:
                      type: array
                      description: >
                        Resources to include in the pre recovery check,
                        formatted as resource.group, such as
                        storageclasses.storage.k8s.io.
                      items:
                        type: string
                        description: >
                          The resource kind which has to be included during
                          restore.
                    excludedResources:
                      type: array
                      description: >
                        Resources to exclude from the pre recovery check,
                        formatted as resource.group, such as
                        storageclasses.storage.k8s.io.
                      items:
                        type: string
                        description: >
                          The resource kind which has to be skipped from
                          restore.
                    includedPersistentVolumeClaims:
                      type: array
                      description: >
                        Persistent volume claims to include in the pre recovery
                        check.
                      items:
                        type: object
                        required:
                          - name
                          - pvRestoreOnly
                        properties:
                          name:
                            type: string
                            description: |
                              Name of the persistent volume claim.
                          targetStorageClass:
                            type: string
                            description: >
                              Storage class name that will be used for
                              persistent volume claim restore.
                          size:
                            type: integer
                            format: int64
                            description: |
                              Size of the persistent volume claim.
                          pvRestoreOnly:
                            type: boolean
                            description: >
                              If the value is set, the restore will only perform
                              the Persistent Volume Restore and its
                              corresponding namespaces Persistent volume claim
                              will not be restored.
                recoveryOptions:
                  type: object
                  description: >-
                    Describes the recovery options to use for the pre recovery
                    check.
                  properties:
                    recoveryHost:
                      type: string
                      description: >
                        Indicates recovery host in the pre recovery check.
                        Currently, only the primary server is supported.
                    continueIfNamespaceExists:
                      type: boolean
                      default: false
                      description: >
                        Indicates if the restore operation should continue if
                        the namespace to be restored already exists at the
                        destination cluster with the same name.
                    recoveryFailureStrategy:
                      type: object
                      description: |
                        Describes the recovery failure strategy.
                      properties:
                        type:
                          default: FAIL_FAST
                          enum:
                            - FAIL_FAST
                            - PROCEED_AHEAD
                            - RETRY
                          type: string
                          description: >
                            Indicates the strategy name to be used in a failure
                            during recovery.
                        retryCount:
                          default: 3
                          type: integer
                          description: >
                            Indicates the total number of restores to initiate
                            if the failure strategy is set to the Retry option.
                          minimum: 2
                          maximum: 5
      example:
        data:
          type: preRecoveryCheckRequest
          attributes:
            recoveryPoint:
              backupId: example-backup_id
              copyNumber: 0
            recoveryObject:
              destinationCluster: cluster_id
              destinationNamespace: example-namespace
              includedResources:
                - CustomResourceDefinition.apiextensions.k8s.io
              excludedResources:
                - VolumeSnapshot.snapshot.storage.k8s.io
                - Pod
              includedPersistentVolumeClaims: []
            recoveryOptions:
              recoveryHost: recovery-proxy.example.com
              continueIfNamespaceExists: false
              recoveryFailureStrategy:
                type: Retry
                retryCount: 2
    cloudRecoverRequest: *ref_67
    cloudRecoverResponse: *ref_68
    amiIDsResponse: *ref_86
    cloudVmIdsResponse: *ref_87
    awsAmiCloudVmIdsAttributes: *ref_88
    azureVhdsCloudVmIdsAttributes: *ref_89
    checkDrInCloudResponse: *ref_90
    catalogRecoveryRequest: *ref_91
    disasterRecoveryResponse: *ref_92
    disasterRecoveryFileUploadResponse: *ref_93
    restoreLogDetails: *ref_94
security:
  - apiKeyAuth: []
  - cookieAuth: []
  - jwtAuth: []
