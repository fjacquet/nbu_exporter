openapi: 3.0.0
info:
  title: NetBackup Administration API
  version: '13.0'
  description: >
    The NetBackup Administration API provides access to administrative
    operations in NetBackup.
externalDocs:
  description: Getting Started Guide
  url: >-
    http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started/
servers:
  - url: 'https://<masterserver>:1556/netbackup'
    description: NetBackup Master
paths:
  /admin/user-operation-logs:
    get:
      description: >
        Returns the list of user operation log files.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|USER-LOGS|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - User Operation Logs
      parameters:
        - name: 'page[limit]'
          description: The number of log files on one page.
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: 'page[offset]'
          description: The offset of log files.
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
        - name: sort
          description: >
            Sort in ascending order on the specified property. Prefix with "-"
            for descending order.

            Sorting is supported on the following attributes:

            |Name|

            |---|

            |id|

            |fileCreationDate|

            |fileLastUpdated|
          in: query
          required: false
          schema:
            type: string
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |--|--|--|--|

            |id|contains|The name of the log file.|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully returned the list of user operation log files.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_21
                type: object
                required:
                  - data
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: object
                        description: Link to the current page.
                        properties:
                          href:
                            type: string
                      first:
                        type: object
                        description: Link to the first page.
                        properties:
                          href:
                            type: string
                      last:
                        type: object
                        description: Link to the last page.
                        properties:
                          href:
                            type: string
                      next:
                        type: object
                        description: Link to the next page.
                        properties:
                          href:
                            type: string
                      prev:
                        type: object
                        description: Link to the previous page.
                        properties:
                          href:
                            type: string
                  data:
                    type: array
                    items:
                      type: object
                      required:
                        - type
                        - id
                        - attributes
                      properties:
                        id:
                          type: string
                          description: The name of the log file.
                        type:
                          type: string
                          enum:
                            - userOperationLogFile
                        attributes:
                          type: object
                          required:
                            - fileCreationDate
                            - fileLastUpdated
                          properties:
                            fileCreationDate:
                              type: string
                              format: date-time
                              description: >-
                                The timestamp of when the log file was created
                                in ISO 8601 format.
                            fileLastUpdated:
                              type: string
                              format: date-time
                              description: >-
                                The timestamp of when the log file was last
                                updated in ISO 8601 format.
        '401': &ref_1
          description: >
            The `Authorization` header is missing, the token is invalid, or you
            do not have permission for this action.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_0
                type: object
                properties:
                  errorCode:
                    type: integer
                    format: int64
                    description: The NetBackup error code.
                  errorMessage:
                    type: string
                    description: The NetBackup error code description.
                  attributeErrors:
                    type: object
                    description: >
                      Maps the attributes with the invalid values to an error
                      that describes why the value is invalid, to provide more
                      context to the nature of the error.
                  errorDetails:
                    type: array
                    description: >-
                      A list that contains additional information about the
                      error.
                    items:
                      type: string
                  fileUploadErrors:
                    type: array
                    description: >
                      If an API is supporting content-type multipart/form-data,
                      then this holds a list of objects that contains names of
                      failed files and associated error messages.
                    items:
                      type: object
                required:
                  - errorCode
                  - errorMessage
        '406': &ref_2
          description: >-
            Invalid `Accept` type. Make sure your `Accept` header matches what
            this API produces.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '500': &ref_3
          description: An unexpected system error occurred.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
  '/admin/user-operation-logs/{filename}':
    delete:
      description: >
        Deletes the specified log file from the result tab.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|USER-LOGS|`\

        Requires Operation: `|OPERATIONS|DELETE|`
      tags:
        - User Operation Logs
      parameters:
        - name: filename
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Log file deleted successfully.
        '401': *ref_1
        '404':
          description: The requested log file was not found.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
  '/admin/hosts/{hostId}/processes':
    get:
      description: >
        Get the list of NetBackup processes running on the specified host.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|HOSTS|PROCESSES|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Hosts
      parameters:
        - &ref_15
          name: hostId
          in: path
          description: >-
            The unique ID (UUID) of the host. See the 'uuid' attribute of the
            response of GET /config/hosts API.
          required: true
          schema:
            type: string
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |processName|eq|The process name.|string|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the list of processes.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_23
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          description: Resource type.
                          enum:
                            - process
                        id:
                          type: string
                          description: The process ID (PID) of the process.
                        attributes:
                          type: object
                          properties:
                            processName:
                              type: string
                              description: The name of the process.
                            ppid:
                              type: integer
                              description: The process ID of the parent process.
                            priority:
                              type: integer
                              description: The priority of the process.
                            memoryUsageMB:
                              type: number
                              description: The memory usage of the process in MB.
                            startTime:
                              type: string
                              format: date-time
                              description: >-
                                The time the process started in ISO 8601 time
                                format.
                            elapsedTime:
                              type: string
                              description: >-
                                The duration of the process since startTime, in
                                ISO 8601 time format.
                            username:
                              type: string
                              description: The username that started the process.
                            arguments:
                              type: string
                              description: The arguments provided to the process.
                          required:
                            - processName
                            - priority
                            - memoryUsageMB
                            - startTime
                            - elapsedTime
                      required:
                        - type
                        - id
                        - attributes
                required:
                  - data
        '401': *ref_1
        '404':
          description: No host exists with the specified host ID.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '406': *ref_2
        '500': *ref_3
  /admin/jobs:
    get:
      description: >
        Gets the list of jobs based on specified filters. If no filters are
        specified, information for 10 jobs sorted in

        descending order by job start time is retrieved.


        **API Versioned:**\

        A breaking change has been made to this API starting with version 9.0.\

        See the [Getting Started
        Guide](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started)
        for full details on what has changed and general information about API
        versioning.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|VIEW|`
      tags:
        - Jobs
      parameters:
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |jobId|eq ne lt gt le ge|The job identifier.|integer|

            |parentJobId|eq ne lt gt le ge|The parent job identifier.|integer|

            |clientName|eq ne contains, startswith, endswith|The name of the
            client to protect. If the client name contains a space or "%",
            encode these characters as '%20' or '%25', respectively.|string|

            |endTime|eq ne lt gt le ge|The time when the job
            finished.|date-time|

            |startTime|eq ne lt gt le ge|The time when the job
            started.|date-time|

            |lastUpdateTime|eq ne lt gt le ge|The time when the job last
            updated.|date-time|

            |state|eq ne|The state of the job. Possible values: QUEUED, ACTIVE,
            REQUEUED, DONE, SUSPENDED, INCOMPLETE|string|

            |status|eq ne lt gt le ge|The final job status code.|integer|

            |jobType|eq ne|The type of the job. Possible values: BACKUP,
            ARCHIVE, RESTORE, VERIFY, DUPLICATE, IMPORT, DBBACKUP, VAULT, LABEL,
            ERASE, TPREQ, TPCLEAN, TPFORMAT, VMPHYSINV, DQTS, DBRECOVER,
            MCONTENTS, IMAGEDELETE, GENERIC, REPLICATE, REPLICA_IMPORT,
            SNAPDUPE, SNAPREPLICATE, SNAPIMPORT, APP_STATE_CAPTURE, INDEXING,
            INDEXCLEANUP, SNAPSHOT, SNAPINDEX, ACTIVATE_IR, DEACTIVATE_IR,
            REACTIVATE_IR, STOP_IR, INSTANT_RECOVERY, RMAN_CATALOG, LOCKVM,
            DEPLOYMENT, INSTANT_ACCESS, CLOUD_SNAPSHOT_REPLICATE,
            PREPARING_FOR_BACKUP, INSTANT_SYNC, TRIAL_BACKUP,
            MULTIPLE_STORAGE_METADATA|string|

            |policyName|contains, startswith, endswith|The name of the policy
            used by this job.|string|

            |policyType|eq ne|The type of the policy. Possible values: STANDARD,
            PROXY, NONSTANDARD, APOLLO_WBAK, OBACKUP, ANY, INFORMIX, SYBASE,
            SHAREPOINT, WINDOWS, NETWARE, BACKTRACK, AUSPEX_FASTBACK,
            WINDOWS_NT, OS2, SQL_SERVER, EXCHANGE, SAP, DB2, NDMP, FLASHBACKUP,
            SPLITMIRROR, AFS, DFS, DATASTORE, LOTUS_NOTES, NCR_TERADATA,
            VAX_VMS, HP3000_MPE, FBU_WINDOWS, VAULT, BE_SQL_SERVER, BE_EXCHANGE,
            MAC, DS, NBU_CATALOG, GENERIC, CMS_DB, PUREDISK_EXPORT,
            ENTERPRISE_VAULT, VMWARE, HYPERV, NBU_SEARCHSERVER, HYPERSCALE,
            BIGDATA, CLOUD, DEPLOYMENT, HYPERVISOR, UNIVERSAL_SHARE,
            NAS_DATA_PROTECTION, KUBERNETES, MSDP_OBJECT_STORE, EPIC_LARGE_FILE,
            NUTANIX_AHV|string|

            |restoreBackupIDs|eq, ne, contains, startswith, endswith|The backup
            images used for restore. If the client name contains a space or "%",
            encode these characters as '%20' or '%25', respectively.|string|

            |assetID|eq|The asset identifier.|string|

            |backupId|eq|The backup ID or image ID.|string|

            |assetDisplayableName|eq, ne, contains, startswith, endswith|The
            name of the asset for which the job was started. If the asset name
            contains a space or "%", encode these characters as '%20' or '%25',
            respectively.|string|

            |workloadDisplayName|eq, ne, contains, startswith, endswith|The name
            of the workload asset that is associated with the job. For example,
            the name of a database or the display name of a virtual machine. If
            the workload display name contains a space or "%", encode these
            characters as '%20' or '%25', respectively.|string|

            |destinationStorageUnitName|eq|The destination storage unit
            name.|string|

            |destinationMediaId|eq|The destination media identifier.|string|

            |applicationType|eq|The job application type value. Possible values:
            0(NONE), 1(VMWARE), 2(HYPERV), 3(VXVI), 4(HYPERSCALE), 5(RHV),
            6(AHV). |integer|

            |dteMode|eq|The mode of data-in-transit encryption for this job.
            Possible values: UNKNOWN, ON, OFF|string|

            |jobPath|eq, ne, contains, startswith, endswith|The job ID and its
            ancestor's job ID. For example, grandParentJobId.parentJobId.jobId.
            For root jobs it is the job ID for that job.|String|

            |destinationMediaServerName|eq ne contains, startswith, endswith|The
            name of the destination media server.|string|

            |sourceMediaServerName|eq ne contains, startswith, endswith|The name
            of the source media server.|string|

            |scheduleName|eq ne contains, startswith, endswith|The name of the
            backup schedule used by the backup job. If the schedule name
            contains a space or "%", encode these characters as '%20' or '%25',
            respectively.|string|

            |transferRate|eq ne lt gt le ge|The data transfer rate in kilobytes
            (KB) per second.|integer|

            |kilobytesTransferred|eq ne lt gt le ge|The estimated amount of data
            transferred, in kilobytes.|integer|

            |activeTryStartTime|eq ne lt gt le ge|A UTC timestamp for when the
            current try started.|date-time|

            |jobOwner|eq|The job owner.|string|

            |dedupRatio|eq ne lt gt le ge|The deduplication ratio.|float|

            |acceleratorOptimization|eq ne lt gt le ge|The accelerator
            optimization rate.|float|

            |activeProcessId|eq ne lt gt le ge|The active process ID.|integer|

            |try|eq ne lt gt le ge|The number of attempts.|integer|

            |dataMovement|eq|The job data movement type value. Possible values:
            0(STANDARD), 1(INSTANTRECOVERYDISK), 2(INSTANTRECOVERYDISKANDTAPE),
            3(SYNTHETIC), 4(DISKSTAGING), 5(SNAPSHOT), -99(UNKNOWN_TYPE).
            |integer|

            |numberOfFiles|eq ne lt gt le ge|The number of files backed up by
            the job.|integer|

            |instanceDatabaseName|eq|The instance database name.|string|

            |offHostType|eq ne|The off host type value. Possible values:
            0(STANDARD), 1(ATLCLIENT), 2(TPC), 3(MEDIASERVER), 4(NAS), 5(NDMP),
            -99(UNKNOWN_TYPE). |integer|

            |priority|eq ne lt gt le ge|The priority.|integer|

            |profileName|eq|The profile name.|string|

            |robotName|eq|The robot name.|string|

            |sessionId|eq ne lt gt le ge|The session ID.|big integer|

            |transportType|eq|The transport type value. Possible values: 0(LAN),
            1(FIBRE_TRANSPORT), -99(UNKNOWN_TYPE). |integer|

            |vaultName|eq|The vault name.|string|

            |percentComplete|eq ne lt gt le ge|The percentage complete of the
            running job.|integer|

            |copyNumber|eq ne lt gt le ge|The copy number.|integer|

            |currentOperation|eq ne|The current operation type value. Possible
            values: 0(MOUNTING), 1(POSITIONING), 2(CONNECTING), 3(WRITING),
            4(VAULT_INITIALIZING), 5(VAULT_DUPLICATING),
            6(VAULT_DUPLICATION_COMPLETE), 7(VAULT_BACKUP_CATALOG),
            8(VAULT_EJECT_AND_REPORT), 9(VAULT_COMPLETE), 10(READING),
            11(DUPLICATE), 12(IMPORT), 13(VERIFY), 14(RESTORE),
            15(CATALOG_BACKUP), 16(VAULT), 17(LABEL), 18(ERASE),
            19(SYNTH_QUERY_CATALOG), 20(SYNTH_PROCESS_EXTENTS), 21(SYNTH_PLAN),
            22(CREATE_SNAPSHOT), 23(DELETE_SNAPSHOT),
            24(SYNTH_REQUEST_RESOURCES), 25(MEDIA_CONTENTS),
            26(SYNTH_REQUEST_RESOURCES), 27(PARENT_JOB), 28(INDEXING),
            29(REPLICATE), 30(RUNNING), 31(ASSEMBLING_FILE_LIST),
            32(ALLOCATING_MEDIA), 33(CHILD_JOB), -99(UNKNOWN_TYPE). |integer|

            |qReasonCode|eq ne|The queue reason code value. Possible values:
            1(MEDIA_IN_USE), 2(DRIVES_IN_USE), 3(MEDIA_SERVER_OFFLINE),
            4(ROBOT_DOWN), 5(MAX_STORAGE_UNIT_JOBS), 6(MEDIA_REQUEST_DELAY),
            7(LOCAL_DRIVES_DOWN), 8(MEDIA_IN_DRIVE_IN_USE),
            9(PHYSICAL_DRIVE_UNAVAILABLE), 10(CLEANING_MEDIA_UNAVAILABLE),
            11(DRIVE_SCAN_HOST_OFFLINE), 12(DISK_MEDIA_SERVER_OFFLINE),
            13(NO_MASTER_MEDIA_CONNECTIVITY), 14(MEDIA_SERVER_NON_ACTIVE_MODE),
            15(STORAGEUNIT_JOB_COUNTS_THROTTLED), 16(JOB_HISTORY_DRIVES_IN_USE),
            17(DISK_VOLUME_UNAVAILABLE), 18(MAX_CONCURRENT_VOLUME_READERS),
            19(DISK_GROUP_UNAVAILABLE), 20(FAT_PIPE_IN_USE),
            21(DISK_VOLUME_UNMOUNTING), 22(DISK_VOLUME_IN_USE),
            23(MAX_PARTIAL_MEDIA), 24(LOGICAL_RESOURCE),
            25(DRIVES_IN_STORAGE_UNIT_IN_USE), 26(STOP_DRIVE_SCAN),
            27(DISK_VOLUME_MOUNTING), 28(MOUNT_FILE_EXISTS), 29(PENDING_ACTION),
            30(DISK_VOLUME_STREAM_LIMIT), 31(MEDIA_SERVER_JOBS_THROTTLED),
            -99(UNKNOWN_TYPE). |integer|

            |qResource|eq|The job queue resource name.|string|

            |numberOfTapeToEject|eq ne lt gt le ge|The media number to
            eject.|integer|

            |dumpHost|eq|The share host name.|string|

            |currentFile|eq|The path name.|string|

            |activeElapsedTime|eq ne lt gt le ge|The active elapsed
            time.|duration|

            |elapsedTime|eq ne lt gt le ge|The elapsed time.|duration|
          in: query
          required: false
          schema:
            type: string
        - in: query
          name: 'page[limit]'
          description: The number of records to include in the page.
          schema:
            type: integer
            default: 10
            minimum: 0
            maximum: 100
        - in: query
          name: 'page[after]'
          description: >-
            The first record in the page must be the record that comes directly
            after this cursor.
          schema:
            type: string
          required: false
        - in: query
          name: 'page[before]'
          description: >-
            The last record in the page must be the record that comes directly
            before this cursor.
          schema:
            type: string
          required: false
        - name: sort
          description: >
            Sorts in ascending order on the specified property. Prefix with '-'
            for descending order.

            Sorting is supported on the following attributes:

            |Name|

            |---|

            |jobId|

            |parentJobId|

            |jobType|

            |policyType|

            |policyName|

            |clientName|

            |destinationMediaId|

            |destinationStorageUnitName|

            |status|

            |state|

            |frozenImage|

            |restoreBackupIDs|

            |assetID|

            |assetDisplayableName|

            |startTime|

            |endTime|

            |applicationType|

            |dteMode|

            |assetNamespace|

            |workloadDisplayName|

            |scheduleType|

            |scheduleName|

            |dedupRatio|

            |acceleratorOptimization|

            |activeProcessId|

            |tryField|

            |jobSubType|

            |dataMovement|

            |estimatedFiles|

            |numberOfFiles|

            |instanceDatabaseName|

            |kilobytesTransferred|

            |jobOwner|

            |offHostType|

            |priority|

            |profileName|

            |robotName|

            |sessionId|

            |transportType|

            |vaultName|

            |percentComplete|

            |activeTryStartTime|

            |mainProcessId|

            |controlHost|

            |jobGroup|

            |backupId|

            |sourceMediaId|

            |sourceStorageUnitName|

            |sourceMediaServerName|

            |destinationMediaServerName|

            |streamNumber|

            |copyNumber|

            |retention|

            |compression|

            |kilobytesToTransfer|

            |transferRate|

            |restartable|

            |suspendable|

            |resumable|

            |killable|

            |currentOperation|

            |qReasonCode|

            |qResource|

            |numberOfTapeToEject|

            |submissionType|

            |dumpHost|

            |auditUserName|

            |auditDomainName|

            |auditDomainType|

            |lastUpdateTime|

            |kilobytesDataTransferred|

            |dedupSpaceRatio|

            |compressionSpaceRatio|

            |jobPath|

            |childCount|

            |currentFile|

            |cursorValue|

            |activeElapsedTime|

            |elapsedTime|
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: >
            Successfully retrieved the list of jobs based on the specified
            filters. No data is returned if no jobs are found.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_41
                type: object
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: object
                        description: Link to the current page.
                        properties:
                          href:
                            type: string
                      first:
                        type: object
                        description: Link to the first page.
                        properties:
                          href:
                            type: string
                      next:
                        type: object
                        description: Link to the next page.
                        properties:
                          href:
                            type: string
                      prev:
                        type: object
                        description: Link to the previous page.
                        properties:
                          href:
                            type: string
                  data:
                    type: array
                    items: &ref_4
                      type: object
                      properties:
                        type:
                          type: string
                        id:
                          type: string
                        links:
                          type: object
                          properties:
                            self:
                              type: object
                              properties:
                                href:
                                  type: string
                            try-logs:
                              type: object
                              properties:
                                href:
                                  type: string
                            file-lists:
                              type: object
                              properties:
                                href:
                                  type: string
                        meta:
                          type: object
                          properties:
                            page:
                              type: object
                              properties:
                                cursor:
                                  type: string
                                  description: >-
                                    A cursor value based on a unique value for
                                    this resource and sort order. This value is
                                    used for cursor-based pagination.
                        attributes:
                          type: object
                          properties:
                            jobId:
                              type: integer
                              description: The job identifier.
                            acceleratorOptimization:
                              type: number
                              format: float
                              description: >-
                                The percentage of optimization achieved if the
                                job uses NetBackup Accelerator.
                            activeElapsedTime:
                              type: string
                              description: >-
                                The elapsed time duration in ISO 8601 duration
                                format beginning with the last try start time
                                and either job end time for jobs in DONE state
                                or current time for active jobs.
                            activeProcessId:
                              type: integer
                              description: The identifier of the active process.
                            activeTryStartTime:
                              type: string
                              format: date-time
                              description: A UTC timestamp of when the current try started.
                            applicationType:
                              type: string
                              description: The application type.
                              enum:
                                - NONE
                                - VMWARE
                                - HYPERV
                                - VXVI
                                - HYPERSCALE
                                - RHV
                                - AHV
                            auditDomainName:
                              type: string
                              description: The domain name for auditing.
                            auditDomainType:
                              type: integer
                              description: |
                                The auditing domain type.
                                  0=INVALID,
                                  1=ACTIVE_DIRECTORY,
                                  2=NIS_PLUS,
                                  3=VXAT_PRIVATE,
                                  4=UNIX_PASSWORD,
                                  5=NIS,
                                  6=LOCAL_HOST,
                                  7=UNKNOWN_AUTH
                            auditUserName:
                              type: string
                              description: The user name in the audit record.
                            assetID:
                              type: string
                              description: >-
                                The GUID of the asset for which the job was
                                started.
                            assetDisplayableName:
                              type: string
                              description: >-
                                The displayable name of the asset for which the
                                job was started.
                            workloadDisplayName:
                              type: string
                              description: >-
                                The displayable name of the workload for which
                                the job was started.
                            backupId:
                              type: string
                              description: The backup ID or image ID.
                            childCount:
                              type: integer
                              description: >-
                                The number of child jobs for this job, not
                                including the descendants of those child jobs.
                            clientName:
                              type: string
                              description: The name of the client to protect.
                            compression:
                              type: integer
                              description: >
                                Indicates if compression is enabled for the
                                backup policy.
                                  0=disabled,
                                  1=enabled
                            compressionSpaceRatio:
                              type: number
                              format: float
                              description: The compression space savings percentage.
                            controlHost:
                              type: string
                              description: The host from which the job was initiated.
                            copyNumber:
                              type: integer
                              description: The copy number of the backup image.
                            currentFile:
                              type: string
                              description: The file currently being protected.
                            currentOperation:
                              type: integer
                              format: int64
                              description: >
                                The operation currently being performed. A value
                                of -99 indicates that an invalid value was
                                returned.
                                  0=MOUNTING,
                                  1=POSITIONING,
                                  2=CONNECTING,
                                  3=WRITING,
                                  4=VLT_INIT,
                                  5=VLT_DUPIMG,
                                  6=VLT_DUPCMP,
                                  7=VLT_BK_NBCAT,
                                  8=VLT_EJRPT,
                                  9=VLT_COMPLETE,
                                  10=READING,
                                  11=DUPLICATE,
                                  12=IMPORT,
                                  13=VERIFY,
                                  14=RESTORE,
                                  15=BACKUPDB,
                                  16=VAULT,
                                  17=LABEL,
                                  18=ERASE,
                                  19=SYNTH_DBQUERY,
                                  20=SYNTH_PROCESS_EXTENTS,
                                  21=SYNTH_PLAN,
                                  22=CREATE_SNAPSHOT,
                                  23=DELETE_SNAPSHOT,
                                  24=RECOVERDB,
                                  25=MCONTENTS,
                                  26=SYNTH_REQUEST_RESOURCES,
                                  27=PARENT_JOB,
                                  28=INDEXING,
                                  29=REPLICATE,
                                  30=RUNNING,
                                  31=ASSEMBLING_FILE_LIST,
                                  32=ALLOCATING_MEDIA
                            dataMovement:
                              type: string
                              description: The type of data movement used for this job.
                              enum:
                                - STANDARD
                                - INSTANTRECOVERYDISK
                                - INSTANTRECOVERYDISKANDTAPE
                                - SYNTHETIC
                                - DISKSTAGING
                                - SNAPSHOT
                            dteMode:
                              type: string
                              description: >-
                                The mode of data-in-transit encryption for this
                                job.
                              enum:
                                - UNKNOWN
                                - 'ON'
                                - 'OFF'
                            dedupRatio:
                              type: number
                              format: float
                              description: >-
                                The deduplication rate that was achieved. This
                                is a combination of dedupSpaceRatio and
                                compressionSpaceRatio.
                            dedupSpaceRatio:
                              type: number
                              format: float
                              description: The deduplication space savings percentage.
                            destinationMediaId:
                              type: string
                              description: >-
                                The destination media server. Used for
                                deduplication jobs.
                            destinationStorageUnitName:
                              type: string
                              description: >-
                                The destination storage unit. Used for
                                deduplication jobs.
                            destinationMediaServerName:
                              type: string
                              description: >-
                                The destination media server name. Used for
                                deduplication jobs.
                            dumpHost:
                              type: string
                              description: The recovery appliance host name for Copilot.
                            elapsedTime:
                              type: string
                              description: >-
                                The time that has elapsed since the start of the
                                job in ISO 8601 duration format.
                            endTime:
                              type: string
                              format: date-time
                              description: The time that the job ended.
                            estimatedFiles:
                              type: integer
                              description: The estimated number of files to protect.
                            frozenImage:
                              type: integer
                              description: >-
                                Indicates if the job type is a snapshot. This
                                property is used internally.
                            instanceDatabaseName:
                              type: string
                              description: >-
                                The name of the database instance or the
                                database.
                            jobGroup:
                              type: string
                              description: The name of the group that initiated the job.
                            jobOwner:
                              type: string
                              description: >-
                                The job owner or the user that initiated the
                                job.
                            jobPath:
                              type: string
                              description: >
                                The job ID and its ancestor's job ID. For
                                example, grandParentJobId.parentJobId.jobId. For
                                root jobs it is the job ID for that job.
                            jobQueueReason:
                              type: integer
                              format: int64
                              description: >
                                The reason the job is queued. A value of -99
                                indicates that an invalid value was returned.
                                  1=MEDIA_IN_USE,
                                  2=DRIVES_IN_USE,
                                  3=MEDIA_SERVER_OFFLINE,
                                  4=ROBOT_DOWN,
                                  5=MAX_STORAGE_UNIT_JOBS,
                                  6=MEDIA_REQUEST_DELAY,
                                  7=LOCAL_DRIVES_DOWN,
                                  8=MEDIA_IN_DRIVE_IN_USE,
                                  9=PHYSICAL_DRIVE_UNAVAILABLE,
                                  10=CLEANING_MEDIA_UNAVAILABLE,
                                  11=DRIVE_SCAN_HOST_OFFLINE,
                                  12=DISK_MEDIA_SERVER_OFFLINE,
                                  13=NO_MASTER_MEDIA_CONNECTIVITY,
                                  14=MEDIA_SERVER_NON_ACTIVE_MODE,
                                  15=STORAGEUNIT_JOB_COUNTS_THROTTLED,
                                  16=JOB_HISTORY_DRIVES_IN_USE,
                                  17=DISK_VOLUME_UNAVAILABLE,
                                  18=MAX_CONCURRENT_VOLUME_READERS,
                                  19=DISK_GROUP_UNAVAILABLE,
                                  20=FAT_PIPE_IN_USE,
                                  21=DISK_VOLUME_UNMOUNTING,
                                  22=DISK_VOLUME_IN_USE,
                                  23=MAX_PARTIAL_MEDIA,
                                  24=LOGICAL_RESOURCE,
                                  25=DRIVES_IN_STORAGE_UNIT_IN_USE,
                                  26=STOP_DRIVE_SCAN,
                                  27=DISK_VOLUME_MOUNTING,
                                  28=MOUNT_FILE_EXISTS,
                                  29=PENDING_ACTION,
                                  30=DISK_VOLUME_STREAM_LIMIT
                                  31=MEDIA_SERVER_JOBS_THROTTLED
                            jobQueueResource:
                              type: string
                              description: >-
                                The name of the resource for which the queued
                                job is waiting.
                            jobSubType:
                              type: string
                              description: The job subtype.
                              enum:
                                - IMMEDIATE
                                - SCHEDULED
                                - USERBACKUP
                                - ERASETYPE_QUICK
                                - ERASETYPE_LONG
                                - DBBACKUP_STAGING
                                - DBBACKUP_COLD
                                - RMAN_CATALOG
                                - IA_CREATE_VM
                                - IA_DELETE_VM
                                - IA_CREATE_MOUNT
                                - IA_DELETE_MOUNT
                                - IA_FILE_RESTORE
                                - IA_GET_DOWNLOAD_URL
                                - AGENTLESS_RESTORE
                                - FULL_VM_RESTORE
                                - CLOUD_VM_CONVERT
                                - IA_ATTACH_DATABASE
                                - IA_DETACH_DATABASE
                                - MULTIPLE_STORAGE_METADATA
                            jobType:
                              type: string
                              description: The job type.
                              enum:
                                - BACKUP
                                - ARCHIVE
                                - RESTORE
                                - VERIFY
                                - DUPLICATE
                                - IMPORT
                                - DBBACKUP
                                - VAULT
                                - LABEL
                                - ERASE
                                - TPREQ
                                - TPCLEAN
                                - TPFORMAT
                                - VMPHYSINV
                                - DQTS
                                - DBRECOVER
                                - MCONTENTS
                                - IMAGEDELETE
                                - GENERIC
                                - REPLICATE
                                - REPLICA_IMPORT
                                - SNAPDUPE
                                - SNAPREPLICATE
                                - SNAPIMPORT
                                - APP_STATE_CAPTURE
                                - INDEXING
                                - INDEXCLEANUP
                                - SNAPSHOT
                                - SNAPINDEX
                                - ACTIVATE_IR
                                - DEACTIVATE_IR
                                - REACTIVATE_IR
                                - STOP_IR
                                - INSTANT_RECOVERY
                                - RMAN_CATALOG
                                - LOCKVM
                                - DEPLOYMENT
                                - INSTANT_ACCESS
                                - CLOUD_SNAPSHOT_REPLICATE
                                - PREPARING_FOR_BACKUP
                                - INSTANT_SYNC
                                - TRIAL_BACKUP
                                - MULTIPLE_STORAGE_METADATA
                            cancellable:
                              type: integer
                              description: Indicates if the job can be stopped.
                            kilobytesDataTransferred:
                              type: integer
                              description: >
                                The actual data transferred, in kilobytes. For
                                some jobs, data transferred is different than
                                the final image size.
                            kilobytesToTransfer:
                              type: integer
                              description: The remaining kilobytes to transfer.
                            kilobytesTransferred:
                              type: integer
                              description: >-
                                The estimated amount of data transferred, in
                                kilobytes.
                            lastUpdateTime:
                              type: string
                              format: date-time
                              description: The UTC timestamp when the job was modified.
                            mainProcessId:
                              type: integer
                              description: >-
                                The process ID of the main controlling process
                                for restore and image cleanup.
                            numberOfFiles:
                              type: integer
                              description: The actual number of files protected.
                            numberOfTapeToEject:
                              type: integer
                              description: >-
                                For Vault jobs, the total number of tape media
                                to eject.
                            offHostType:
                              type: string
                              description: The Offhost type.
                              enum:
                                - STANDARD
                                - ATLCLIENT
                                - TPC
                                - MEDIASERVER
                                - NAS
                                - NDMP
                                - UNRECOGNIZED_VALUE
                            parentJobId:
                              type: integer
                              description: The parent job ID.
                            percentComplete:
                              type: integer
                              description: >-
                                The estimate (as a percentage) of when the job
                                will be completed.
                            policyName:
                              type: string
                              description: The name of the policy used by this job.
                            policyType:
                              type: string
                              description: The backup policy type.
                              enum:
                                - STANDARD
                                - PROXY
                                - NONSTANDARD
                                - APOLLO_WBAK
                                - OBACKUP
                                - ANY
                                - INFORMIX
                                - SYBASE
                                - SHAREPOINT
                                - WINDOWS
                                - NETWARE
                                - BACKTRACK
                                - AUSPEX_FASTBACK
                                - WINDOWS_NT
                                - OS2
                                - SQL_SERVER
                                - EXCHANGE
                                - SAP
                                - DB2
                                - NDMP
                                - FLASHBACKUP
                                - SPLITMIRROR
                                - AFS
                                - DFS
                                - DATASTORE
                                - LOTUS_NOTES
                                - NCR_TERADATA
                                - VAX_VMS
                                - HP3000_MPE
                                - FBU_WINDOWS
                                - VAULT
                                - BE_SQL_SERVER
                                - BE_EXCHANGE
                                - MAC
                                - DS
                                - NBU_CATALOG
                                - GENERIC
                                - CMS_DB
                                - PUREDISK_EXPORT
                                - ENTERPRISE_VAULT
                                - VMWARE
                                - HYPERV
                                - NBU_SEARCHSERVER
                                - HYPERSCALE
                                - BIGDATA
                                - CLOUD
                                - DEPLOYMENT
                                - HYPERVISOR
                                - NUTANIX_AHV
                                - UNIVERSAL_SHARE
                                - NAS_DATA_PROTECTION
                                - MSDP_OBJECT_STORE
                                - EPIC_LARGE_FILE
                                - KVM
                            priority:
                              type: integer
                              description: The priority of this job.
                            profileName:
                              type: string
                              description: The name of the Vault profile.
                            restartable:
                              type: integer
                              description: Indicates if the job can be restarted.
                            restoreBackupIDs:
                              type: string
                              description: >-
                                The list of backup IDs needed for the restore
                                job.
                            resumable:
                              type: integer
                              description: Indicates if the job can be resumed.
                            retentionLevel:
                              type: integer
                              description: The retention level of the backup image.
                            robotName:
                              type: string
                              description: The name of the robot in the Vault job.
                            scheduleName:
                              type: string
                              description: >-
                                The name of the backup schedule used by the
                                backup job.
                            scheduleType:
                              type: string
                              description: The type of schedule used by the backup job.
                              enum:
                                - FULL_BACKUP
                                - DIFFERENTIAL_INCREMENTAL_BACKUP
                                - USER_BACKUP
                                - USER_ARCHIVE
                                - CUMULATIVE_INCREMENTAL_BACKUP
                                - VAULT_CATALOG_BACKUP
                                - AUTOMATIC_BACKUP
                                - APPLICATION_BACKUP
                                - AUTOMATIC_FULL_BACKUP
                                - AUTOMATIC_INCREMENTAL_BACKUP
                                - AUTOMATIC_DIFFERENTIAL_INCREMENTAL_BACKUP
                                - AUTOMATIC_CUMULATIVE_INCREMENTAL_BACKUP
                                - AUTOMATIC_VAULT
                                - ARCHIVE_REDO_LOG_BACKUP
                                - TRANSACTION_LOG_BACKUP
                                - PRE_CHECK
                                - STAGE_PACKAGE
                                - INSTALL_PACKAGE
                                - UNUSED
                                - UNRECOGNIZED_VALUE
                            sessionId:
                              type: integer
                              description: The Vault session ID.
                            sourceMediaId:
                              type: string
                              description: The source media ID for the duplication job.
                            sourceMediaServerName:
                              type: string
                              description: >-
                                The name of the source media server for the
                                duplication job.
                            sourceStorageUnitName:
                              type: string
                              description: The name of the source storage unit.
                            startTime:
                              type: string
                              format: date-time
                              description: The UTC timestamp when the job was started.
                            state:
                              type: string
                              description: The current state of the job.
                              enum:
                                - QUEUED
                                - ACTIVE
                                - REQUEUED
                                - DONE
                                - SUSPENDED
                                - INCOMPLETE
                            status:
                              type: integer
                              description: The final job status code.
                            streamNumber:
                              type: integer
                              description: The stream number of the job.
                            submissionType:
                              type: integer
                              description: The job submission type.
                            suspendable:
                              type: integer
                              description: Indicates if the job can be suspended.
                            transferRate:
                              type: integer
                              description: >-
                                The data transfer rate in kilobytes (KB) per
                                second.
                            transportType:
                              type: string
                              description: The data transport type used for the job.
                              enum:
                                - LAN
                                - FAT
                                - UNKNOWN_TYPE
                            try:
                              type: integer
                              description: The current try number to execute this job.
                            vaultName:
                              type: string
                              description: The Vault name used by the job.
                  meta:
                    type: object
                    properties:
                      pagination:
                        type: object
                        properties:
                          limit:
                            type: integer
                            description: The number of records per page.
                          next:
                            type: string
                            description: The cursor the next page is after.
                          prev:
                            type: string
                            description: The cursor the previous page is before.
                          rangeTruncated:
                            type: boolean
                            description: >-
                              Indicates that a range request (both page[before]
                              and page[after] specified) was truncated due to
                              the maximum page size.
                example:
                  data:
                    - links:
                        self:
                          href: /admin/jobs/1
                        file-lists:
                          href: >-
                            https://dummyHost:1556/netbackup/admin/jobs/1/file-lists
                        try-logs:
                          href: >-
                            https://dummyHost:1556/netbackup/admin/jobs/1/try-logs
                      type: job
                      id: 1
                      meta:
                        page:
                          cursor: '1'
                      attributes:
                        jobId: 1
                        parentJobId: 0
                        activeProcessId: 8624
                        mainProcessId: 0
                        jobType: IMAGEDELETE
                        jobSubType: IMMEDIATE
                        policyName: ''
                        scheduleType: FULL
                        scheduleName: ''
                        clientName: ''
                        controlHost: ''
                        jobOwner: user
                        jobGroup: ''
                        backupId: ''
                        sourceMediaId: ''
                        sourceStorageUnitName: ''
                        sourceMediaServerName: ''
                        destinationMediaId: ''
                        destinationStorageUnitName: ''
                        destinationMediaServerName: ''
                        dataMovement: STANDARD
                        streamNumber: 0
                        copyNumber: 0
                        priority: 0
                        retentionLevel: 0
                        compression: 0
                        status: 0
                        state: DONE
                        done: 1
                        numberOfFiles: 0
                        estimatedFiles: 0
                        kilobytesTransferred: 0
                        kilobytesToTransfer: 0
                        transferRate: 0
                        percentComplete: 100
                        restartable: 0
                        suspendable: 0
                        resumable: 0
                        killable: 1
                        frozenImage: 0
                        transportType: LAN
                        currentOperation: 0
                        jobQueueReason: 0
                        jobQueueResource: ''
                        robotName: ''
                        vaultName: ''
                        profileName: ''
                        sessionId: 0
                        numberOfTapeToEject: 0
                        submissionType: 0
                        dumpHost: ''
                        instanceDatabaseName: ''
                        auditUserName: ''
                        auditDomainName: ''
                        auditDomainType: 0
                        restoreBackupIDs: ''
                        startTime: 2018-06-25T19:00:32.000Z
                        endTime: 2018-06-25T19:00:38.000Z
                        activeTryStartTime: 2018-06-25T19:00:32.000Z
                        lastUpdateTime: 2018-06-25T19:00:38.407Z
                        kilobytesDataTransferred: 0
                        try: 1
                        assetID: ''
                        assetDisplayableName: ''
                        workloadDisplayName: ''
                        elapsedTime: PT5M46S
                        activeElapsedTime: PT5M46S
                        childCount: 1
                        jobPath: '1'
                    - links:
                        self:
                          href: /admin/jobs/2
                        file-lists:
                          href: >-
                            https://dummyHost:1556/netbackup/admin/jobs/2/file-lists
                        try-logs:
                          href: >-
                            https://dummyHost:1556/netbackup/admin/jobs/2/try-logs
                      type: job
                      id: 2
                      meta:
                        page:
                          cursor: '2'
                      attributes:
                        jobId: 2
                        parentJobId: 0
                        activeProcessId: 8625
                        mainProcessId: 0
                        jobType: IMAGEDELETE
                        jobSubType: IMMEDIATE
                        policyName: ''
                        scheduleType: FULL
                        scheduleName: ''
                        clientName: ''
                        controlHost: ''
                        jobOwner: user
                        jobGroup: ''
                        backupId: ''
                        sourceMediaId: ''
                        sourceStorageUnitName: ''
                        sourceMediaServerName: ''
                        destinationMediaId: ''
                        destinationStorageUnitName: ''
                        destinationMediaServerName: ''
                        dataMovement: STANDARD
                        streamNumber: 0
                        copyNumber: 0
                        priority: 0
                        retentionLevel: 0
                        compression: 0
                        status: 0
                        state: DONE
                        done: 1
                        numberOfFiles: 0
                        estimatedFiles: 0
                        kilobytesTransferred: 0
                        kilobytesToTransfer: 0
                        transferRate: 0
                        percentComplete: 100
                        restartable: 0
                        suspendable: 0
                        resumable: 0
                        killable: 1
                        frozenImage: 0
                        transportType: LAN
                        currentOperation: 0
                        jobQueueReason: 0
                        jobQueueResource: ''
                        robotName: ''
                        vaultName: ''
                        profileName: ''
                        sessionId: 0
                        numberOfTapeToEject: 0
                        submissionType: 0
                        dumpHost: ''
                        instanceDatabaseName: ''
                        auditUserName: ''
                        auditDomainName: ''
                        auditDomainType: 0
                        restoreBackupIDs: ''
                        startTime: 2018-06-25T19:00:32.000Z
                        endTime: 2018-06-25T19:00:38.000Z
                        activeTryStartTime: 2018-06-25T19:00:32.000Z
                        lastUpdateTime: 2018-06-25T19:00:38.407Z
                        kilobytesDataTransferred: 0
                        try: 1
                        elapsedTime: PT5M46S
                        activeElapsedTime: PT5M46S
                        assetID: ''
                        assetDisplayableName: ''
                        workloadDisplayName: ''
                        childCount: 0
                        jobPath: '2'
        '400': &ref_11
          description: Bad request.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '405': &ref_5
          description: Method not allowed. The specified HTTP operation is invalid.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '406': *ref_2
        '500': *ref_3
        '503': &ref_6
          description: The server is busy.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
  '/admin/jobs/{jobId}':
    get:
      description: >
        Gets the job details for the specified job.


        **API Versioned:**\

        A breaking change has been made to this API starting with version 9.0.\

        See the [Getting Started
        Guide](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started)
        for full details on what has changed and general information about API
        versioning.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|VIEW|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successfully retrieved the job details for the specified job.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_40
                type: object
                properties:
                  data: *ref_4
        '401': *ref_1
        '404': &ref_7
          description: No entity found.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '405': *ref_5
        '406': *ref_2
        '415': &ref_8
          description: >
            Unsupported Media Type. The media type specified in the
            `Content-Type` header is not supported by this API.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '500': *ref_3
        '503': *ref_6
    delete:
      description: >
        Deletes the specified job.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|DELETE|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
        - &ref_10
          name: X-NetBackup-Audit-Reason
          in: header
          description: >
            Audit reason for the action being performed. This value must be
            URL-encoded. Maximum 512 bytes, in UTF-8 encoding. The remaining
            bytes are truncated.
          schema:
            type: string
          required: false
      responses:
        '202':
          description: Request accepted.
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '500': *ref_3
        '503': *ref_6
  '/admin/jobs/{jobId}/progress-logs':
    get:
      description: >
        Gets progress logs for the specified job.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|VIEW|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
        - name: 'page[limit]'
          in: query
          description: The number of progress logs on one page.
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: 'page[offset]'
          in: query
          description: The progress log offset.
          schema:
            type: integer
            default: 0
            minimum: 0
      responses:
        '200':
          description: Successfully retrieved the progress-logs for the specified job.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_42
                type: object
                properties:
                  data:
                    type: array
                    items: &ref_43
                      type: object
                      required:
                        - id
                        - type
                        - attributes
                      properties:
                        id:
                          type: integer
                          description: The offset of the log message.
                        type:
                          type: string
                          enum:
                            - getJobProgressEntryResponse
                        attributes:
                          type: object
                          required:
                            - message
                          properties:
                            message:
                              type: string
                              description: The log message.
                  meta:
                    type: object
                    properties:
                      pagination: &ref_22
                        type: object
                        properties:
                          prev:
                            type: integer
                          next:
                            type: integer
                          first:
                            type: integer
                          last:
                            type: integer
                          count:
                            type: integer
                          offset:
                            type: integer
                          limit:
                            type: integer
                    required:
                      - pagination
                required:
                  - data
                  - meta
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '406': *ref_2
        '500': *ref_3
        '503': *ref_6
  '/admin/jobs/{jobId}/try-logs':
    get:
      description: >
        Gets logs for the specified job.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|VIEW|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successfully retrieved the try-logs for the specified job.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_44
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items: &ref_9
                      type: object
                      properties:
                        type:
                          type: string
                          enum:
                            - parsedTryLogResponse
                        id:
                          type: string
                        links:
                          type: object
                          properties:
                            self:
                              type: object
                              properties:
                                href:
                                  type: string
                            prev:
                              type: object
                              properties:
                                href:
                                  type: string
                            next:
                              type: object
                              properties:
                                href:
                                  type: string
                            first:
                              type: object
                              properties:
                                href:
                                  type: string
                            last:
                              type: object
                              properties:
                                href:
                                  type: string
                        attributes:
                          type: object
                          required:
                            - tryJobId
                            - tryNumber
                            - tryStartTime
                            - tryEndTime
                            - tryStatusCode
                            - tryStatusMessage
                            - tryLog
                          properties:
                            tryJobId:
                              type: integer
                              description: The job ID for this try attempt.
                            tryNumber:
                              type: integer
                              description: >-
                                The try attempt number for which the following
                                logs were generated.
                            tryStartTime:
                              type: string
                              format: date-time
                              description: The UTC timestamp of when this try started.
                            tryEndTime:
                              type: string
                              format: date-time
                              description: The UTC timestamp of when this try finished.
                            tryStatusCode:
                              type: integer
                              description: >-
                                The status code associated with this try
                                attempt.
                            tryStatusMessage:
                              type: string
                              description: >-
                                The status message associated with the status of
                                this try attempt.
                            tryProcessId:
                              type: integer
                              description: The process ID for this try attempt.
                            tryKbps:
                              type: number
                              description: The rate of data transfer for this try attempt.
                            tryKbWritten:
                              type: number
                              description: >-
                                The total data transferred (in KB) for this try
                                attempt.
                            tryFilesWritten:
                              type: integer
                              description: The files written in this try attempt.
                            tryMediaServer:
                              type: string
                              description: >-
                                The media server that was used for this try
                                attempt.
                            trySourceStorageUnit:
                              type: string
                              description: The source storage unit for this try attempt.
                            tryDestinationStorageUnit:
                              type: string
                              description: >-
                                The destination storage unit for this try
                                attempt.
                            tryRestoredAsset:
                              type: string
                              description: >-
                                The restored asset identifier for this try
                                attempt.
                            trySessionId:
                              type: integer
                              description: The session ID for this try attempt.
                            tryTapesToEject:
                              type: integer
                              description: >-
                                The number of tapes to eject for this try
                                attempt.
                            tryTransportMode:
                              type: string
                              description: >-
                                The transport mode that was used for this try
                                attempt.
                              enum:
                                - FIBRE_TRANSPORT
                                - LAN
                            tryLog:
                              type: array
                              description: >-
                                The list of try-logs, parsed as JSON objects and
                                sorted.
                              items:
                                type: object
                                required:
                                  - message
                                properties:
                                  timestamp:
                                    type: string
                                    description: The UTC timestamp of the log entry.
                                  severity:
                                    type: string
                                    description: The severity of the log message.
                                    enum:
                                      - UNKNOWN
                                      - DEBUG
                                      - INFO
                                      - WARNING
                                      - ERROR
                                      - CRITICAL
                                  message:
                                    type: string
                                    description: The localized log message.
                example:
                  data:
                    - links:
                        self:
                          href: /admin/jobs/1/try-logs/1
                        next:
                          href: /admin/jobs/1/try-logs/2
                        first:
                          href: /admin/jobs/1/try-logs/1
                        last:
                          href: /admin/jobs/1/try-logs/3
                      type: parsedTryLogResponse
                      id: 1-1
                      attributes:
                        tryJobId: 1
                        tryNumber: 1
                        tryStartTime: 2018-09-27T08:29:32.000Z
                        tryEndTime: 2018-09-27T08:29:35.000Z
                        tryStatusCode: 0
                        tryStatusMessage: the requested operation was successfully completed
                        tryProcessId: 1234
                        trySessionId: 4523
                        tryKbps: 231.4
                        tryKbWritten: 4078.54
                        tryFilesWritten: 24
                        tryTapesToEject: 3
                        tryMediaServer: mediaServer1.domain.com
                        tryRestoredAsset: restoredAssetIdentifier
                        trySourceStorageUnit: sourceStorageUnitName
                        tryDestinationStorageUnit: destinationStorageUnitName
                        tryTransportMode: FIBRE_TRANSPORT
                        tryLog:
                          - timestamp: 2018-09-27T08:29:32.000Z
                            severity: INFO
                            message: bpdbm (pid=16548) image catalog cleanup
                          - timestamp: 2018-09-27T08:29:32.000Z
                            severity: WARNING
                            message: >-
                              bpdbm (pid=16548) Hot catalog backup is not
                              configured for 'hostname.domain.com', catalog
                              cleanup will return partial success until hot
                              catalog backup is configured.
                          - timestamp: 2018-09-27T08:29:33.000Z
                            message: restoring from image dummy-vm2_1538012955
                          - timestamp: 2018-09-27T08:29:35.000Z
                            message: restored from image dummy-vm2_1538012955
                    - links:
                        self:
                          href: /admin/jobs/1/try-logs/2
                        prev:
                          href: /admin/jobs/1/try-logs/1
                        next:
                          href: /admin/jobs/1/try-logs/3
                        first:
                          href: /admin/jobs/1/try-logs/1
                        last:
                          href: /admin/jobs/1/try-logs/3
                      type: parsedTryLogResponse
                      id: 1-2
                      attributes:
                        tryJobId: 1
                        tryNumber: 2
                        tryStartTime: 2018-09-27T08:39:32.000Z
                        tryEndTime: 2018-09-27T08:39:35.000Z
                        tryStatusCode: 0
                        tryStatusMessage: the requested operation was successfully completed
                        tryProcessId: 4215
                        trySessionId: 4564
                        tryKbps: 231.4
                        tryKbWritten: 4078.54
                        tryFilesWritten: 24
                        tryMediaServer: mediaServer1.domain.com
                        tryRestoredAsset: restoredAssetIdentifier
                        trySourceStorageUnit: sourceStorageUnitName
                        tryDestinationStorageUnit: destinationStorageUnitName
                        tryTransportMode: FIBRE_TRANSPORT
                        tryLog:
                          - timestamp: 2018-09-27T08:39:32.000Z
                            severity: INFO
                            message: bpdbm (pid=16559) image catalog cleanup
                          - timestamp: 2018-09-27T08:39:32.000Z
                            severity: WARNING
                            message: >-
                              bpdbm (pid=16559) Hot catalog backup is not
                              configured for 'hostname.domain.com', catalog
                              cleanup will return partial success until hot
                              catalog backup is configured.
                          - timestamp: 2018-09-27T08:39:33.000Z
                            message: restoring from image dummy-vm2_1538012955
                          - timestamp: 2018-09-27T08:39:35.000Z
                            message: restored from image dummy-vm2_1538012955
                    - links:
                        self:
                          href: /admin/jobs/1/try-logs/3
                        prev:
                          href: /admin/jobs/1/try-logs/2
                        first:
                          href: /admin/jobs/1/try-logs/1
                        last:
                          href: /admin/jobs/1/try-logs/3
                      type: parsedTryLogResponse
                      id: 1-3
                      attributes:
                        tryJobId: 1
                        tryNumber: 3
                        tryStartTime: 2018-09-27T08:49:32.000Z
                        tryEndTime: 2018-09-27T08:49:35.000Z
                        tryStatusCode: 0
                        tryStatusMessage: the requested operation was successfully completed
                        tryProcessId: 4321
                        trySessionId: 4567
                        tryKbps: 231.4
                        tryKbWritten: 4078.54
                        tryFilesWritten: 24
                        tryTapesToEject: 4
                        tryMediaServer: mediaServer1.domain.com
                        tryRestoredAsset: restoredAssetIdentifier
                        trySourceStorageUnit: sourceStorageUnitName
                        tryDestinationStorageUnit: destinationStorageUnitName
                        tryTransportMode: FIBRE_TRANSPORT
                        tryLog:
                          - timestamp: 2018-09-27T08:49:32.000Z
                            severity: INFO
                            message: bpdbm (pid=17548) image catalog cleanup
                          - timestamp: 2018-09-27T08:49:32.000Z
                            severity: WARNING
                            message: >-
                              bpdbm (pid=17548) Hot catalog backup is not
                              configured for 'hostname.domain.com', catalog
                              cleanup will return partial success until hot
                              catalog backup is configured.
                          - timestamp: 2018-09-27T08:49:33.000Z
                            message: restoring from image dummy-vm2_1538012955
                          - timestamp: 2018-09-27T08:49:35.000Z
                            message: restored from image dummy-vm2_1538012955
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '406': *ref_2
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/jobs/{jobId}/try-logs/{attempt}':
    get:
      description: >
        Gets the try-logs for the specified job ID and the specified try number.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|VIEW|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
        - name: attempt
          in: path
          description: The try attempt for the specified job.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successfully retrieved the try-log for the specified job.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_45
                type: object
                properties:
                  data: *ref_9
                example:
                  data:
                    links:
                      self:
                        href: /admin/jobs/1/try-logs/2
                      prev:
                        href: /admin/jobs/1/try-logs/1
                      next:
                        href: /admin/jobs/1/try-logs/3
                      first:
                        href: /admin/jobs/1/try-logs/1
                      last:
                        href: /admin/jobs/1/try-logs/3
                    type: parsedTryLogResponse
                    id: 1-2
                    attributes:
                      tryJobId: 1
                      tryNumber: 2
                      tryStartTime: 2018-09-27T08:29:32.000Z
                      tryEndTime: 2018-09-27T08:29:35.000Z
                      tryStatusCode: 0
                      tryStatusMessage: the requested operation was successfully completed
                      tryProcessId: 1234
                      trySessionId: 4567
                      tryKbps: 231.4
                      tryKbWritten: 4078.54
                      tryFilesWritten: 24
                      tryTapesToEject: 4
                      tryMediaServer: mediaServer1.domain.com
                      trySourceStorageUnit: sourceStorageUnitName
                      tryDestinationStorageUnit: destinationStorageUnitName
                      tryLog:
                        - timestamp: 2018-09-27T08:29:32.000Z
                          severity: INFO
                          message: bpdbm (pid=16548) image catalog cleanup
                        - timestamp: 2018-09-27T08:29:32.000Z
                          severity: WARNING
                          message: >-
                            bpdbm (pid=16548) Hot catalog backup is not
                            configured for 'hostname.domain.com', catalog
                            cleanup will return partial success until hot
                            catalog backup is configured.
                        - timestamp: 2018-09-27T08:29:33.000Z
                          message: restoring from image dummy-vm2_1538012955
                        - timestamp: 2018-09-27T08:29:35.000Z
                          message: restored from image dummy-vm2_1538012955
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '406': *ref_2
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/jobs/{jobId}/file-lists':
    get:
      description: >
        Gets the file list for the specified job.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|VIEW|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successfully retrieved the file list for the specified job.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_46
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      type:
                        type: string
                      id:
                        type: integer
                      links:
                        type: object
                        properties:
                          self:
                            type: object
                            properties:
                              href:
                                type: string
                      attributes:
                        type: object
                        properties:
                          fileList:
                            type: array
                            items:
                              type: string
                example:
                  data:
                    links:
                      self:
                        href: /admin/jobs/1/file-lists
                    type: file-lists
                    id: 1
                    attributes:
                      fileList:
                        - 'C:\BackupSource\MyFolder'
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '406': *ref_2
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/jobs/{jobId}/cancel':
    post:
      description: >
        Cancels the specified job.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|CANCEL|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|CANCEL|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
        - *ref_10
      responses:
        '202':
          description: Request accepted.
        '400': *ref_11
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/jobs/{jobId}/suspend':
    post:
      description: >
        Suspends the specified job.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|SUSPEND|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|SUSPEND|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
        - *ref_10
      responses:
        '202':
          description: Request accepted.
        '400': *ref_11
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/jobs/{jobId}/resume':
    post:
      description: >
        Resumes the specified job.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|RESUME|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|RESUME|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
        - *ref_10
      responses:
        '202':
          description: Request accepted.
        '400': *ref_11
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/user-operation-log-contents/{fileName}':
    get:
      description: >
        Fetch the contents of a user operation log file. 


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|USER-LOGS|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - User Operation Logs
      parameters:
        - name: X-NetBackup-Preview
          in: header
          required: false
          description: >
            If true then sends complete log else sends last fifteen log lines.
            Defaults to true.
          schema:
            type: boolean
            default: true
        - name: fileName
          in: path
          required: true
          description: The user operation log file to fetch.
          schema:
            type: string
      responses:
        '200':
          description: Successfully returned the user operation log file contents.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_25
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      id:
                        type: string
                        description: >-
                          The ID value is the name of the file whose contents
                          are being returned.
                      type:
                        type: string
                        enum:
                          - userOperationLog
                      attributes:
                        type: object
                        required:
                          - contents
                          - absolutePath
                          - truncated
                        properties:
                          contents:
                            description: The user operation log file contents by line.
                            type: array
                            items:
                              type: string
                          absolutePath:
                            type: string
                            description: The absolute path of the file .
                          truncated:
                            type: boolean
                            description: >-
                              This value is true if the full file contents are
                              not included. (First 2 and last 10k lines are)
        '400': *ref_11
        '401': *ref_1
        '404': *ref_7
        '500': *ref_3
  '/admin/jobs/{jobId}/restart':
    post:
      description: >
        Restarts the specified job.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|RESTART|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. \
            `GET /admin/jobs/{jobId}?meta=accessControlId`) \
        Requires Operation: `|OPERATIONS|MANAGE|JOBS|RESTART|`
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: integer
        - *ref_10
      requestBody:
        content:
          application/vnd.netbackup+json;version=13.0: {}
      responses:
        '202':
          description: Request accepted.
          headers:
            Location:
              description: A link to the restart job requests monitor.
              schema:
                type: string
        '400': *ref_11
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  /admin/jobs-count-requests:
    post:
      description: >
        Gets the job count based on the specified filters. If no filters are
        specified, the total jobs count is retrieved.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Jobs
      requestBody:
        content:
          application/vnd.netbackup+json;version=13.0:
            schema: &ref_57
              type: object
              required:
                - data
              properties:
                data:
                  description: >-
                    Contains additional request parameters like a filter, while
                    geting the job count.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The type of jobs count request.
                      type: string
                      enum:
                        - jobCount
                    attributes:
                      description: Contains the filter attribute.
                      type: object
                      properties:
                        filter:
                          type: string
                          description: >
                            The filter to apply while getting the job count.

                            Filter criteria syntax is based on OData standards.
                            Filtering is supported on the following attributes:

                            |Name|Supported Operators|Description|Schema|

                            |---|---|---|---|

                            |jobId|eq ne lt gt le ge|The job
                            identifier.|integer|

                            |parentJobId|eq ne lt gt le ge|The parent job
                            identifier.|integer|

                            |clientName|eq ne contains, startswith, endswith|The
                            name of the client to protect. If the client name
                            contains a space or "%", encode these characters as
                            '%20' or '%25', respectively.|string|

                            |endTime|eq ne lt gt le ge|The time when the job
                            finished.|date-time|

                            |startTime|eq ne lt gt le ge|The time when the job
                            started.|date-time|

                            |state|eq ne|The state of the job. Possible values:
                            QUEUED, ACTIVE, REQUEUED, DONE, SUSPENDED,
                            INCOMPLETE|string|

                            |status|eq ne lt gt le ge|The final job status
                            code.|integer|

                            |jobType|eq ne|The type of the job. Possible values:
                            BACKUP, ARCHIVE, RESTORE, VERIFY, DUPLICATE, IMPORT,
                            DBBACKUP, VAULT, LABEL, ERASE, TPREQ, TPCLEAN,
                            TPFORMAT, VMPHYSINV, DQTS, DBRECOVER, MCONTENTS,
                            IMAGEDELETE, GENERIC, REPLICATE, REPLICA_IMPORT,
                            SNAPDUPE, SNAPREPLICATE, SNAPIMPORT,
                            APP_STATE_CAPTURE, INDEXING, INDEXCLEANUP, SNAPSHOT,
                            SNAPINDEX, ACTIVATE_IR, DEACTIVATE_IR,
                            REACTIVATE_IR, STOP_IR, INSTANT_RECOVERY,
                            RMAN_CATALOG, LOCKVM, DEPLOYMENT, INSTANT_ACCESS,
                            CLOUD_SNAPSHOT_REPLICATE, PREPARING_FOR_BACKUP,
                            INSTANT_SYNC, TRIAL_BACKUP,
                            MULTIPLE_STORAGE_METADATA|string|

                            |policyName|contains, startswith, endswith|The name
                            of the policy used by this job.|string|

                            |policyType|eq ne|The type of the policy. Possible
                            values: STANDARD, PROXY, NONSTANDARD, APOLLO_WBAK,
                            OBACKUP, ANY, INFORMIX, SYBASE, SHAREPOINT, WINDOWS,
                            NETWARE, BACKTRACK, AUSPEX_FASTBACK, WINDOWS_NT,
                            OS2, SQL_SERVER, EXCHANGE, SAP, DB2, NDMP,
                            FLASHBACKUP, SPLITMIRROR, AFS, DFS, DATASTORE,
                            LOTUS_NOTES, NCR_TERADATA, VAX_VMS, HP3000_MPE,
                            FBU_WINDOWS, VAULT, BE_SQL_SERVER, BE_EXCHANGE, MAC,
                            DS, NBU_CATALOG, GENERIC, CMS_DB, PUREDISK_EXPORT,
                            ENTERPRISE_VAULT, VMWARE, HYPERV, NBU_SEARCHSERVER,
                            HYPERSCALE, BIGDATA, CLOUD, DEPLOYMENT, HYPERVISOR,
                            UNIVERSAL_SHARE, NAS_DATA_PROTECTION, KUBERNETES,
                            MSDP_OBJECT_STORE, EPIC_LARGE_FILE, NUTANIX_AHV,
                            KVM|string|

                            |restoreBackupIDs|eq, ne, contains, startswith,
                            endswith|The backup images used for restore. If the
                            client name contains a space or "%", encode these
                            characters as '%20' or '%25', respectively.|string|

                            |assetID|eq|The asset identifier.|string|

                            |assetDisplayableName|eq, ne, contains, startswith,
                            endswith|The name of the asset for which the job was
                            started. If the asset name contains a space or "%",
                            encode these characters as '%20' or '%25',
                            respectively.|string|

                            |workloadDisplayName|eq, ne, contains, startswith,
                            endswith|The name of the workload for which the job
                            was started. If the workload display name contains a
                            space or "%", encode these characters as '%20' or
                            '%25', respectively.|string|

                            |destinationStorageUnitName|eq|The destination
                            storage unit name.|string|

                            |destinationMediaId|eq|The destination media
                            identifier.|string|

                            |applicationType|eq|The job application type value.
                            Possible values: 0(NONE), 1(VMWARE), 2(HYPERV),
                            3(VXVI), 4(HYPERSCALE), 5(RHV), 6(AHV). |integer|

                            |dteMode|eq|The mode of data-in-transit encryption
                            for this job. Possible values: UNKNOWN, ON,
                            OFF|string|

                            |jobPath|eq, ne, contains, startswith, endswith|The
                            job ID and its ancestor's job ID. For example,
                            grandParentJobId.parentJobId.jobId. For root jobs it
                            is the job ID for that job.|String|
              example:
                data:
                  type: jobCount
                  attributes:
                    filter: >-
                      startTime ge 2020-05-06T11:41:45.000Z and endTime le
                      2021-05-06T11:41:45.000Z
        description: >-
          The request body that provides an additional filter parameter while
          getting the count.
      responses:
        '200':
          description: |
            Successfully retrieved the job count.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_58
                properties:
                  data:
                    type: object
                    required:
                      - type
                      - id
                      - attributes
                    properties:
                      type:
                        type: string
                        enum:
                          - jobCount
                      id:
                        type: string
                      attributes:
                        type: object
                        properties:
                          count:
                            type: integer
                            format: int64
                            description: The number of jobs.
                          filter:
                            type: string
                            description: >
                              The filter that is applied while getting the job
                              count.

                              Filter criteria syntax is based on OData
                              standards. Filtering is supported on the following
                              attributes:

                              |Name|Supported Operators|Description|Schema|

                              |---|---|---|---|

                              |jobId|eq ne lt gt le ge|The job
                              identifier.|integer|

                              |parentJobId|eq ne lt gt le ge|The parent job
                              identifier.|integer|

                              |clientName|eq ne contains, startswith,
                              endswith|The name of the client to protect. If the
                              client name contains a space or "%", encode these
                              characters as '%20' or '%25',
                              respectively.|string|

                              |endTime|eq ne lt gt le ge|The time when the job
                              finished.|date-time|

                              |startTime|eq ne lt gt le ge|The time when the job
                              started.|date-time|

                              |state|eq ne|The state of the job. Possible
                              values: QUEUED, ACTIVE, REQUEUED, DONE, SUSPENDED,
                              INCOMPLETE|string|

                              |status|eq ne lt gt le ge|The final job status
                              code.|integer|

                              |jobType|eq ne|The type of the job. Possible
                              values: BACKUP, ARCHIVE, RESTORE, VERIFY,
                              DUPLICATE, IMPORT, DBBACKUP, VAULT, LABEL, ERASE,
                              TPREQ, TPCLEAN, TPFORMAT, VMPHYSINV, DQTS,
                              DBRECOVER, MCONTENTS, IMAGEDELETE, GENERIC,
                              REPLICATE, REPLICA_IMPORT, SNAPDUPE,
                              SNAPREPLICATE, SNAPIMPORT, APP_STATE_CAPTURE,
                              INDEXING, INDEXCLEANUP, SNAPSHOT, SNAPINDEX,
                              ACTIVATE_IR, DEACTIVATE_IR, REACTIVATE_IR,
                              STOP_IR, INSTANT_RECOVERY, RMAN_CATALOG, LOCKVM,
                              DEPLOYMENT, INSTANT_ACCESS,
                              CLOUD_SNAPSHOT_REPLICATE, PREPARING_FOR_BACKUP,
                              INSTANT_SYNC, TRIAL_BACKUP,
                              MULTIPLE_STORAGE_METADATA|string|

                              |policyName|contains, startswith, endswith|The
                              name of the policy used by this job.|string|

                              |policyType|eq ne|The type of the policy. Possible
                              values: STANDARD, PROXY, NONSTANDARD, APOLLO_WBAK,
                              OBACKUP, ANY, INFORMIX, SYBASE, SHAREPOINT,
                              WINDOWS, NETWARE, BACKTRACK, AUSPEX_FASTBACK,
                              WINDOWS_NT, OS2, SQL_SERVER, EXCHANGE, SAP, DB2,
                              NDMP, FLASHBACKUP, SPLITMIRROR, AFS, DFS,
                              DATASTORE, LOTUS_NOTES, NCR_TERADATA, VAX_VMS,
                              HP3000_MPE, FBU_WINDOWS, VAULT, BE_SQL_SERVER,
                              BE_EXCHANGE, MAC, DS, NBU_CATALOG, GENERIC,
                              CMS_DB, PUREDISK_EXPORT, ENTERPRISE_VAULT, VMWARE,
                              HYPERV, NBU_SEARCHSERVER, HYPERSCALE, BIGDATA,
                              CLOUD, DEPLOYMENT, HYPERVISOR, UNIVERSAL_SHARE,
                              NAS_DATA_PROTECTION, KUBERNETES,
                              MSDP_OBJECT_STORE, EPIC_LARGE_FILE, NUTANIX_AHV,
                              KVM |string|

                              |restoreBackupIDs|eq, ne, contains, startswith,
                              endswith|The backup images used for restore. If
                              the client name contains a space or "%", encode
                              these characters as '%20' or '%25',
                              respectively.|string|

                              |assetID|eq|The asset identifier.|string|

                              |assetDisplayableName|eq, ne, contains,
                              startswith, endswith|The name of the asset for
                              which the job was started. If the asset name
                              contains a space or "%", encode these characters
                              as '%20' or '%25', respectively.|string|

                              |workloadDisplayName|eq, ne, contains, startswith,
                              endswith|The name of the workload for which the
                              job was started. If the workload display name
                              contains a space or "%", encode these characters
                              as '%20' or '%25', respectively.|string|

                              |destinationStorageUnitName|eq|The destination
                              storage unit name.|string|

                              |destinationMediaId|eq|The destination media
                              identifier.|string|

                              |applicationType|eq|The job application type
                              value. Possible values: 0(NONE), 1(VMWARE),
                              2(HYPERV), 3(VXVI), 4(HYPERSCALE), 5(RHV), 6(AHV).
                              |integer|

                              |dteMode|eq|The mode of data-in-transit encryption
                              for this job. Possible values: UNKNOWN, ON,
                              OFF|string|

                              |jobPath|eq, ne, contains, startswith,
                              endswith|The job ID and its ancestor's job ID. For
                              example, grandParentJobId.parentJobId.jobId. For
                              root jobs it is the job ID for that job.|String|
        '400': *ref_11
        '401': *ref_1
        '500': *ref_3
        '503': *ref_6
  /admin/manual-backup:
    post:
      description: >
        Start a manual backup job.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|PROTECTION|POLICIES|`\

        Requires Operation: `|OPERATIONS|PROTECTION|POLICIES|MANUAL-BACKUP|`
      tags:
        - Jobs
      requestBody:
        description: The details of the manual backup to start.
        required: true
        content:
          application/vnd.netbackup+json;version=13.0:
            schema: &ref_24
              type: object
              properties:
                data:
                  type: object
                  properties:
                    type:
                      type: string
                      description: The resource type.
                      enum:
                        - backupRequest
                    attributes:
                      type: object
                      description: The request for the manual backup.
                      properties:
                        policyName:
                          type: string
                          description: >-
                            The name of the policy used to start the manual
                            backup.
                        scheduleName:
                          type: string
                          description: >-
                            The name of the schedule used to start the manual
                            backup.
                        clientName:
                          type: string
                          description: The name of the client.
                        keyword:
                          type: string
                          description: >-
                            A keyword that is added to the created image.
                            Optional.
                        instanceName:
                          type: string
                          description: >-
                            The name of the Oracle or Microsoft SQL Server
                            instance to back up.
                        databaseName:
                          type: string
                          description: >-
                            The name of the Microsoft SQL Server database to
                            back up.
                        dbUniqueName:
                          type: string
                          description: >-
                            The Oracle RAC database name. The database name
                            should be used along with the dbid.
                        dbid:
                          type: string
                          description: >-
                            The Oracle RAC database ID. The database ID should
                            be used along with the dbUniqueName.
                        trialBackup:
                          type: boolean
                          default: false
                          description: >-
                            Indicates if the backup is for trial purpose. Trial
                            Backup is not recoverable.
                      required:
                        - policyName
                  required:
                    - type
                    - attributes
              required:
                - data
      responses:
        '202':
          description: Successfully started the job.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_26
                type: object
                properties:
                  data:
                    type: array
                    items: &ref_27
                      type: object
                      properties:
                        type:
                          type: string
                          description: Type resource type.
                          enum:
                            - job
                        id:
                          type: string
                          description: JobId of job that will be started.
                        attributes:
                          type: object
                          description: manual backup response
                          properties:
                            jobId:
                              type: integer
                              description: JobId of job that will be started.
                        links:
                          type: object
                          properties:
                            self:
                              type: object
                              properties:
                                href:
                                  type: string
                                  description: >-
                                    Link to get information about the manually
                                    started job.
        '400': *ref_11
        '401': *ref_1
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  /admin/deploy-now:
    post:
      description: >
        Start a deployment job.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|DEPLOYMENTS|PACKAGES|`\

        Requires Operation: `|OPERATIONS|DEPLOYMENTS|PACKAGES|INSTALL|`
      tags:
        - Jobs
      requestBody:
        content:
          application/vnd.netbackup+json;version=13.0:
            schema: &ref_30
              type: object
              properties:
                data:
                  type: object
                  properties:
                    type:
                      type: string
                      description: The resource type.
                      enum:
                        - deployNowNonPolicyRequest
                    attributes:
                      type: object
                      description: The request for deploy now.
                      properties:
                        hostNames:
                          type: array
                          items:
                            type: string
                            description: >-
                              The names of hosts to perform the deployment job
                              on. All hosts in the list must be of the same
                              type, either all clients or all media servers.
                          minItems: 1
                          uniqueItems: true
                        deploymentOperationType:
                          type: string
                          description: >-
                            The operation to perform when executing the
                            deployment job.
                          enum:
                            - INSTALL
                            - PRECHECK
                            - STAGE
                        deploymentInstallable:
                          type: string
                          description: >-
                            Name of a deployment installable used for deployment
                            jobs. It must be specified in the format of
                            prefix_version or prefix_eebversion_version, where
                            prefix is one of [nbclient, nbserver, nbeeb,
                            nbeeb.client, nbeeb.server]. For example,
                            nbclient_10.1, nbeeb.server_7836036.2_10.1
                        deploymentLimitJobs:
                          type: integer
                          description: >-
                            Limit the number of client jobs for a specified
                            policy (0 = unlimited).
                          minimum: 0
                          maximum: 999
                          default: 0
                        deploymentMasterServer:
                          type: string
                          description: >-
                            Master server name used by a deployment job. If a
                            value is not specified, it defaults to the master
                            server carrying out the API request.
                        deploymentMediaServer:
                          type: string
                          description: >-
                            The host name of the media server that target hosts
                            communicate with and where packages are cached. The
                            packages are cached to it so that it can serve them
                            in deployment operations. This option helps optimize
                            the efficiency of the NetBackup master server. If a
                            value is specified and the deploy request is for a
                            server, the value must be the same as the value
                            specified for deploymentMasterServer, or must be the
                            default master server if no value is specified for
                            deploymentMasterServer.
                        deploymentOptions:
                          description: Optional deployment values.
                          type: object
                          properties:
                            javaGuiJre:
                              type: string
                              description: Java GUI and JRE install options.
                              enum:
                                - INCLUDE
                                - EXCLUDE
                                - MATCH
                              default: MATCH
                        deploymentSecurity: &ref_31
                          type: object
                          description: >-
                            Security certificate configuration option the
                            deployment job should use.
                          oneOf:
                            - &ref_32
                              type: object
                              description: >
                                Specify this option if the deployment job should
                                use the existing security certificates
                                configured on the target hosts.
                              required:
                                - securityOption
                              properties:
                                securityOption:
                                  type: string
                                  enum:
                                    - USE_EXISTING
                            - &ref_33
                              type: object
                              description: >
                                Specify this option if the deployment job should
                                use the external security certificate
                                configurations specified here for the target
                                hosts.
                              required:
                                - securityOption
                              properties:
                                securityOption:
                                  type: string
                                  enum:
                                    - ECA
                                unixEcaConfig: &ref_34
                                  type: object
                                  description: >
                                    Specifies the external security certificate
                                    configuration for Unix hosts. This is a file
                                    based certificate configuration. **Required
                                    if hostNames contains any Unix hosts.**
                                  allOf:
                                    - &ref_14
                                      type: object
                                      description: >-
                                        Specifies a file based external security
                                        certificate configuration.
                                      required:
                                        - ecaCertPath
                                        - ecaPrivateKeyPath
                                        - ecaTrustStorePath
                                      properties:
                                        ecaCertPath:
                                          type: string
                                          description: >-
                                            Specifies the Unix and Linux path or
                                            Windows folder path and file to the
                                            certificate file of the external
                                            CA-signed certificate.
                                        ecaCrlCheckLevel: &ref_12
                                          type: string
                                          description: >-
                                            Specify how to handle the Certificate
                                            Revocation List (CRL) on Unix and Linux
                                            or Windows hosts.
                                          enum:
                                            - DISABLED
                                            - USE_CDP
                                            - USE_PATH
                                          default: DISABLED
                                        ecaCrlPath: &ref_13
                                          type: string
                                          description: >-
                                            Specifies the Unix and Linux directory
                                            path or Windows folder path of the CRL
                                            associated with the external CA.
                                            Required if crlCheckLevel is USE_PATH;
                                            otherwise, the value is ignored.
                                        ecaKeyPassphrasefile:
                                          type: string
                                          description: >-
                                            Specifies the Unix and Linux file or
                                            Windows folder path and file containing
                                            the passphrase that protects private key
                                            files.
                                        ecaPrivateKeyPath:
                                          type: string
                                          description: >-
                                            Specifies the Unix and Linux path or
                                            Windows folder path and file of the
                                            keystore associated with the external
                                            CA-signed certificate.
                                        ecaTrustStorePath:
                                          type: string
                                          description: >-
                                            Specifies the Unix and Linux path or
                                            Windows folder path and file for the
                                            trust store external CA certificate.
                                windowsEcaConfig: &ref_35
                                  type: object
                                  description: >
                                    Specifies the external security certificate
                                    configuration for Windows hosts. Either a
                                    Windows certificate store configuration or a
                                    file based certificate configuration can be
                                    specified. **Required if hostNames contains
                                    any Windows hosts.**
                                  oneOf:
                                    - &ref_36
                                      type: object
                                      description: >-
                                        Specifies a Windows certificate store
                                        external security certificate
                                        configuration.
                                      required:
                                        - winEcaConfigType
                                        - winEcaCertStore
                                      properties:
                                        winEcaConfigType:
                                          type: string
                                          enum:
                                            - CERT_STORE
                                        winEcaCertStore:
                                          type: string
                                          description: >-
                                            Specifies the Windows folder path and
                                            file of the Windows certificate store.
                                        ecaCrlCheckLevel: *ref_12
                                        ecaCrlPath: *ref_13
                                    - &ref_37
                                      type: object
                                      description: >-
                                        Specifies a file based external security
                                        certificate configuration for Windows
                                        hosts.
                                      allOf:
                                        - type: object
                                          required:
                                            - winEcaConfigType
                                          properties:
                                            winEcaConfigType:
                                              type: string
                                              enum:
                                                - FILE
                                        - *ref_14
                                  discriminator:
                                    propertyName: winEcaConfigType
                                    mapping:
                                      CERT_STORE: >-
                                        #/components/schemas/deploymentWinCertificateStoreConfig
                                      FILE: >-
                                        #/components/schemas/deploymentWinFileBasedCertificateConfig
                          discriminator:
                            propertyName: securityOption
                            mapping:
                              USE_EXISTING: '#/components/schemas/deploymentUseExisting'
                              ECA: '#/components/schemas/deploymentECA'
                      required:
                        - deploymentOperationType
                        - deploymentInstallable
                        - deploymentSecurity
                        - hostNames
                  required:
                    - type
                    - attributes
              required:
                - data
            examples:
              Sample1: &ref_68
                summary: Use existing security certificates
                value:
                  data:
                    type: deployNowNonPolicyRequest
                    attributes:
                      hostNames:
                        - target hostname 1
                        - target hostname 2
                      deploymentOperationType: INSTALL
                      deploymentInstallable: nbclient_9.0
                      deploymentLimitJobs: 5
                      deploymentMasterServer: master hostname
                      deploymentMediaServer: media hostname
                      deploymentOptions:
                        javaGuiJre: MATCH
                      deploymentSecurity:
                        securityOption: USE_EXISTING
              Sample2: &ref_66
                summary: External security certificates (Windows file based)
                value:
                  data:
                    type: deployNowNonPolicyRequest
                    attributes:
                      hostNames:
                        - target hostname 1
                        - target hostname 2
                      deploymentOperationType: PRECHECK
                      deploymentInstallable: nbclient_9.0
                      deploymentLimitJobs: 5
                      deploymentMasterServer: master hostname
                      deploymentMediaServer: media hostname
                      deploymentOptions:
                        javaGuiJre: EXCLUDE
                      deploymentSecurity:
                        securityOption: ECA
                        unixEcaConfig:
                          ecaCertPath: /eca/cert/path
                          ecaCrlCheckLevel: DISABLED
                          ecaKeyPassphrasefile: /eca/key/passphrase/file
                          ecaPrivateKeyPath: /eca/private/key/path
                          ecaTrustStorePath: /eca/trustStore/path
                        windowsEcaConfig:
                          winEcaConfigType: FILE
                          ecaCertPath: 'C:\eca\cert\path'
                          ecaCrlCheckLevel: USE_PATH
                          ecaCrlPath: 'C:\eca\crl\path'
                          ecaKeyPassphrasefile: 'C:\eca\key\passphrase\file'
                          ecaPrivateKeyPath: 'C:\eca\private\key\path'
                          ecaTrustStorePath: 'C:\eca\trustStore\path'
              Sample3: &ref_67
                summary: External security certificates (Windows certificate store)
                value:
                  data:
                    type: deployNowNonPolicyRequest
                    attributes:
                      hostNames:
                        - target hostname 1
                        - target hostname 2
                      deploymentOperationType: STAGE
                      deploymentInstallable: nbclient_9.0
                      deploymentLimitJobs: 5
                      deploymentMasterServer: master hostname
                      deploymentMediaServer: media hostname
                      deploymentOptions:
                        javaGuiJre: INCLUDE
                      deploymentSecurity:
                        securityOption: ECA
                        unixEcaConfig:
                          ecaCertPath: /eca/cert/path
                          ecaCrlCheckLevel: USE_PATH
                          ecaCrlPath: /eca/crlpath
                          ecaKeyPassphrasefile: /eca/key/passphrase/file
                          ecaPrivateKeyPath: /eca/private/key/path
                          ecaTrustStorePath: /eca/trustStore/path
                        windowsEcaConfig:
                          winEcaConfigType: CERT_STORE
                          winEcaCertStore: 'C:\eca\cert\store'
                          ecaCrlCheckLevel: USE_CDP
        description: The details of the deployment job to start.
        required: true
      responses:
        '202':
          description: Successfully started the job.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_38
                type: object
                properties:
                  data:
                    type: array
                    items: *ref_4
        '400': *ref_11
        '401': *ref_1
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/restart-job-requests/{originalJobId}':
    get:
      description: >
        Get the job ID for the new job after having restarted the specified
        original job.


        **Access Control**\

        Access to jobs can be enforced globally for all jobs by granting
        privileges on the `|MANAGE|JOBS|` namespace. \

        Some workloads support object-level access control based on the
        NetBackup asset for which the job was triggered.

        For example, job-related operations can be granted for a backup or
        recovery job of a specific workload asset

        namespace. The `data.meta.accessControlId` metadata response attribute
        of a particular job record contains

        the object-level namespace to control access at the object level.


        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|JOBS|`\

        Requires Operation: `|OPERATIONS|VIEW|`\

        OR \

        Enforcement Type:
        [Object-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-object-level-enforcement)\

        Namespace: The object namespace of the workload asset for which the job
        was created. \

        (Reference the `data.meta.accessControlId` metadata response attribute
        for the specified `jobId` in the API response. `GET
        /admin/jobs/{jobId}?meta=accessControlId`) \

        Requires Operation: `|OPERATIONS|MANAGE|JOBS|VIEW|`
      tags:
        - Jobs
      parameters:
        - name: originalJobId
          in: path
          description: The job identifier.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: >-
            Successfully retrieved the new restarted job ID for the specified
            job.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_39
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      type:
                        description: The job restart response type.
                        type: string
                        enum:
                          - jobRestartResponse
                      id:
                        description: The new job identifier of the restarted job.
                        type: string
                      links:
                        type: object
                        properties:
                          self:
                            type: object
                            properties:
                              href:
                                type: string
        '202':
          description: The attempt to restart the original job is still in progress.
          headers:
            Retry-After:
              description: >-
                The time in ISO-8601 format when the results may be checked
                next.
              schema:
                type: string
                format: date-time
        '401': *ref_1
        '404': *ref_7
        '405': *ref_5
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/hosts/{hostId}/services':
    get:
      description: >
        Get the list of NetBackup services on the specified host.


        **NOTE:**\

        This API is not supported for Cloud Scale deployment. It returns a
        response status 400-Bad request 

        http response if you provide a host ID for a Cloud Scale host.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|HOSTS|PROCESSES|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Hosts
      parameters:
        - *ref_15
      responses:
        '200':
          description: >-
            Successfully retrieved the list of NetBackup services on the
            specified host.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_51
                type: object
                properties:
                  data:
                    type: array
                    items: &ref_16
                      type: object
                      properties:
                        type:
                          type: string
                          description: The resource type.
                          enum:
                            - service
                        id:
                          type: string
                          description: The name of the service (daemon).
                        attributes:
                          type: object
                          properties:
                            displayName:
                              type: string
                              description: The display name of the service.
                            daemonCode:
                              type: string
                              description: The daemon code of the service.
                            status:
                              type: string
                              description: The status of the service.
                              enum:
                                - RUNNING
                                - STOPPED
                                - DISABLED
                            serviceType:
                              type: string
                              description: The type of the running service (daemon).
                            binaryPath:
                              type: string
                              description: The path of the service (daemon).
                            startName:
                              type: string
                              description: >-
                                The account that is starting the service
                                (daemon).
                            controlsAccepted:
                              type: string
                              description: The controls accepted by the service (daemon).
                            startUp:
                              type: string
                              description: The startup type of the service (daemon).
                            winExitCode:
                              type: string
                              description: >-
                                The Windows exit code of the service (daemon)
                                which is OS specific.
                            serviceExitCode:
                              type: string
                              description: >-
                                The daemon exit code of the service (daemon)
                                which is process specific.
                            access:
                              type: array
                              description: >-
                                The access rights of action perfomed on the
                                service (daemon).
                              items:
                                type: integer
                                description: >-
                                  An array of three values, for example [a,b,c].
                                  The first position (a) represents the start
                                  action. The second position (b) represents the
                                  stop action. The thirds position (c)
                                  represents the restart action. A value of 0 in
                                  indicates that the user cannot perform the
                                  action. A value of 1 indicates that the user
                                  can perform the action. For example, [1,1,1]
                                  indicates that the user can perform all
                                  actions, [0,0,1] indicates that the user can
                                  only perform a restart.
                              example:
                                - 1
                                - 1
                                - 1
                          required:
                            - status
                            - access
                      required:
                        - type
                        - id
                        - attributes
                required:
                  - data
        '400':
          description: Not supported for Cloud Scale deployment.
        '401': *ref_1
        '404':
          description: No host exists with the specified host ID.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '406': *ref_2
        '500': *ref_3
        '501':
          description: >-
            Not implemented for hosts with NetBackup release version prior to
            8.2.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '503': *ref_6
  '/admin/hosts/{hostId}/services/{serviceName}':
    get:
      description: >
        Get the details of the given NetBackup service on the specified host.


        **NOTE:**\

        This API is not supported for Cloud Scale deployment. It returns a
        response status 400-Bad request 

        http response if you provide a host ID for a Cloud Scale host.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|HOSTS|PROCESSES|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Hosts
      parameters:
        - *ref_15
        - &ref_17
          name: serviceName
          in: path
          description: The service (daemon) name.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: >-
            Successfully retrieved the details of the given NetBackup service on
            the specified host.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_52
                type: object
                properties:
                  data: *ref_16
                required:
                  - data
        '400':
          description: Not supported for Cloud Scale deployment.
        '401': *ref_1
        '404':
          description: >-
            No host exists with the specified host ID or no service exists with
            the specified name.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '406': *ref_2
        '500': *ref_3
        '501':
          description: >-
            Not implemented for hosts with NetBackup release version prior to
            8.2.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '503': *ref_6
    patch:
      description: >
        The operation changes the status of the service on the specified host.

        No errors are reported if the status of a service doesn't change.

        This operation is not atomic. There might be some failures in the change
        of status of the service.


        **NOTE:**\

        This API is not supported for Cloud Scale deployment. It returns a
        response status 400-Bad request 

        http response if you provide a host ID for a Cloud Scale host.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|HOSTS|PROCESSES|`\

        Requires Operation: `|OPERATIONS|UPDATE|`
      tags:
        - Hosts
      parameters:
        - *ref_15
        - *ref_17
      requestBody:
        description: The request body of the change service status request.
        required: true
        content:
          application/vnd.netbackup+json;version=13.0:
            schema: &ref_53
              type: object
              required:
                - data
              properties:
                data:
                  type: object
                  required:
                    - id
                    - type
                    - attributes
                  properties:
                    id:
                      type: string
                      description: The name of service.
                    type:
                      type: string
                      description: The resource type.
                      enum:
                        - service
                    attributes:
                      type: object
                      properties:
                        status:
                          type: string
                          description: The status of the service.
                          enum:
                            - RUNNING
                            - STOPPED
                      required:
                        - status
      responses:
        '202':
          description: Successfully initated the action on the service.
        '400': *ref_11
        '401': *ref_1
        '415': *ref_8
        '500': *ref_3
        '503': *ref_6
  '/admin/discovery/workloads/{workloadType}/start':
    post:
      description: >
        Starts discovery to identify assets and topology for the specified
        workload type.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|RHV|RHVMGR|`\

        OR

        Namespace: `|ASSETS|VMWARE|ESX|`\

        OR

        Namespace: `|ASSETS|VMWARE|VCENTER|`\

        OR

        Namespace: `|ASSETS|VMWARE|RESTORE_ESX|`\ - only discovers topology\

        OR

        Namespace: `|ASSETS|VMWARE|VCLOUD_DIRECTOR|`\

        OR

        Namespace: `|ASSETS|AHV|CLUSTER|`\

        OR

        Namespace: `|ASSETS|SAAS|`\

        OR

        Namespace: `|ASSETS|CLOUD-OBJECT-STORE|`\

        OR

        Namespace: `|ASSETS|POSTGRESQL|`\

        OR

        Namespace: `|ASSETS|MYSQL|`\

        OR

        Namespace: `|ASSETS|CASSANDRA|`\

        OR

        Namespace: `|ASSETS|MONGODB-OPS-MANAGER|`\

        Requires Operation: `|OPERATIONS|UPDATE|`\

        \

        For Kubernetes Workload:\

        Namespace: `|ASSETS|KUBERNETES|CLUSTER|`\

        Requires Operation: `|OPERATIONS|ASSETS|KUBERNETES|CLUSTER|DISCOVER|`\

        OR\

        `|OPERATIONS|ADD|`\

        OR\

        `|OPERATIONS|UPDATE|`\

        \

        For Cloud Workload:\

        Namespace: `|MANAGE|SNAPSHOT-MGMT-SERVER|`\

        Requires Operation: `|OPERATIONS|MANAGE|SNAPSHOT-MGMT-SERVER|DISCOVER|`\

        \

        For StorageArray Workload:\

        Namespace: `|MANAGE|ON-PREMISES-SNAPSHOT-MGMT-SERVERS|PROVIDERS|`\

        Requires Operation:
        `|OPERATIONS|MANAGE|ON-PREMISES-SNAPSHOT-MGMT-SERVERS|PROVIDERS|DISCOVER|`
      tags:
        - Discovery
      parameters:
        - &ref_18
          name: workloadType
          in: path
          description: The workload type.
          required: true
          schema:
            type: string
            enum:
              - vmware
              - rhv
              - cloud
              - ahv
              - kubernetes
              - saas
              - cloud-object-store
              - postgresql
              - mysql
              - storagearray
              - cassandra
              - mongodb-ops-manager
              - kvm
      requestBody:
        description: The request body of the discovery request.
        required: true
        content:
          application/vnd.netbackup+json;version=13.0:
            schema: &ref_54
              description: The discovery request schema.
              type: object
              required:
                - data
              properties:
                data:
                  description: Contains the discovery request data.
                  type: object
                  required:
                    - type
                    - attributes
                  properties:
                    type:
                      description: The resource type.
                      type: string
                      enum:
                        - discoveryRequest
                    attributes:
                      description: The attributes of the discovery request.
                      type: object
                      properties:
                        serverName:
                          type: string
                          description: >
                            The name of the server to perform discovery on.

                            If the workloadSubType for a cloud workload is
                            CLOUD_POINT_SERVER, the value of this field is the
                            Snapshot Manager name.

                            If the workloadSubType for a cloud workload is
                            CONFIGURATION_NAME, the value of this field is the
                            configuration name of the provider.

                            If the workloadSubType for a cloud workload is not
                            provided, the default value of this field is the
                            Snapshot Manager name.


                            Required for the following discovery workloads:
                            vmware, rhv, cloud, ahv, kubernetes, saas,
                            cloud-object-store, postgresql, mysql, storagearray,
                            cassandra, mongodb-ops-manager
                        discoveryHost:
                          type: string
                          description: >
                            The NetBackup host to perform the discovery. For
                            kubernetes workload only the primary server is
                            supported.

                            Optional for the following workloads: vmware, rhv,
                            ahv, kubernetes, saas, cloud-object-store,
                            postgresql, mysql, storagearray, cassandra,
                            mongodb-ops-manager
                        workloadSubType:
                          type: string
                          description: >
                            The subtype as defined by the workload to perform
                            the discovery.

                            For cloud workload, the default value is
                            CLOUD_POINT_SERVER.


                            Optional for the following workloads: cloud, vmware,
                            rhv, ahv, saas, cloud-object-store, postgresql,
                            mysql, cassandra, mongodb-ops-manager
                          enum:
                            - CLOUD_POINT_SERVER
                            - CONFIGURATION_NAME
                            - ARRAY_PLUGIN_DISCOVERY
                            - ARRAY_TOPOLOGY_DISCOVERY
                        workloadSubTypeParams:
                          type: object
                          description: >
                            The parameters defined for a specific workload and
                            workload subtype.

                            The schema of the defined parameters can be referred
                            from `data.attributes.schema` in the response
                            payload of the following API:

                            `GET
                            /admin/discovery/workloads/{workloadType}/workloadSubType/{workloadSubType}/schemas`

                            The workloadSubTypeParams attribute is required for
                            `storagearray` workload.

                            Optional for the following workloads: cloud, vmware,
                            rhv, ahv, saas, cloud-object-store, postgresql,
                            mysql, kubernetes, cassandra, mongodb-ops-manager.
      responses:
        '202':
          description: The discovery request was accepted for processing.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_62
                type: object
                description: The discovery API response schema.
                properties:
                  data:
                    type: object
                    properties:
                      type: &ref_63
                        description: >-
                          The response type that is associated with discovery
                          request.
                        type: string
                        enum:
                          - vmwareDiscovery
                          - rhvDiscovery
                          - cloudDiscovery
                          - ahvDiscovery
                          - kubernetesDiscovery
                          - saasDiscovery
                          - cosDiscovery
                          - postgresqlDiscovery
                          - mysqlDiscovery
                          - storageArrayDiscovery
                          - cassandraDiscovery
                          - mongodbOpsMgrDiscovery
                      id:
                        description: The unique identifier of the discovery request.
                        type: string
                      attributes: &ref_64
                        type: object
                        properties:
                          serverName:
                            description: >
                              The name of the server for which the discovery
                              request was submitted.


                              Applies to the following response types:
                              [vmwareDiscovery, rhvDiscovery, cloudDiscovery,
                              ahvDiscoveryDiscovery, kubernetesDiscovery,
                              saasDiscovery, cosDiscovery, postgresqlDiscovery,
                              mysqlDiscovery, storageArrayDiscovery,
                              cassandraDiscovery, mongodbOpsMgrDiscovery]
                            type: string
                          discoveryHost:
                            description: >
                              The NetBackup host used to perform the discovery.


                              Applies to the following response types:
                              [vmwareDiscovery, rhvDiscovery,
                              ahvDiscoveryDiscovery, saasDiscovery,
                              cosDiscovery, postgresqlDiscovery, mysqlDiscovery,
                              storageArrayDiscovery, cassandraDiscovery,
                              mongodbOpsMgrDiscovery]
                            type: string
                          workloadSubType:
                            description: >
                              description: The subtype as defined by the
                              workload for discovery.

                              Applies to the following response types:
                              [storageArrayDiscovery]
                            type: string
                          workloadSubTypeParams:
                            type: object
                            description: >
                              The parameters defined for a specific workload
                              type and workload subtype.

                              Applies to the following response types:
                              [storageArrayDiscovery]
                    required:
                      - type
                      - id
                      - attributes
                required:
                  - data
        '400': *ref_11
        '401': *ref_1
        '403': &ref_19
          description: Forbidden. An attempt to alter system-defined data was denied.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '404': *ref_7
        '409':
          description: The discovery is already in progress.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '415': *ref_8
        '500': *ref_3
  '/admin/discovery/workloads/{workloadType}/status':
    get:
      description: >
        Gets the discovery status for the specified workload type.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|MANAGE|SNAPSHOT-MGMT-SERVER|`\

        OR

        Namespace: `|ASSETS|RHV|RHVMGR|`\

        OR

        Namespace: `|ASSETS|VMWARE|ESX|`\

        OR

        Namespace: `|ASSETS|VMWARE|VCENTER|`\

        OR

        Namespace: `|ASSETS|VMWARE|RESTORE_ESX|`\ - only discovers topology\

        OR

        Namespace: `|ASSETS|VMWARE|VCLOUD_DIRECTOR|`\

        OR

        Namespace: `|ASSETS|AHV|CLUSTER|`\

        OR

        Namespace: `|ASSETS|KUBERNETES|CLUSTER|`\

        OR

        Namespace: `|ASSETS|SAAS|`\

        OR

        Namespace: `|ASSETS|CLOUD-OBJECT-STORE|`\

        OR

        Namespace: `|ASSETS|POSTGRESQL|`\

        OR

        Namespace: `|ASSETS|MYSQL|`\

        OR

        Namespace: `|MANAGE|ON-PREM-SNAPSHOT-MGMT-SERVERS|`\

        OR

        Namespace: `|ASSETS|CASSANDRA|`\

        OR

        Namespace: `|ASSETS|MONGODB-OPS-MANAGER|`\

        Requires Operation: `|OPERATIONS|VIEW|`
      tags:
        - Discovery
      parameters:
        - *ref_18
        - name: filter
          description: >
            Filter criteria syntax is based on OData standards. Filtering is
            supported on the following attributes:

            |Name|Supported Operators|Description|Schema|

            |---|---|---|---|

            |serverName|eq ne contains, startswith, endswith|The name of the
            server.|string|

            |workloadSubType|eq ne contains, startswith, endswith|The workload
            subtype.|string|

            |discoveryStatus|eq ne|The status of the discovery process.|string|

            |discoveryStartTime|eq ne lt gt le ge|The UTC timestamp of when the
            last attempted discovery started.|date-time|

            |discoveryFinishTime|eq ne lt gt le ge|The UTC timestamp of when the
            last attempted discovery finished.|date-time|

            |lastModifiedDateTime|eq ne lt gt le ge|The UTC timestamp of when
            the entry was updated.|date-time|
          in: query
          required: false
          schema:
            type: string
        - name: 'page[offset]'
          description: The discovery status record number offset.
          in: query
          required: false
          schema:
            type: integer
        - name: 'page[limit]'
          description: The number of records on one page after the offset.
          in: query
          required: false
          schema:
            type: integer
        - name: sort
          description: >-
            Sorts in ascending order on the specified property. Prefix with '-'
            for descending order.
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: The status of the discovery process.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_56
                description: The discovery status response schema.
                required:
                  - data
                type: object
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: object
                        properties:
                          href:
                            type: string
                      next:
                        type: object
                        properties:
                          href:
                            type: string
                      prev:
                        type: object
                        properties:
                          href:
                            type: string
                      first:
                        type: object
                        properties:
                          href:
                            type: string
                      last:
                        type: object
                        properties:
                          href:
                            type: string
                  data:
                    type: array
                    items:
                      type: object
                      required:
                        - attributes
                        - type
                        - id
                      properties:
                        type:
                          type: string
                        id:
                          type: string
                        attributes: &ref_59
                          required:
                            - serverName
                            - workloadType
                            - workloadSubType
                            - discoveryStatus
                            - discoveryStartTime
                            - discoveryFinishTime
                            - lastModifiedDateTime
                          properties:
                            serverName:
                              type: string
                              description: The name of the server.
                            workloadType: &ref_61
                              type: string
                              enum:
                                - VMware
                                - RHV
                                - CLOUD
                                - AHV
                                - Kubernetes
                                - SAAS
                                - CLOUD-OBJECT-STORE
                                - POSTGRESQL
                                - MYSQL
                                - StorageArray
                                - CASSANDRA
                                - MONGODB-OPS-MANAGER
                            workloadSubType:
                              type: string
                              description: The subtype as defined by the workload.
                            discoveryStatus: &ref_60
                              description: The status of the discovery process.
                              type: string
                              enum:
                                - RUNNING
                                - SUCCESS
                                - FAILED
                                - UNKNOWN
                            discoveryStartTime:
                              type: string
                              format: date-time
                              description: >-
                                The UTC timestamp of when the last attempted
                                discovery started.
                            discoveryFinishTime:
                              type: string
                              format: date-time
                              description: >-
                                The UTC timestamp of when the last attempted
                                discovery finished.
                            lastModifiedDateTime:
                              type: string
                              format: date-time
                              description: The UTC timestamp of when the entry was updated.
                            additionalAttributes:
                              type: object
                              description: The attributes specific to the workload.
                              properties:
                                discoveryHost:
                                  type: string
                                  description: >
                                    The NetBackup host used to perform the
                                    discovery.


                                    Applies to the following workloadTypes
                                    types: [VMware, RHV, AHV, Kubernetes, SAAS,
                                    CLOUD-OBJECT-STORE, POSTGRESQL, MYSQL,
                                    CASSANDRA, MONGODB-OPS-MANAGER]
                                discoveryFrequencySeconds:
                                  type: integer
                                  description: >
                                    The frequency (in seconds) at which
                                    automatic discovery is performed.


                                    Applies to the following workloadTypes
                                    types: [VMware, RHV, CLOUD, AHV, Kubernetes,
                                    SAAS, CLOUD-OBJECT-STORE, POSTGRESQL, MYSQL,
                                    StorageArray, CASSANDRA,
                                    MONGODB-OPS-MANAGER]
                                isDiscoveryDisabled:
                                  type: boolean
                                  description: >
                                    Indicates if automatic discovery is
                                    disabled.


                                    Applies to the following workloadTypes
                                    types: [VMware, RHV, CLOUD, AHV, Kubernetes,
                                    SAAS, CLOUD-OBJECT-STORE, POSTGRESQL, MYSQL,
                                    CASSANDRA, MONGODB-OPS-MANAGER]
                                workloadSubTypeParams:
                                  type: object
                                  description: >
                                    The parameters defined for a specific
                                    workload and workload subtype.

                                    Applies to the following workloadTypes
                                    types: [StorageArray]
                  meta:
                    type: object
                    properties:
                      pagination:
                        type: object
                        properties:
                          prev:
                            type: integer
                          next:
                            type: integer
                          first:
                            type: integer
                          last:
                            type: integer
                          count:
                            type: integer
                          page:
                            type: integer
                          offset:
                            type: integer
                          pages:
                            type: integer
                          limit:
                            type: integer
                example:
                  data:
                    - type: discovery-status
                      id: some.server.com
                      attributes:
                        workloadType: VMware
                        discoveryStatus: SUCCESS
                        discoveryStartTime: 2019-02-21T00:48:21.874Z
                        discoveryFinishTime: 2019-02-21T00:48:28.413Z
                        lastModifiedDateTime: 2019-02-21T00:48:28.416Z
                        additionalAttributes:
                          discoveryHost: 10.80.97.207
                          discoveryFrequencySeconds: 301
                          isDiscoveryDisabled: false
                          workloadSubTypeParams: {}
                  meta:
                    pagination:
                      pages: 1
                      last: 0
                      offset: 0
                      limit: 10
                      count: 1
                      page: 0
                      first: 0
                  links:
                    self:
                      href: >-
                        https://some.server.com:1556/netbackup/admin/discovery/workloads/vmware/status?page[offset]=0&page[limit]=10&filter=contains(serverName,'com')
                    last:
                      href: >-
                        https://some.server.com:1556/netbackup/admin/discovery/workloads/vmware/status?page[offset]=0&page[limit]=10&filter=contains(serverName,'com')
                    first:
                      href: >-
                        https://some.server.com:1556/netbackup/admin/discovery/workloads/vmware/status?page[offset]=0&page[limit]=10&filter=contains(serverName,'com')
        '400': *ref_11
        '401': *ref_1
        '403': *ref_19
        '404': *ref_7
        '415': *ref_8
        '500': *ref_3
  '/admin/discovery/workloads/{workloadTypeForAllClientsDiscovery}/allclientsdiscovery':
    post:
      description: >
        To identify list of client host names and start the discovery other than
        for the primary server.


        **Access Control**\

        Enforcement Type:
        [API-Level](http://sort.veritas.com/public/documents/nbu/11.0/windowsandunix/productguides/html/getting-started#user-content-api-level-enforcement)\

        Namespace: `|ASSETS|POSTGRESQL|`\

        OR

        Namespace: `|ASSETS|MYSQL|`\

        Requires Operation: 

        `|OPERATIONS|ADD|`\

        OR\
         `|OPERATIONS|UPDATE|`
      tags:
        - Discovery
      parameters:
        - &ref_20
          name: workloadTypeForAllClientsDiscovery
          in: path
          description: The workload type supported for all clients discovery.
          required: true
          schema:
            type: string
            enum:
              - postgresql
              - mysql
      responses:
        '202':
          description: The discovery request for all clients was accepted for processing.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: &ref_65
                type: object
                description: The discovery API response schema.
                properties:
                  data:
                    type: object
                    properties:
                      type:
                        description: >-
                          The response type that is associated with discovery
                          request.
                        type: string
                        enum:
                          - postgresqlDiscovery
                          - mysqlDiscovery
                      attributes:
                        type: object
                        properties:
                          successMessage:
                            description: |
                              Scheduled discovery triggered successfully.
                            type: string
                    required:
                      - type
                      - attributes
                required:
                  - data
        '400': *ref_11
        '401': *ref_1
        '403': *ref_19
        '404': *ref_7
        '409':
          description: The discovery is already in progress.
          content:
            application/vnd.netbackup+json;version=13.0:
              schema: *ref_0
        '415': *ref_8
        '500': *ref_3
  '/admin/async-requests/{requestId}':
    parameters:
      - name: requestId
        in: path
        required: true
        description: The ID of the async request.
        schema:
          type: string
    get:
      description: >
        Retrieves the status of the asynchronous request specified by
        `requestId`.

        This should be used to poll and track status of asynchronous requests
        that are started by other

        asynchronous APIs. The API that starts the asynchronous API will return
        a `Location` with a value

        directing to this API.  This API supports requests for multiple
        different asynchronous operations,

        but the request ID assigned to each operation is unique for tracking
        each original asynchronous operation.


        **Access Control**\

        The operation and namespace of the API where the specified request
        originated is used to enforce access control.
      tags:
        - Async
      responses:
        '202':
          description: Request is in progress.
          headers:
            Retry-After:
              description: >-
                The time in ISO-8601 format when the results may be checked
                next.
              schema:
                type: string
                format: date-time
        '303':
          description: The request has completed.
          headers:
            Location:
              description: >-
                A link to the results of the asynchronous request specified by
                `requestId`.
              schema:
                type: string
        '401': *ref_1
        '404': *ref_7
        '429':
          description: >
            It is too soon to request a status update. Wait until after the
            Retry-After time before

            resubmitting the request.
          headers:
            Retry-After:
              description: >-
                The time in ISO-8601 format when the results may be checked
                next.
              schema:
                type: string
                format: date-time
        '500': *ref_3
    delete:
      description: >
        Cancels the asynchronous request specified by `requestId`.


        **Access Control**\

        The namespace of the API where the specified request originated is used
        to enforce access control.
      tags:
        - Async
      responses:
        '204':
          description: The request was successfully cancelled.
        '401': *ref_1
        '404': *ref_7
        '409':
          description: >-
            The asynchronous request specified by `requestId` has already
            completed.
        '500': *ref_3
components:
  securitySchemes:
    apiKeyAuth:
      type: apiKey
      in: header
      name: Authorization
    cookieAuth:
      type: apiKey
      in: cookie
      name: Authorization
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  parameters:
    hostId: *ref_15
    hostName:
      name: hostName
      in: path
      description: The host name of the Server.
      required: true
      schema:
        type: string
    serviceName: *ref_17
    workloadType: *ref_18
    workloadSubType:
      name: workloadSubType
      in: path
      description: The workloadSubType type.
      required: true
      schema:
        type: string
        enum:
          - ARRAY_PLUGIN_DISCOVERY
          - ARRAY_TOPOLOGY_DISCOVERY
    workloadTypeForStopDiscovery:
      name: workloadType
      in: path
      description: The workload type supported for stop discovery.
      required: true
      schema:
        type: string
        enum:
          - ahv
          - saas
          - cloud-object-store
          - postgresql
          - mysql
          - cassandra
          - mongodb-ops-manager
    workloadTypeForAllClientsDiscovery: *ref_20
  schemas:
    userOperationLogFiles: *ref_21
    paginationValues: *ref_22
    processListResponse: *ref_23
    manualBackupRequest: *ref_24
    userOperationLogContents: *ref_25
    manualBackupResponse: *ref_26
    backupJob: *ref_27
    deployNowPolicyRequest:
      type: object
      properties:
        data:
          type: object
          properties:
            type:
              type: string
              description: The resource type.
              enum:
                - deployNowPolicyRequest
            attributes:
              type: object
              description: The request for deploy now.
              oneOf:
                - &ref_28
                  type: object
                  description: The request for deploy now using schedule name.
                  properties:
                    scheduleName:
                      type: string
                      description: >-
                        The name of the schedule used to start the deployment
                        job.
                    hostNames:
                      type: array
                      items:
                        type: string
                      description: >-
                        The names of hosts to deploy on. The default will be all
                        hosts if none are specified.
                      minItems: 0
                      uniqueItems: true
                  additionalProperties: false
                  required:
                    - scheduleName
                - &ref_29
                  type: object
                  description: The request for deploy now using deployment operation type.
                  properties:
                    deploymentOperationType:
                      type: string
                      description: >-
                        The operation to perform when executing the deployment
                        job.
                      enum:
                        - INSTALL
                        - PRECHECK
                        - STAGE
                    hostNames:
                      type: array
                      items:
                        type: string
                      description: >-
                        The names of hosts to deploy on. The default will be all
                        hosts if none are specified.
                      minItems: 0
                      uniqueItems: true
                  additionalProperties: false
                  required:
                    - deploymentOperationType
          required:
            - type
            - attributes
      required:
        - data
    deployNowPolicyRequestScheduleName: *ref_28
    deployNowPolicyRequestOperationType: *ref_29
    deployNowNonPolicyRequest: *ref_30
    deploymentSecurityOption: *ref_31
    deploymentUseExisting: *ref_32
    deploymentECA: *ref_33
    deploymentUnixEcaConfig: *ref_34
    deploymentWindowsEcaConfig: *ref_35
    deploymentFileBasedCertificateConfig: *ref_14
    deploymentWinCertificateStoreConfig: *ref_36
    deploymentWinFileBasedCertificateConfig: *ref_37
    deploymentEcaCrlCheckLevel: *ref_12
    deploymentEcaCrlPath: *ref_13
    deployNowResponse: *ref_38
    restartedJobIdGetResponse: *ref_39
    getJobByIdResponse: *ref_40
    getJobsResponse: *ref_41
    getJobProgressLogsResponse: *ref_42
    getJobProgressEntryResponse: *ref_43
    getJobTryLogsResponse: *ref_44
    getIndividualTryResponse: *ref_45
    getJobTryAttemptResponse: *ref_9
    getJobFileListResponse: *ref_46
    getJobDetailsResponse: *ref_4
    jobPostRequest:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              description: The resource type.
              type: string
              enum:
                - jobRequest
            attributes:
              type: object
              required:
                - jobData
              properties:
                jobData: &ref_48
                  type: object
                  required:
                    - jobType
                    - jobSubType
                  properties:
                    jobType:
                      type: string
                      description: The job type.
                      enum:
                        - INSTANT_ACCESS
                    jobSubType:
                      type: string
                      description: The job subtype.
                      enum:
                        - IA_CREATE_VM
                        - IA_DELETE_VM
                        - IA_CREATE_MOUNT
                        - IA_DELETE_MOUNT
                        - IA_FILE_RESTORE
                        - IA_GET_DOWNLOAD_URL
                        - IA_ATTACH_DATABASE
                        - IA_DETACH_DATABASE
                    policyType:
                      type: string
                      description: >-
                        The type of backup policy that is associated with the
                        job.
                      enum:
                        - MS-SQL-SERVER
                        - VMWARE
                    jobGroup:
                      type: string
                      description: The name of the group that initiated the job.
                    jobOwner:
                      type: string
                      description: The job owner or the user that initiated the job.
                    auditUserName:
                      type: string
                      description: The user name in the audit record.
                    auditDomainName:
                      type: string
                      description: The domain name in the audit record.
                    auditDomainType:
                      type: integer
                      description: The domain type in the audit record.
                    restartable:
                      type: boolean
                      default: false
                      description: Indicates if the job can be restarted.
                    cancellable:
                      type: boolean
                      default: false
                      description: Indicates if the job can be stopped.
                    resumable:
                      type: boolean
                      default: false
                      description: Indicates if the job can be resumed.
                    suspendable:
                      type: boolean
                      default: false
                      description: Indicates if the job can be suspended.
                    controlHost:
                      type: string
                      description: The host from which the job was initiated.
                    sourceMediaServerName:
                      type: string
                      description: The name of the source media server.
                    destinationMediaServerName:
                      type: string
                      description: The name of the destination media server.
                jobUpdateData: &ref_47
                  type: object
                  properties:
                    restoreBackupIDs:
                      description: >-
                        The identifier for the backup image that was used for
                        the restore.
                      type: array
                      items:
                        type: string
                    startTime:
                      type: string
                      format: date-time
                      description: The UTC timestamp for when the job was started.
                    endTime:
                      type: string
                      format: date-time
                      description: The UTC timestamp for when the job ended.
                    activeTryStartTime:
                      type: string
                      description: A UTC timestamp for when the current try started.
                    lastUpdateTime:
                      type: string
                      format: date-time
                      description: The UTC timestamp for when the job was modified.
                    state:
                      type: string
                      description: The current state of the job.
                      enum:
                        - QUEUED
                        - ACTIVE
                        - REQUEUED
                        - DONE
                        - SUSPENDED
                        - INCOMPLETE
                    status:
                      type: integer
                      description: The final job status code.
                    newTry:
                      type: boolean
                      default: false
                      description: Indicates if a new try log should be started.
                    endTry:
                      type: boolean
                      default: false
                      description: Indicates if the current try log should end.
                    startTrack:
                      type: boolean
                      default: true
                      description: If set to true bpjobd will track the job.
                    stopTrack:
                      type: boolean
                      default: false
                      description: Indicates if bpjobd will stop tracking the job.
                    done:
                      type: boolean
                      default: false
                      description: Indicates if bpjobd will track the job.
                    tryLogList: &ref_49
                      type: object
                      required:
                        - data
                      properties:
                        data:
                          type: array
                          items: &ref_50
                            type: object
                            description: The try log entry for the type 'LOG'.
                            required:
                              - timestamp
                              - severity
                              - program
                              - pid
                              - message
                            properties:
                              timestamp:
                                type: string
                                format: date-time
                                description: >-
                                  The UTC timestamp of when the try log entry
                                  was created.
                              severity:
                                type: string
                                description: The severity of the log message.
                                enum:
                                  - UNKNOWN
                                  - DEBUG
                                  - INFO
                                  - WARNING
                                  - ERROR
                                  - CRITICAL
                              program:
                                type: string
                                description: The name of the process or program.
                              pid:
                                type: integer
                                description: The process ID.
                              message:
                                type: string
                                description: The log message.
                    fileList:
                      type: array
                      items:
                        type: string
    jobPatchRequest:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - id
            - attributes
          properties:
            type:
              description: The resource type.
              type: string
              enum:
                - jobRequest
            id:
              type: string
              description: The job identifier.
            attributes:
              type: object
              required:
                - jobUpdateData
              properties:
                jobUpdateData: *ref_47
    jobData: *ref_48
    jobUpdateData: *ref_47
    tryLogList: *ref_49
    tryLogLOGEntry: *ref_50
    serviceListResponse: *ref_51
    serviceResponse: *ref_52
    changeServiceStatusRequest: *ref_53
    serviceDetails: *ref_16
    discoveryRequest: *ref_54
    discoveryStopRequest:
      description: The stop discovery request schema.
      type: object
      required:
        - data
      properties:
        data:
          description: Contains the stop discovery request data.
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              description: The resource type.
              type: string
              enum:
                - discoveryStopRequest
            attributes:
              description: The attributes of the stop discovery request.
              type: object
              required:
                - serverName
              properties:
                serverName:
                  type: string
                  description: |
                    The name of the server to stop discovery on.
    workloadDiscoverySchema:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              description: The resource type.
              type: string
              enum:
                - workloadDiscoverySchema
            attributes: &ref_55
              required:
                - schemaDefinitions
              properties:
                schemaDefinitions:
                  type: array
                  description: >-
                    The schema definitions defining the parameters required for
                    workload discovery.
                  items:
                    type: object
    discoverySchema: *ref_55
    discoveryStatusPage: *ref_56
    jobCountRequest: *ref_57
    getJobsCountResponse: *ref_58
    getJobsCacheDiagnosticsResponse:
      properties:
        data:
          type: object
          required:
            - type
            - id
            - attributes
          properties:
            type:
              type: string
              enum:
                - jobCacheDiagnostics
            id:
              type: string
            attributes:
              type: object
              properties:
                missingParentCount:
                  type: integer
                  format: int64
                  description: >-
                    The number of parent jobs that are referenced but not found
                    in the cache.
                parentsChangedAfterInsert:
                  type: integer
                  format: int64
                  description: >-
                    The number of jobs whose parent changed after they were
                    inserted into the cache.
                jobDbCount:
                  type: integer
                  format: int64
                  description: The number of jobs in the jobd database.
                cacheDbCount:
                  type: integer
                  format: int64
                  description: The number of jobs in the cache database.
                cacheLoading:
                  type: boolean
                  description: If the cache is currently being initialized.
                queuedActionCount:
                  type: integer
                  format: int64
                  description: >-
                    The number of jobs with queued actions in
                    JobProcessScheduler.
                deletedJobCount:
                  type: integer
                  format: int64
                  description: The number of jobs we are currently remembering as deleted.
                asyncResultCount:
                  type: integer
                  format: int64
                  description: >-
                    The number of jobs in the asyncResult map in
                    JobProcessScheduler.
                incompleteNamespaceCalculationCount:
                  type: integer
                  format: int64
                  description: >-
                    A rough count of namespaces calculation actions scheduled
                    and not complete.
                incompleteNamespacePersistCount:
                  type: integer
                  format: int64
                  description: >-
                    The number of namespace persist actions scheduled and not
                    complete.
                initializationDuration:
                  type: integer
                  format: int64
                  description: >-
                    The amount of time it took to initialize the cache db and
                    job hierarchy map in seconds.
                namespaceCalculationDuration:
                  type: integer
                  format: int64
                  description: >-
                    The amount of time it took to calculate namespaces after
                    initialization started in seconds.
                namespacePersistDuration:
                  type: integer
                  format: int64
                  description: >-
                    The amount of time it took to persist namespaces after
                    initialization started in seconds.
                adminTaskExecutorScheduledCount:
                  type: integer
                  format: int64
                  description: The number of tasks scheduled for the adminTaskExecutor.
                adminTaskExecutorCompletedCount:
                  type: integer
                  format: int64
                  description: The number of tasks completed by the adminTaskExecutor.
                adminTaskExecutorActiveCount:
                  type: integer
                  format: int64
                  description: >-
                    The number of tasks that are currently being executed for
                    the adminTaskExecutor.
                adminNamespaceTaskExecutorScheduledCount:
                  type: integer
                  format: int64
                  description: >-
                    The number of tasks scheduled for the
                    adminNamespaceTaskExecutor.
                adminNamespaceTaskExecutorCompletedCount:
                  type: integer
                  format: int64
                  description: >-
                    The number of tasks completed by the
                    adminNamespaceTaskExecutor.
                adminNamespaceTaskExecutorActiveCount:
                  type: integer
                  format: int64
                  description: >-
                    The number of tasks that are currently being executed for
                    the adminNamespaceTaskExecutor.
    getDiscoveryStatusResponse: *ref_59
    discoveryStatus: *ref_60
    workloadName: *ref_61
    discoveryResponse: *ref_62
    stopDiscoveryResponse:
      type: object
      description: The discovery API response schema.
      properties:
        data:
          type: object
          properties:
            type:
              description: The response type that is associated with discovery request.
              type: string
              enum:
                - ahvStopDiscovery
                - saasStopDiscovery
                - cosStopDiscovery
                - postgresqlStopDiscovery
                - mysqlStopDiscovery
                - cassandraStopDiscovery
                - mongodbOpsMgrStopDiscovery
            id:
              description: The unique identifier of the discovery request.
              type: string
            attributes:
              type: object
              properties:
                serverName:
                  description: >
                    The name of the server for which the discovery request was
                    submitted.
                  type: string
          required:
            - type
            - id
            - attributes
      required:
        - data
    discoveryResponseTypes: *ref_63
    discoveryResponseAttributes: *ref_64
    allclientsdiscoveryResponse: *ref_65
  examples:
    deployNowPolicyRequestScheduleName:
      summary: Use schedule name
      value:
        data:
          type: deployNowPolicyRequest
          attributes:
            hostNames:
              - target hostname 1
              - target hostname 2
            scheduleName: schedule 1
    deployNowPolicyRequestOperationType:
      summary: Use operation type
      value:
        data:
          type: deployNowPolicyRequest
          attributes:
            hostNames:
              - target hostname 1
              - target hostname 2
            deploymentOperationType: INSTALL
    deployNowECAWinFileBased: *ref_66
    deployNowECAWinCertStore: *ref_67
    deployNowUseExising: *ref_68
security:
  - apiKeyAuth: []
  - cookieAuth: []
  - jwtAuth: []
